var pf={log:function(){},stat:function(){},toggle:function(){}};!function(f,a,c){var s,l=256,p="random",d=c.pow(l,6),g=c.pow(2,52),y=2*g,h=l-1;function n(n,t,r){function e(){for(var n=u.g(6),t=d,r=0;n<g;)n=(n+r)*l,t*=l,r=u.g(1);for(;y<=n;)n/=2,t/=2,r>>>=1;return(n+r)/t}var o=[],i=j(function n(t,r){var e,o=[],i=typeof t;if(r&&"object"==i)for(e in t)try{o.push(n(t[e],r-1))}catch(n){}return o.length?o:"string"==i?t:t+"\0"}((t=1==t?{entropy:!0}:t||{}).entropy?[n,S(a)]:null==n?function(){try{var n;return s&&(n=s.randomBytes)?n=n(l):(n=new Uint8Array(l),(f.crypto||f.msCrypto).getRandomValues(n)),S(n)}catch(n){var t=f.navigator,r=t&&t.plugins;return[+new Date,f,r,f.screen,S(a)]}}():n,3),o),u=new m(o);return e.int32=function(){return 0|u.g(4)},e.quick=function(){return u.g(4)/4294967296},e.double=e,j(S(u.S),a),(t.pass||r||function(n,t,r,e){return e&&(e.S&&v(e,u),n.state=function(){return v(u,{})}),r?(c[p]=n,t):n})(e,i,"global"in t?t.global:this==c,t.state)}function m(n){var t,r=n.length,u=this,e=0,o=u.i=u.j=0,i=u.S=[];for(r||(n=[r++]);e<l;)i[e]=e++;for(e=0;e<l;e++)i[e]=i[o=h&o+n[e%r]+(t=i[e])],i[o]=t;(u.g=function(n){for(var t,r=0,e=u.i,o=u.j,i=u.S;n--;)t=i[e=h&e+1],r=r*l+i[h&(i[e]=i[o=h&o+t])+(i[o]=t)];return u.i=e,u.j=o,r})(l)}function v(n,t){return t.i=n.i,t.j=n.j,t.S=n.S.slice(),t}function j(n,t){for(var r,e=n+"",o=0;o<e.length;)t[h&o]=h&(r^=19*t[h&o])+e.charCodeAt(o++);return S(t)}function S(n){return String.fromCharCode.apply(0,n)}if(j(c.random(),a),"object"==typeof module&&module.exports){module.exports=n;try{s=require("crypto")}catch(n){}}else"function"==typeof define&&define.amd?define(function(){return n}):c["seed"+p]=n}("undefined"!=typeof self?self:this,[],Math);// Native JavaScript for Bootstrap v4.1.4 | 2023 © dnp_theme | MIT-License
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).BSN=e()}(this,(function(){"use strict";const{head:t}=document,e="webkitTransition"in t.style||"transition"in t.style,i="webkitTransition"in t.style?"webkitTransitionEnd":"transitionend",s="webkitTransition"in t.style?"webkitTransitionDelay":"transitionDelay",n="webkitTransition"in t.style?"webkitTransitionProperty":"transitionProperty";function o(t,e){const i=getComputedStyle(t);return e.includes("--")?i.getPropertyValue(e):i[e]}const a="webkitTransition"in t.style?"webkitTransitionDuration":"transitionDuration";function l(t){const i=o(t,n),s=o(t,a),l=s.includes("ms")?1:1e3,c=e&&i&&"none"!==i?parseFloat(s)*l:0;return Number.isNaN(c)?0:c}function c(t,a){let c=0;const r=new Event(i),d=l(t),u=function(t){const i=o(t,n),a=o(t,s),l=a.includes("ms")?1:1e3,c=e&&i&&"none"!==i?parseFloat(a)*l:0;return Number.isNaN(c)?0:c}(t);if(e&&d){const e=s=>{s.target===t&&(a.apply(t,[s]),t.removeEventListener(i,e),c=1)};t.addEventListener(i,e),setTimeout(()=>{c||((t,e)=>{t.dispatchEvent(e)})(t,r)},d+u+17)}else a.apply(t,[r])}const r=t=>t&&[1,2,3,4,5,6,7,8,9,10,11].some(e=>+t.nodeType===e)||!1;function d(t){return(e=t)&&9===e.nodeType?t:r(t)?t.ownerDocument:(t=>t&&"Window"===t.constructor.name||!1)(t)?t.document:window.document;var e}function u(t,e){if(r(t))return t;return(r(e)?e:d()).querySelector(t)}function m(t,e,i){const s=new CustomEvent(`${t}.bs.${e}`,{cancelable:!0});return void 0!==i&&Object.keys(i).forEach(t=>{Object.defineProperty(s,t,{value:i[t]})}),s}function h(t){this&&this.dispatchEvent(t)}function g(t){let e;const i=this;let s;const n=m("close","alert"),o=m("closed","alert");function a(t){e[t?"addEventListener":"removeEventListener"]("click",l,!1)}function l(t){s=t&&t.target.closest(".alert"),e=u('[data-dismiss="alert"]',s),e&&s&&(e===t.target||e.contains(t.target))&&i.close()}function r(){a(),s.parentNode.removeChild(s),h.call(s,o)}i.close=()=>{if(s&&e&&s.classList.contains("show")){if(h.call(s,n),n.defaultPrevented)return;i.dispose(),s.classList.remove("show"),s.classList.contains("fade")?c(s,r):r()}},i.dispose=()=>{a(),delete e.Alert},e=u(t),s=e.closest(".alert"),e.Alert&&e.Alert.dispose(),e.Alert||a(1),i.element=e,e.Alert=i}function p(t){let e;let i;const s=m("change","button");function n(t){const n=t.target,o=n.closest("LABEL");let a=null;"LABEL"===n.tagName?a=n:o&&(a=o);const l=a&&a.getElementsByTagName("INPUT")[0];if(l){if(h.call(l,s),h.call(e,s),"checkbox"===l.type){if(s.defaultPrevented)return;l.checked?(a.classList.remove("active"),l.getAttribute("checked"),l.removeAttribute("checked"),l.checked=!1):(a.classList.add("active"),l.getAttribute("checked"),l.setAttribute("checked","checked"),l.checked=!0),e.toggled||(e.toggled=!0)}if("radio"===l.type&&!e.toggled){if(s.defaultPrevented)return;(!l.checked||0===t.screenX&&0===t.screenY)&&(a.classList.add("active"),a.classList.add("focus"),l.setAttribute("checked","checked"),l.checked=!0,e.toggled=!0,Array.from(i).forEach(t=>{const e=t.getElementsByTagName("INPUT")[0];t!==a&&t.classList.contains("active")&&(h.call(e,s),t.classList.remove("active"),e.removeAttribute("checked"),e.checked=!1)}))}setTimeout(()=>{e.toggled=!1},50)}}function o(t){32===(t.which||t.keyCode)&&t.target===document.activeElement&&n(t)}function a(t){32===(t.which||t.keyCode)&&t.preventDefault()}function l(t){if("INPUT"===t.target.tagName){const e="focusin"===t.type?"add":"remove";t.target.closest(".btn").classList[e]("focus")}}function c(t){const i=t?"addEventListener":"removeEventListener";e[i]("click",n,!1),e[i]("keyup",o,!1),e[i]("keydown",a,!1),e[i]("focusin",l,!1),e[i]("focusout",l,!1)}this.dispose=()=>{c(),delete e.Button},e=u(t),e.Button&&e.Button.dispose(),i=e.getElementsByClassName("btn"),i.length&&(e.Button||c(1),e.toggled=!1,e.Button=this,Array.from(i).forEach(t=>{const e=u("input:checked",t);!t.classList.contains("active")&&e&&t.classList.add("active"),t.classList.contains("active")&&!e&&t.classList.remove("active")}))}const f="onmouseleave"in document?["mouseenter","mouseleave"]:["mouseover","mouseout"],v={passive:!0};const L=t=>{if(!t||!r(t))return!1;const{top:e,bottom:i}=function(t,e){const{width:i,height:s,top:n,right:o,bottom:a,left:l}=t.getBoundingClientRect();let c=1,r=1;if(e&&(t=>t&&1===t.nodeType||!1)(t)){const{offsetWidth:e,offsetHeight:n}=t;c=e>0?Math.round(i)/e:1,r=n>0?Math.round(s)/n:1}return{width:i/c,height:s/r,top:n/r,right:o/c,bottom:a/r,left:l/c,x:l/c,y:n/r}}(t),{clientHeight:s}=d(t).documentElement;return e<=s&&i>=0},b=t=>t.offsetHeight;function y(t,e){let i;const s=e||{},n=this;let o,a,r,d,g,p,y,w,A;function T(){!1===a.interval||i.classList.contains("paused")||(i.classList.add("paused"),o.isSliding||(clearInterval(o.timer),o.timer=null))}function E(){!1!==a.interval&&i.classList.contains("paused")&&(i.classList.remove("paused"),o.isSliding||(clearInterval(o.timer),o.timer=null,n.cycle()))}function k(t){if(t.preventDefault(),o.isSliding)return;const e=t.target;e&&!e.classList.contains("active")&&e.getAttribute("data-slide-to")&&(o.index=+e.getAttribute("data-slide-to"),n.slideTo(o.index))}function x(t){if(t.preventDefault(),o.isSliding)return;const e=t.currentTarget||t.srcElement;e===y?o.index+=1:e===p&&(o.index-=1),n.slideTo(o.index)}function N({which:t}){if(!o.isSliding){switch(t){case 39:o.index+=1;break;case 37:o.index-=1;break;default:return}n.slideTo(o.index)}}function C(t){const e=t?"addEventListener":"removeEventListener";a.pause&&a.interval&&(i[e](f[0],T,!1),i[e](f[1],E,!1),i[e]("touchstart",T,v),i[e]("touchend",E,v)),a.touch&&g.length>1&&i[e]("touchstart",H,v),y&&y[e]("click",x,!1),p&&p[e]("click",x,!1),w&&w[e]("click",k,!1),a.keyboard&&window[e]("keydown",N,!1)}function P(t){const e=t?"addEventListener":"removeEventListener";i[e]("touchmove",S,v),i[e]("touchend",B,v)}function H(t){o.isTouch||(o.touchPosition.startX=t.changedTouches[0].pageX,i.contains(t.target)&&(o.isTouch=!0,P(1)))}function S(t){o.isTouch?(o.touchPosition.currentX=t.changedTouches[0].pageX,"touchmove"===t.type&&t.changedTouches.length>1&&t.preventDefault()):t.preventDefault()}function B(t){if(o.isTouch&&!o.isSliding&&(o.touchPosition.endX=o.touchPosition.currentX||t.changedTouches[0].pageX,o.isTouch)){if((!i.contains(t.target)||!i.contains(t.relatedTarget))&&Math.abs(o.touchPosition.startX-o.touchPosition.endX)<75)return;o.touchPosition.currentX<o.touchPosition.startX?o.index+=1:o.touchPosition.currentX>o.touchPosition.startX&&(o.index-=1),o.isTouch=!1,n.slideTo(o.index),P()}}function M(t){Array.from(A).forEach(t=>t.classList.remove("active")),A[t]&&A[t].classList.add("active")}function I(t){if(o.touchPosition){const e=o.index,s=t&&t.target!==g[e]?1e3*t.elapsedTime+100:20,l=n.getActiveIndex(),c="left"===o.direction?"next":"prev";o.isSliding&&setTimeout(()=>{o.touchPosition&&(o.isSliding=!1,g[e].classList.add("active"),g[l].classList.remove("active"),g[e].classList.remove("carousel-item-"+c),g[e].classList.remove("carousel-item-"+o.direction),g[l].classList.remove("carousel-item-"+o.direction),h.call(i,d),document.hidden||!a.interval||i.classList.contains("paused")||n.cycle())},s)}}if(n.cycle=()=>{o.timer&&(clearInterval(o.timer),o.timer=null),o.timer=setInterval(()=>{let t=o.index||n.getActiveIndex();L(i)&&(t+=1,n.slideTo(t))},a.interval)},n.slideTo=t=>{if(o.isSliding)return;const e=n.getActiveIndex();let s=t;if(e===s)return;e<s||0===e&&s===g.length-1?o.direction="left":(e>s||e===g.length-1&&0===s)&&(o.direction="right"),s<0?s=g.length-1:s>=g.length&&(s=0);const u="left"===o.direction?"next":"prev",p={relatedTarget:g[s],direction:o.direction,from:e,to:s};r=m("slide","carousel",p),d=m("slid","carousel",p),h.call(i,r),r.defaultPrevented||(o.index=s,o.isSliding=!0,clearInterval(o.timer),o.timer=null,M(s),l(g[s])&&i.classList.contains("slide")?(g[s].classList.add("carousel-item-"+u),b(g[s]),g[s].classList.add("carousel-item-"+o.direction),g[e].classList.add("carousel-item-"+o.direction),c(g[s],I)):(g[s].classList.add("active"),b(g[s]),g[e].classList.remove("active"),setTimeout(()=>{o.isSliding=!1,a.interval&&i&&!i.classList.contains("paused")&&n.cycle(),h.call(i,d)},100)))},n.getActiveIndex=()=>Array.from(g).indexOf(i.getElementsByClassName("carousel-item active")[0])||0,n.dispose=()=>{const t=["left","right","prev","next"];Array.from(g).forEach((e,i)=>{e.classList.contains("active")&&M(i),t.forEach(t=>e.classList.remove("carousel-item-"+t))}),clearInterval(o.timer),C(),o={},a={},delete i.Carousel},i=u(t),i.Carousel&&i.Carousel.dispose(),g=i.getElementsByClassName("carousel-item"),[p]=i.getElementsByClassName("carousel-control-prev"),[y]=i.getElementsByClassName("carousel-control-next"),[w]=i.getElementsByClassName("carousel-indicators"),A=w&&w.getElementsByTagName("LI")||[],g.length<2)return;const D=i.getAttribute("data-interval"),X="false"===D?0:+D,R="false"===i.getAttribute("data-touch")?0:1,W="hover"===i.getAttribute("data-pause")||!1,O="true"===i.getAttribute("data-keyboard")||!1,j=s.interval,z=s.touch;a={},a.keyboard=!0===s.keyboard||O,a.pause=!("hover"!==s.pause&&!W)&&"hover",a.touch=z||R,a.interval=5e3,"number"==typeof j?a.interval=j:!1===j||0===X||!1===X?a.interval=0:Number.isNaN(X)||(a.interval=X),n.getActiveIndex()<0&&(g.length&&g[0].classList.add("active"),A.length&&M(0)),o={},o.direction="left",o.index=0,o.timer=null,o.isSliding=!1,o.isTouch=!1,o.touchPosition={startX:0,currentX:0,endX:0},C(1),a.interval&&n.cycle(),i.Carousel=n}function w(t,e){let i;const s=e||{},n=this;let o,a,l,r,d,g,p=null,f=null;function v(t,e){h.call(t,d),d.defaultPrevented||(t.isAnimating=!0,t.style.height=t.scrollHeight+"px",t.classList.remove("collapse"),t.classList.remove("show"),t.classList.add("collapsing"),b(t),t.style.height="0px",c(t,()=>{t.isAnimating=!1,t.setAttribute("aria-expanded","false"),e.setAttribute("aria-expanded","false"),t.classList.remove("collapsing"),t.classList.add("collapse"),t.style.height="",h.call(t,g)}))}n.toggle=t=>{(t&&"A"===t.target.tagName||"A"===i.tagName)&&t.preventDefault(),(i.contains(t.target)||t.target===i)&&(f.classList.contains("show")?n.hide():n.show())},n.hide=()=>{f.isAnimating||(v(f,i),i.classList.add("collapsed"))},n.show=()=>{var t,e;p&&([o]=p.getElementsByClassName("collapse show"),a=o&&(u(`[data-target="#${o.id}"]`,p)||u(`[href="#${o.id}"]`,p))),f.isAnimating||(a&&o!==f&&(v(o,a),a.classList.add("collapsed")),t=f,e=i,h.call(t,l),l.defaultPrevented||(t.isAnimating=!0,t.classList.add("collapsing"),t.classList.remove("collapse"),t.style.height=t.scrollHeight+"px",c(t,()=>{t.isAnimating=!1,t.setAttribute("aria-expanded","true"),e.setAttribute("aria-expanded","true"),t.classList.remove("collapsing"),t.classList.add("collapse"),t.classList.add("show"),t.style.height="",h.call(t,r)})),i.classList.remove("collapsed"))},n.dispose=()=>{i.removeEventListener("click",n.toggle,!1),delete i.Collapse},i=u(t),i.Collapse&&i.Collapse.dispose();const L=i.getAttribute("data-parent");l=m("show","collapse"),r=m("shown","collapse"),d=m("hide","collapse"),g=m("hidden","collapse"),f=u(s.target||i.getAttribute("data-target")||i.getAttribute("href")),null!==f&&(f.isAnimating=!1);const y=s.parent||L;p=y?i.closest(y):null,i.Collapse||i.addEventListener("click",n.toggle,!1),i.Collapse=n}const A=t=>t.focus();function T(t,e){let i;const s=this;let n,o,a,l,c,r,d=null;const g=[];let p;function f(t){(t.hasAttribute("href")&&"#"===t.getAttribute("href").slice(-1)||t.parentNode&&t.parentNode.hasAttribute("href")&&"#"===t.parentNode.getAttribute("href").slice(-1))&&this.preventDefault()}function v(){const t=i.open?"addEventListener":"removeEventListener";document[t]("click",L,!1),document[t]("keydown",y,!1),document[t]("keyup",w,!1),document[t]("focus",L,!1)}function L(t){const e=t.target;if(!e.getAttribute)return;const n=e&&e.getAttribute("data-toggle")||e.parentNode&&e.parentNode.getAttribute&&e.parentNode.getAttribute("data-toggle");("focus"!==t.type||e!==i&&e!==r&&!r.contains(e))&&(e!==r&&!r.contains(e)||!p&&!n)&&(d=e===i||i.contains(e)?i:null,s.hide(),f.call(t,e))}function b(t){d=i,s.show(),f.call(t,t.target)}function y(t){const e=t.which||t.keyCode;38!==e&&40!==e||t.preventDefault()}function w(t){const e=t.which||t.keyCode,n=document.activeElement,o=n===i,a=r.contains(n),l=n.parentNode===r||n.parentNode.parentNode===r;let c=g.indexOf(n);l&&(o?c=0:38===e?c=c>1?c-1:0:40===e&&(c=c<g.length-1?c+1:c),g[c]&&A(g[c])),(g.length&&l||!g.length&&(a||o)||!a)&&i.open&&27===e&&(s.toggle(),d=null)}s.show=()=>{n=m("show","dropdown",{relatedTarget:d}),h.call(c,n),n.defaultPrevented||(r.classList.add("show"),c.classList.add("show"),i.setAttribute("aria-expanded",!0),i.open=!0,i.removeEventListener("click",b,!1),setTimeout(()=>{A(r.getElementsByTagName("INPUT")[0]||i),v(),o=m("shown","dropdown",{relatedTarget:d}),h.call(c,o)},1))},s.hide=()=>{a=m("hide","dropdown",{relatedTarget:d}),h.call(c,a),a.defaultPrevented||(r.classList.remove("show"),c.classList.remove("show"),i.setAttribute("aria-expanded",!1),i.open=!1,v(),A(i),setTimeout(()=>{i.Dropdown&&i.addEventListener("click",b,!1)},1),l=m("hidden","dropdown",{relatedTarget:d}),h.call(c,l))},s.toggle=()=>{c.classList.contains("show")&&i.open?s.hide():s.show()},s.dispose=()=>{c.classList.contains("show")&&i.open&&s.hide(),i.removeEventListener("click",b,!1),delete i.Dropdown},i=u(t),i.Dropdown&&i.Dropdown.dispose(),c=i.parentNode,r=u(".dropdown-menu",c),Array.from(r.children).forEach(t=>{t.children.length&&"A"===t.children[0].tagName&&g.push(t.children[0]),"A"===t.tagName&&g.push(t)}),i.Dropdown||("tabindex"in r||r.setAttribute("tabindex","0"),i.addEventListener("click",b,!1)),p=!0===e||"true"===i.getAttribute("data-persist")||!1,i.open=!1,i.Dropdown=s}function E(t,e){let i;const s=e||{},n=this;let o,a,r,d,g,p,f,L,y,w=null;const T={};function E(){const t=document.body.classList.contains("modal-open"),e=parseInt(getComputedStyle(document.body).paddingRight,10),i=document.documentElement.clientHeight,s=document.documentElement.scrollHeight,n=document.body.clientHeight,a=document.body.scrollHeight,l=i!==s||n!==a,c=o.clientHeight!==o.scrollHeight;p=function(){const t=document.createElement("div");t.className="modal-scrollbar-measure",document.body.appendChild(t);const e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),e}(),o.style.paddingRight=!c&&p?p+"px":"",document.body.style.paddingRight=c||l?e+(t?0:p)+"px":"",y.length&&y.forEach(e=>{const i=getComputedStyle(e).paddingRight;e.style.paddingRight=c||l?parseInt(i,10)+(t?0:p)+"px":parseInt(i,10)+"px"})}function k(){f=u(".modal-backdrop"),f&&!document.getElementsByClassName("modal show")[0]&&(document.body.removeChild(f),f=null),null===f&&(document.body.classList.remove("modal-open"),document.body.style.paddingRight="",o.style.paddingRight="",y.length&&y.forEach(t=>{t.style.paddingRight=""}))}function x(t){const e=t?"addEventListener":"removeEventListener";window[e]("resize",n.update,v),o[e]("click",B,!1),document[e]("keydown",S,!1)}function N(){o.style.display="block",E(),document.getElementsByClassName("modal show")[0]||document.body.classList.add("modal-open"),o.classList.add("show"),o.setAttribute("aria-hidden",!1),o.classList.contains("fade")?c(o,C):C()}function C(){A(o),o.isAnimating=!1,x(1),r=m("shown","modal",{relatedTarget:w}),h.call(o,r)}function P(t){o.style.display="",i&&A(i),f=u(".modal-backdrop"),1!==t&&f&&f.classList.contains("show")&&!document.getElementsByClassName("modal show")[0]?(f.classList.remove("show"),c(f,k)):k(),x(),o.isAnimating=!1,g=m("hidden","modal"),h.call(o,g)}function H(t){if(o.isAnimating)return;const e=t.target,s="#"+o.getAttribute("id"),a=e.getAttribute("data-target")||e.getAttribute("href"),l=i.getAttribute("data-target")||i.getAttribute("href");!o.classList.contains("show")&&(e===i&&a===s||i.contains(e)&&l===s)&&(o.modalTrigger=i,w=i,n.show(),t.preventDefault())}function S({which:t}){!o.isAnimating&&T.keyboard&&27===t&&o.classList.contains("show")&&n.hide()}function B(t){if(o.isAnimating)return;const e=t.target,i="modal"===e.getAttribute("data-dismiss"),s=e.closest('[data-dismiss="modal"]');o.classList.contains("show")&&(s||i||e===o&&"static"!==T.backdrop)&&(n.hide(),w=null,t.preventDefault())}n.toggle=()=>{o.classList.contains("show")?n.hide():n.show()},n.show=()=>{if(o.classList.contains("show")&&o.isAnimating)return;if(a=m("show","modal",{relatedTarget:w}),h.call(o,a),a.defaultPrevented)return;o.isAnimating=!0;const t=document.getElementsByClassName("modal show")[0];t&&t!==o&&(t.modalTrigger&&t.modalTrigger.Modal.hide(),t.Modal&&t.Modal.hide()),T.backdrop&&(f=function(){const t=document.createElement("div");return f=u(".modal-backdrop"),null===f&&(t.setAttribute("class","modal-backdrop"+(T.animation?" fade":"")),f=t,document.body.appendChild(f)),f}()),!f||t||f.classList.contains("show")||(b(f),L=l(f),f.classList.add("show")),t?N():setTimeout(N,f&&L?L:0)},n.hide=t=>{o.classList.contains("show")&&(d=m("hide","modal"),h.call(o,d),d.defaultPrevented||(o.isAnimating=!0,o.classList.remove("show"),o.setAttribute("aria-hidden",!0),o.classList.contains("fade")&&1!==t?c(o,P):P()))},n.setContent=t=>{u(".modal-content",o).innerHTML=t},n.update=()=>{o.classList.contains("show")&&E()},n.dispose=()=>{n.hide(1),i?(i.removeEventListener("click",H,!1),delete i.Modal):delete o.Modal},i=u(t);const M=u(i.getAttribute("data-target")||i.getAttribute("href"));o=i.classList.contains("modal")?i:M,y=Array.from(document.getElementsByClassName("fixed-top")).concat(Array.from(document.getElementsByClassName("fixed-bottom"))),i.classList.contains("modal")&&(i=null),i&&i.Modal&&i.Modal.dispose(),o&&o.Modal&&o.Modal.dispose(),T.keyboard=!(!1===s.keyboard||"false"===o.getAttribute("data-keyboard")),T.backdrop="static"!==s.backdrop&&"static"!==o.getAttribute("data-backdrop")||"static",T.backdrop=!1!==s.backdrop&&"false"!==o.getAttribute("data-backdrop")&&T.backdrop,T.animation=!!o.classList.contains("fade"),T.content=s.content,o.isAnimating=!1,i&&!i.Modal&&i.addEventListener("click",H,!1),T.content&&n.setContent(T.content.trim()),i?(o.modalTrigger=i,i.Modal=n):o.Modal=n}const k="mousedown";function x(){return{y:window.pageYOffset||document.documentElement.scrollTop,x:window.pageXOffset||document.documentElement.scrollLeft}}function N(t,e,i,s){const n=/\b(top|bottom|left|right)+/,o=e.offsetWidth,a=e.offsetHeight,l=document.documentElement.clientWidth||document.body.clientWidth,c=document.documentElement.clientHeight||document.body.clientHeight,r=t.getBoundingClientRect(),d=s===document.body?x():{x:s.offsetLeft+s.scrollLeft,y:s.offsetTop+s.scrollTop},u=r.right-r.left,m=r.bottom-r.top,h=e.classList.contains("popover"),g=e.getElementsByClassName("arrow")[0],p=r.top+m/2-a/2<0,f=r.left+u/2-o/2<0,v=r.left+o/2+u/2>=l,L=r.top+a/2+m/2>=c,b=r.top-a<0,y=r.left-o<0,w=r.top+a+m>=c,A=r.left+o+u>=l;let T,E,k,N,C=i;C=("left"===C||"right"===C)&&y&&A?"top":C,C="top"===C&&b?"bottom":C,C="bottom"===C&&w?"top":C,C="left"===C&&y?"right":C,C="right"===C&&A?"left":C,-1===e.className.indexOf(C)&&(e.className=e.className.replace(n,C));const P=g.offsetWidth,H=g.offsetHeight;"left"===C||"right"===C?(E="left"===C?r.left+d.x-o-(h?P:0):r.left+d.x+u,p?(T=r.top+d.y,k=m/2-P):L?(T=r.top+d.y-a+m,k=a-m/2-P):(T=r.top+d.y-a/2+m/2,k=a/2-(h?.9*H:H/2))):"top"!==C&&"bottom"!==C||(T="top"===C?r.top+d.y-a-(h?H:0):r.top+d.y+m,f?(E=0,N=r.left+u/2-P):v?(E=l-1.01*o,N=o-(l-r.left)+u/2-P/2):(E=r.left+d.x-o/2+u/2,N=o/2-(h?P:P/2))),e.style.top=T+"px",e.style.left=E+"px",k&&(g.style.top=k+"px"),N&&(g.style.left=N+"px")}function C(t,e){let i;const s=e||{},n=this;let o=null,a=0;const l=/(iPhone|iPod|iPad)/.test(navigator.userAgent);let r,d,g;const p={};let L,b,y,w,A;function T(t){null!==o&&t.target===u(".close",o)&&n.hide()}function E(t){return s[t]||i.dataset[t]||null}function x(){return E("title")}function C(){return E("content")}function P(){null===o&&i.focus()}function H(t){const e=t?"addEventListener":"removeEventListener";"hover"===p.trigger?(i[e](k,n.show),i[e](f[0],n.show),p.dismissible||i[e](f[1],n.hide)):"click"===p.trigger?i[e](p.trigger,n.toggle):"focus"===p.trigger&&(l&&i[e]("click",P,!1),i[e](p.trigger,n.toggle))}function S(t){o&&o.contains(t.target)||t.target===i||i.contains(t.target)||n.hide()}function B(t){const e=t?"addEventListener":"removeEventListener";p.dismissible?document[e]("click",T,!1):("focus"===p.trigger&&i[e]("blur",n.hide),"hover"===p.trigger&&document[e]("touchstart",S,v)),window[e]("resize",n.hide,v)}function M(){B(1),h.call(i,y)}function I(){B(),p.container.removeChild(o),a=null,o=null,h.call(i,A)}n.toggle=()=>{null===o?n.show():n.hide()},n.show=()=>{clearTimeout(a),a=setTimeout(()=>{if(null===o){if(h.call(i,b),b.defaultPrevented)return;!function(){r=x(),d=C(),d=d?d.trim():null,o=document.createElement("div");const t=document.createElement("div");if(t.classList.add("arrow"),o.appendChild(t),null!==d&&null===p.template){if(o.setAttribute("role","tooltip"),null!==r){const t=document.createElement("h3");t.classList.add("popover-header"),t.innerHTML=p.dismissible?r+L:r,o.appendChild(t)}const t=document.createElement("div");t.classList.add("popover-body"),t.innerHTML=p.dismissible&&null===r?d+L:d,o.appendChild(t)}else{const t=document.createElement("div");t.innerHTML=p.template.trim(),o.className=t.firstChild.className,o.innerHTML=t.firstChild.innerHTML;const e=u(".popover-header",o),i=u(".popover-body",o);r&&e&&(e.innerHTML=r.trim()),d&&i&&(i.innerHTML=d.trim())}p.container.appendChild(o),o.style.display="block",o.classList.contains("popover")||o.classList.add("popover"),o.classList.contains(p.animation)||o.classList.add(p.animation),o.classList.contains(g)||o.classList.add(g)}(),N(i,o,p.placement,p.container),o.classList.contains("show")||o.classList.add("show"),p.animation?c(o,M):M()}},20)},n.hide=()=>{clearTimeout(a),a=setTimeout(()=>{if(o&&null!==o&&o.classList.contains("show")){if(h.call(i,w),w.defaultPrevented)return;o.classList.remove("show"),p.animation?c(o,I):I()}},p.delay)},n.dispose=()=>{n.hide(),H(),delete i.Popover},i=u(t),i.Popover&&i.Popover.dispose();const D=i.getAttribute("data-trigger"),X=i.getAttribute("data-animation"),R=i.getAttribute("data-placement"),W=i.getAttribute("data-dismissible"),O=i.getAttribute("data-delay"),j=i.getAttribute("data-container");L='<button type="button" class="close">×</button>',b=m("show","popover"),y=m("shown","popover"),w=m("hide","popover"),A=m("hidden","popover");const z=u(s.container),U=u(j),$=i.closest(".modal"),q=i.closest(".fixed-top"),F=i.closest(".fixed-bottom");p.template=s.template?s.template:null,p.trigger=s.trigger?s.trigger:D||"hover",p.animation=s.animation&&"fade"!==s.animation?s.animation:X||"fade",p.placement=s.placement?s.placement:R||"top",p.delay=parseInt(s.delay||O,10)||200,p.dismissible=!(!s.dismissible&&"true"!==W),p.container=z||U||q||F||$||document.body,g="bs-popover-"+p.placement,r=x(),d=C(),(d||p.template)&&(i.Popover||H(1),i.Popover=n)}function P(t,e){let i;const s=e||{},n=this;let o,a,l,c;const r={};function d(){if(a=l.getElementsByTagName("A"),o.scrollTop=o.isWindow?x().y:i.scrollTop,o.length!==a.length||p()!==o.scrollHeight){let t,e,s;o.items=[],o.offsets=[],o.scrollHeight=p(),o.maxScroll=o.scrollHeight-(o.isWindow?window.innerHeight:i.getBoundingClientRect().height),Array.from(a).forEach(i=>{t=i.getAttribute("href"),e=t&&"#"===t.charAt(0)&&"#"!==t.slice(-1)&&u(t),e&&(o.items.push(i),s=e.getBoundingClientRect(),o.offsets.push((o.isWindow?s.top+o.scrollTop:e.offsetTop)-r.offset))}),o.length=o.items.length}}function g(t){const e=t?"addEventListener":"removeEventListener";c[e]("scroll",n.refresh,v),window[e]("resize",n.refresh,v)}function p(){return c.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}function f(){Array.from(a).map(t=>t.classList.contains("active")&&t.classList.remove("active"))}function L(t){let e,s=t;f(),o.activeItem=s,s.classList.add("active");const n=[];for(;s.parentNode!==document.body;)s=s.parentNode,e=s.classList,(e.contains("dropdown-menu")||e.contains("nav"))&&n.push(s);n.forEach(t=>{const e=t.previousElementSibling;e&&!e.classList.contains("active")&&e.classList.add("active")}),h.call(i,m("activate","scrollspy",{relatedTarget:o.activeItem}))}n.refresh=()=>{if(d(),o.scrollTop>=o.maxScroll){const t=o.items[o.length-1];return void(o.activeItem!==t&&L(t))}if(o.activeItem&&o.scrollTop<o.offsets[0]&&o.offsets[0]>0)return o.activeItem=null,void f();let t=o.length;for(;t>-1;)o.activeItem!==o.items[t]&&o.scrollTop>=o.offsets[t]&&(void 0===o.offsets[t+1]||o.scrollTop<o.offsets[t+1])&&L(o.items[t]),t-=1},n.dispose=()=>{g(),delete i.ScrollSpy},i=u(t),i.ScrollSpy&&i.ScrollSpy.dispose();const b=i.getAttribute("data-target"),y=i.getAttribute("data-offset");l=u(s.target||b),c=i.clientHeight<i.scrollHeight?i:window,l&&(r.offset=+(s.offset||y)||10,o={},o.length=0,o.items=[],o.offsets=[],o.isWindow=c===window,o.activeItem=null,o.scrollHeight=0,o.maxScroll=0,i.ScrollSpy||g(1),n.refresh(),i.ScrollSpy=n)}function H(t,i){let s;const n=i||{},o=this;let a,l,r,d,g,p,f,v,L,y,w,A,T,E=!1;function k(){E.style.height="",E.classList.remove("collapsing"),a.isAnimating=!1}function x(){E?A?k():setTimeout(()=>{E.style.height=T+"px",b(E),c(E,k)},50):a.isAnimating=!1,d=m("shown","tab",{relatedTarget:v}),h.call(f,d)}function N(){E&&(L.style.float="left",y.style.float="left",w=L.scrollHeight),r=m("show","tab",{relatedTarget:v}),p=m("hidden","tab",{relatedTarget:f}),h.call(f,r),r.defaultPrevented||(y.classList.add("active"),L.classList.remove("active"),E&&(T=y.scrollHeight,A=T===w,E.classList.add("collapsing"),E.style.height=w+"px",b(E),L.style.float="",y.style.float=""),y.classList.contains("fade")?setTimeout(()=>{y.classList.add("show"),c(y,x)},20):x(),h.call(v,p))}function C(){const t=a.getElementsByClassName("active");return 1!==t.length||t[0].parentNode.classList.contains("dropdown")?t.length>1&&(v=t[t.length-1]):[v]=t,v}function P(){return u(C().getAttribute("href"))}function H(t){t.preventDefault(),f=t.currentTarget,a.isAnimating||o.show()}o.show=()=>{if(f=f||s,!f.classList.contains("active")){if(y=u(f.getAttribute("href")),v=C(),L=P(),g=m("hide","tab",{relatedTarget:f}),h.call(v,g),g.defaultPrevented)return;a.isAnimating=!0,v.classList.remove("active"),v.setAttribute("aria-selected","false"),f.classList.add("active"),f.setAttribute("aria-selected","true"),l&&(s.parentNode.classList.contains("dropdown-menu")?l.classList.contains("active")||l.classList.add("active"):l.classList.contains("active")&&l.classList.remove("active")),L.classList.contains("fade")?(L.classList.remove("show"),c(L,N)):N()}},o.dispose=()=>{s.removeEventListener("click",H,!1),delete s.Tab},s=u(t),s.Tab&&s.Tab.dispose();const S=s.getAttribute("data-height");a=s.closest(".nav"),l=a&&u(".dropdown-toggle",a);const B=!(!e||!1===n.height||"false"===S);a.isAnimating=!1,s.Tab||s.addEventListener("click",H,!1),B&&(E=P().parentNode),s.Tab=o}function S(t,e){let i;const s=e||{},n=this;let o,a,l,r,d,g=0;const p={};function f(){o.classList.remove("showing"),o.classList.add("show"),h.call(o,r),p.autohide&&n.hide()}function v(){o.classList.add("hide"),h.call(o,d)}function L(){o.classList.remove("show"),p.animation?c(o,v):v()}function y(){clearTimeout(g),i.removeEventListener("click",n.hide,!1),delete i.Toast}n.show=()=>{if(o&&!o.classList.contains("show")){if(h.call(o,a),a.defaultPrevented)return;p.animation&&o.classList.add("fade"),o.classList.remove("hide"),b(o),o.classList.add("showing"),p.animation?c(o,f):f()}},n.hide=t=>{if(o&&o.classList.contains("show")){if(h.call(o,l),l.defaultPrevented)return;t?L():g=setTimeout(L,p.delay)}},n.dispose=()=>{p.animation?c(o,y):y()},i=u(t),i.Toast&&i.Toast.dispose(),o=i.closest(".toast");const w=i.getAttribute("data-animation"),A=i.getAttribute("data-autohide"),T=i.getAttribute("data-delay");a=m("show","toast"),l=m("hide","toast"),r=m("shown","toast"),d=m("hidden","toast"),p.animation=!1===s.animation||"false"===w?0:1,p.autohide=!1===s.autohide||"false"===A?0:1,p.delay=parseInt(s.delay||T,10)||500,i.Toast||i.addEventListener("click",n.hide,!1),i.Toast=n}function B(t,e){let i;const s=e||{},n=this;let o,a,l,r,d,g,p=null,L=0;const b={};function y(){return i.getAttribute("title")||i.getAttribute("data-title")||i.getAttribute("data-original-title")}function w(t){p&&p.contains(t.target)||t.target===i||i.contains(t.target)||n.hide()}function A(t){const e=t?"addEventListener":"removeEventListener";document[e]("touchstart",w,v),window[e]("resize",n.hide,v)}function T(){A(1),h.call(i,r)}function E(){A(),b.container.removeChild(p),p=null,L=null,h.call(i,g)}function x(t){const e=t?"addEventListener":"removeEventListener";i[e](k,n.show,!1),i[e](f[0],n.show,!1),i[e](f[1],n.hide,!1)}n.show=()=>{clearTimeout(L),L=setTimeout(()=>{if(null===p){if(h.call(i,l),l.defaultPrevented)return;!1!==function(){if(o=y(),o){if(p=document.createElement("div"),b.template){const t=document.createElement("div");t.innerHTML=b.template.trim(),p.className=t.firstChild.className,p.innerHTML=t.firstChild.innerHTML,u(".tooltip-inner",p).innerHTML=o.trim()}else{const t=document.createElement("div");t.classList.add("arrow"),p.appendChild(t);const e=document.createElement("div");e.classList.add("tooltip-inner"),p.appendChild(e),e.innerHTML=o}p.style.left="0",p.style.top="0",p.setAttribute("role","tooltip"),p.classList.contains("tooltip")||p.classList.add("tooltip"),p.classList.contains(b.animation)||p.classList.add(b.animation),p.classList.contains(a)||p.classList.add(a),b.container.appendChild(p)}}()&&(N(i,p,b.placement,b.container),p.classList.contains("show")||p.classList.add("show"),b.animation?c(p,T):T())}},20)},n.hide=()=>{clearTimeout(L),L=setTimeout(()=>{if(p&&p.classList.contains("show")){if(h.call(i,d),d.defaultPrevented)return;p.classList.remove("show"),b.animation?c(p,E):E()}},b.delay)},n.toggle=()=>{p?n.hide():n.show()},n.dispose=()=>{x(),n.hide(),i.setAttribute("title",i.getAttribute("data-original-title")),i.removeAttribute("data-original-title"),delete i.Tooltip},i=u(t),i.Tooltip&&i.Tooltip.dispose();const C=i.getAttribute("data-animation"),P=i.getAttribute("data-placement"),H=i.getAttribute("data-delay"),S=i.getAttribute("data-container"),B=u(s.container),M=u(S),I=i.closest(".modal");l=m("show","tooltip"),r=m("shown","tooltip"),d=m("hide","tooltip"),g=m("hidden","tooltip");const D=i.closest(".fixed-top"),X=i.closest(".fixed-bottom");b.animation=s.animation&&"fade"!==s.animation?s.animation:C||"fade",b.placement=s.placement?s.placement:P||"top",b.template=s.template?s.template:null,b.delay=parseInt(s.delay||H,10)||200,b.container=B||M||D||X||I||document.body,a="bs-tooltip-"+b.placement,o=y(),o&&(i.Tooltip||(i.setAttribute("data-original-title",o),i.removeAttribute("title"),x(1)),i.Tooltip=n)}var M={};function I(t){const e=t instanceof Element?t:document;Object.keys(M).forEach(t=>{var i,s;i=M[t][0],s=e.querySelectorAll(M[t][1]),Array.from(s).map(t=>new i(t))})}M.Alert=[g,'[data-dismiss="alert"]'],M.Button=[p,'[data-toggle="buttons"]'],M.Carousel=[y,'[data-ride="carousel"]'],M.Collapse=[w,'[data-toggle="collapse"]'],M.Dropdown=[T,'[data-toggle="dropdown"]'],M.Modal=[E,'[data-toggle="modal"]'],M.Popover=[C,'[data-toggle="popover"],[data-tip="popover"]'],M.ScrollSpy=[P,'[data-spy="scroll"]'],M.Tab=[H,'[data-toggle="tab"]'],M.Toast=[S,'[data-dismiss="toast"]'],M.Tooltip=[B,'[data-toggle="tooltip"],[data-tip="tooltip"]'],document.body?I():document.addEventListener("DOMContentLoaded",(function t(){I(),document.removeEventListener("DOMContentLoaded",t,!1)}),!1);return{Alert:g,Button:p,Carousel:y,Collapse:w,Dropdown:T,Modal:E,Popover:C,ScrollSpy:P,Tab:H,Toast:S,Tooltip:B,initCallback:I,removeDataAPI:function(t){const e=t instanceof Element?t:document;Object.keys(M).forEach(t=>{var i,s;i=t,s=e.querySelectorAll(M[t][1]),Array.from(s).map(t=>t[i].dispose())})},componentsInit:M,Version:"4.1.4"}}));
!function(){var t,e,n,u,d,a,h=function(e,t,n){var r=new Error(e+" "+t);return r.data=t,r.json=n,r.id=e,r.code=e,r.name="lderror",r.message=t,r},s=function(e){return new t(e)};for(e in n=(t=function(e){return c(e,t.prototype)}).prototype={find:function(t,n){var r,e,o;if((r=this).querySelector||(r=(o=[document,r.toString(),t])[0],t=o[1],n=o[2]),t instanceof HTMLElement)return t;try{return 0===n?r.querySelector(t):(e=Array.from(r.querySelectorAll(t)),n?e[n]:e)}catch(e){throw o=e,console.warn("ld$.find exception: "+t+" / "+n+" under ",r),o}},index:function(){return Array.from(this.parentNode.childNodes).indexOf(this)},child:function(){return Array.from(this.childNodes)},parent:function(e,t){var n;for(null==t&&(t=null),n=this;n&&n!==t;)n=n.parentNode;if(n!==t)return null;if(!e)return this;for(n=this;n&&n!==t&&(!n.matches||n.matches&&!n.matches(e));)n=n.parentNode;return n!==t||t&&t.matches&&t.matches(e)?n:null},cls:function(e,t,n){var r,o,u,s,i,a,c,l=[],f=[],d=this;if("object"==typeof e){for(r in e)o=e[r],l.push(this.classList[o?"add":"remove"](r));return l}for(u=0,i=(s=[[t,!!e],[n,!e]]).length;u<i;++u)c=(a=s[u])[0],o=a[1],f.push((Array.isArray(c)?c:[c]).map(h));return f;function h(e){return d.classList.toggle(e,o)}},attr:function(e,t){var n,r=[];if("object"!=typeof e)return null==t?this.getAttribute(e):this.setAttribute(e,t);for(n in e)t=e[n],r.push(this.setAttribute(n,t));return r},on:function(e,t){return this.addEventListener(e,t)},remove:function(){if(this.parentNode)return this.parentNode.removeChild(this)},insertAfter:function(e,t){return this.insertBefore(e,t.nextSibling)}})!function(e,u){s[e]=function(e){for(var t,n=[],r=1,o=arguments.length;r<o;++r)n.push(arguments[r]);return t=n,u.apply(e,t)}}(e,n[e]);function c(e,t){var n,r={}.hasOwnProperty;for(n in t)r.call(t,n)&&(e[n]=t[n]);return e}u={svg:"http://www.w3.org/2000/svg"},d=function(e,t,n){var r,o,u,t=c({credentials:"same-origin"},t);return n.json&&(t.body=JSON.stringify(n.json),(t.headers||(t.headers={}))["Content-Type"]="application/json; charset=UTF-8"),(r=n.params)&&(e+="?"+function(){var e,t=[];for(o in e=r)u=e[o],t.push(o+"="+encodeURIComponent(u));return t}().join("&")),s.fetch.headers&&!n.noDefaultHeaders&&c(t.headers||(t.headers={}),s.fetch.headers),{c:t,u:e}},c(s,{json:function(t){try{return JSON.parse(t)}catch(e){return t}},fetch:function(u,s,i){return null==s&&(s={}),null==i&&(i={}),new Promise(function(e,r){var t=d(u,s,i),n=t.u,t=t.c,o=setTimeout(function(){return r(h(1006,"timeout")),o=null},i.timeout||4e4);return a(n,t).then(function(n){if(o)return clearTimeout(o),n&&n.ok?e(null!=i.type?n[i.type]():n):n.clone().text().then(function(e){var t;try{if((t=JSON.parse(e))&&"lderror"===t.name)return r(c(h(n.status,e),t))}catch(e){t=null}return r(h(n.status,e,t))})}).catch(function(e){return clearTimeout(o),r(e)})})},create:function(n){var r,o,t=n.ns?document.createElementNS(u[n.ns]||n.ns,n.name):document.createElement(n.name);return n.style&&c(t.style,n.style),n.attr&&function(){var e,t=[];for(r in e=n.attr)o=e[r],t.push([r,o]);return t}().map(function(e){return t.setAttribute(e[0],e[1])}),n.className&&t.classList.add.apply(t.classList,n.className),n.text&&t.appendChild(document.createTextNode(n.text)),n.html&&(t.innerHTML=n.html),t}}),s.xhr=function(c,l,f){return null==l&&(l={}),null==f&&(f={}),new Promise(function(n,r){var e,t,o,u=d(c,l,f),s=u.u,i=u.c,a=new XMLHttpRequest;for(t in a.onreadystatechange=function(){var e,t;if(a.readyState===XMLHttpRequest.DONE){if(200!==(e=a.status)&&201!==e&&202!==e)return r(h(a.status,a.responseText));try{t="json"===f.type?JSON.parse(a.responseText):a.responseText}catch(e){return r(h(a.status,a.responseText))}return n(t)}},a.onloadstart=function(){return f.progress({percent:0,val:0,len:0})},f.progress&&(e=function(e){var e=[e.loaded,e.total],t=e[0],e=e[1];return f.progress({percent:t/e,val:t,len:e})},a.upload?a.upload.onprogress=e:a.onprogress=e),a.open(i.method||"GET",s,!0),u=i.headers||{})o=u[t],a.setRequestHeader(t,o);return a.send(i.body)})},s.fetch.headers={},"undefined"!=typeof window&&null!==window&&(window.ld$=s,a=window.fetch),"undefined"!=typeof module&&null!==module&&(null==a&&(a=require("node-fetch")),module.exports=s)}.call(this);
var slice$=[].slice;!function(){var e=function(o,n){var e,c,i;return"number"==typeof o&&null==n?new Promise(function(e,n){return setTimeout(function(){return e()},o)}):("function"==typeof n&&(o=(e=[n,o])[0],n=e[1]),n=n||{},e="object"==typeof o?[o.func,o]:[o,{delay:"object"==typeof n?n.delay||750:n}],o=e[0],n=e[1],c={},(i=function(){var e,l=this,u=slice$.call(arguments),r=!1,t=i.delay.value||n.delay||750;return i.delay.value=0,(e=new Promise(function(n,e){if(!r)return c.h&&i.clear(),c.res=n,c.rej=e,c.h=setTimeout(function(){var e=o.apply(l,u);return e&&"function"==typeof e.then?e.then(function(){var e=slice$.call(arguments);return n.apply(null,e)}):n(e),c.res=null,c.rej=null,c.h=0,c},t)})).now=function(){return r=!0,i.clear(),o.apply(l,u)},e.cancel=function(){return i.clear()},e}).clear=function(){return clearTimeout(c.h),c.res&&c.res(null),c.h=0,c.res=null,c.rej=null,c},i.delay=function(e){return i.delay.value=e,i},i)};"undefined"!=typeof module&&null!==module&&(module.exports=e),"undefined"!=typeof window&&null!==window&&(window.debounce=e)}();var images,html;function import$(t,e){var i,l={}.hasOwnProperty;for(i in e)l.call(e,i)&&(t[i]=e[i]);return t}!function(){var t,A=function(t){return t.stopPropagation(),t.preventDefault()},u={over:!1,start:function(e,i){var l=[["selectstart",A],["mousemove",function(t){return u.move(e,t,i)}],["mouseup",function(t){return setTimeout(function(){return u.over=!1},100),l.map(function(t){return document.removeEventListener(t[0],t[1])})}]];return l.map(function(t){return document.addEventListener(t[0],t[1])}),u.over=!0},move:function(t,e,i,l){if(null==l&&(l=!1),e.buttons||l)return t.setPos(i,e.clientX,e.clientY,!0),A(e)}},g=function(t,e){var i,l,o,n,s,r,a,d,c,h,p=this;if(null==e&&(e={}),"string"==typeof(t=null==t?null:t)&&(t=document.querySelector(t)),e=import$({className:"",context:"default",onColorChange:null,onPaletteChange:null,idx:0,palette:null,pinned:!1,exclusive:!1,inline:null},e),t)for(i in e)l=e[i],(l=t.getAttribute("data-"+i.toLowerCase()))&&(e[i]="onColorChange"===i||"onPaletteChange"===i?new Function("color",l):l);for(i in"random"===e.context&&(e.context="random-"+Math.random().toString(16)),e.idx=isNaN(+e.idx)?0:+ +e.idx,e.className=(e.className+" ldcolorpicker "+(e.inline?[]:"bubble")).split(" ").filter(function(t){return t}),r="string"==typeof(r=e.palette)?"["===(r=r.trim())[0]?{colors:JSON.parse(r).map(function(t){return ldcolor.hsl(t)})}:{colors:r.split(/[, ]/).map(function(t){return ldcolor.hsl(t.trim())})}:Array.isArray(r)?{colors:r.map(function(t){return ldcolor.hsl(t)})}:r,this.evtHandler={},this.dim={d1:{},d2:{}},(o=this).idx=e.idx,o.pinned=e.pinned,o.context=e.context,o.exclusive=e.exclusive,o.inline=e.inline,e.inline?(this.toggler=null,this.root=t):(this.toggler=t,this.root=document.createElement("div")),n=this.root,e.inline||((o=n.style).position="absolute",o.display="none"),n.classList.add.apply(this.root.classList,e.className),n.innerHTML=html,n.getColorPicker=function(){return p},n.addEventListener("click",A),this.elem=s={mask0:".ldcp-hue .ldcp-mask",ptr0:".ldcp-hue .ldcp-ptr-bar",panel0:".ldcp-hue img",mask1:".ldcp-alpha .ldcp-mask",ptr1:".ldcp-alpha .ldcp-ptr-bar",panel1:".ldcp-alpha .ldcp-alpha-img",mask2:".ldcp-2d .ldcp-mask",ptr2:".ldcp-2d .ldcp-ptr-circle",panel2:".ldcp-2d img",d2:".ldcp-2d",d1:".ldcp-1d",btnAdd:".ldcp-cbtn:nth-of-type(1)",btnDel:".ldcp-cbtn:nth-of-type(2)",caret:".ldcp-caret",editGroup:".ldcp-edit-group",colorNone:".ldcp-color-none",idx:".ldcp-idx",pal:".ldcp-palette"},["h","s","l","r","g","b","a","hex"].map(function(t){return s["in-"+t]=".ldcp-in-"+t}),s)l=s[i],s[i]=this.root.querySelector(l);for(this.elem.comment=document.createComment(" ldcolorpicker placeholder "),this.root.parentNode?this.root.parentNode.insertBefore(this.elem.comment,this.root):document.body.appendChild(this.elem.comment),!this.inline&&this.root.parentNode&&this.root.parentNode.removeChild(this.root),this.elem.btnAdd.addEventListener("click",function(t){return p.addColor()}),this.elem.btnDel.addEventListener("click",function(t){return p.delColor()}),this.elem.colorNone.addEventListener("click",function(t){return p.setAlpha(NaN)}),this.elem.pal.addEventListener("click",function(t){var t=t.target.classList.contains("ldcp-color")?t.target:t.target.parentNode,t=Array.from(p.elem.pal.querySelectorAll(".ldcp-color")).indexOf(t);if(0<=t)return p.setIdx(t)}),g.PalPool.bind(e.context,this,r),this.syncPalette(),this.toggler&&((r=this.toggler).getColorPicker=function(){return p},r.addEventListener("click",function(t){if(setTimeout(function(){return p.toggle()},0),!e.exclusive||"none"!==p.root.style.display)return A(t)}),r.addEventListener("keyup",function(t){var e=ldcolor.hsl(p.toggler.value);if(!isNaN(e.h))return p.setColor(e)}),r.value=ldcolor.web(this.getColor()),"INPUT"===this.toggler.nodeName&&r.setAttribute("autocomplete","off")),a=0,d=(o=["mask","ptr"]).length;a<d;++a)for(c=o[a],h=0;h<=2;++h)!function(t,e){(t=s[t+""+e]).addEventListener("mousedown",function(t){return u.start(p,e)}),t.addEventListener("click",function(t){return u.move(p,t,e,!0)})}(c,l=h);return e.onColorChange&&this.on("change",function(t){return e.onColorChange.apply(p.toggler,[t])}),e.onPaletteChange&&this.on("change-palette",function(t){return e.onPaletteChange.apply(p.toggler,[t])}),this.setIdx(this.idx),e.pinned&&this.toggle(!0),this.fire("inited"),this};(t={update:function(t,e){return t.bindPalette(this.prepare(e).palette)},populate:function(e){return this.prepare(e).users.map(function(t){return t.syncPalette(e)})},prepare:function(t){var e;return(e=this.hash[t])?e:this.hash[t]={users:[],palette:this.random()}},set:function(t,e){var i;return(t=this.prepare(t)).oldpal=JSON.parse(JSON.stringify({name:(i=t.palette).name,colors:i.colors})),import$(t.palette,JSON.parse(JSON.stringify({name:e.name,colors:e.colors}))),this.populate(t)},get:function(t){return(t=this.hash[t])?t.palette:null},bind:function(t,e,i){if(this.prepare(t).users.push(e),this.update(e,t),null!=i)return this.set(t,i)},random:function(l){return null==l&&(l=5),{name:"Random",colors:function(){for(var t=[],e=0,i=l;e<i;++e)t.push({h:Math.floor(360*Math.random()),s:Math.random(),l:Math.random()});return t}()}}}).hash={default:{users:[],palette:t.random()}},g.PalPool=t,g.prototype=import$(Object.create(Object.prototype),{updateDimension:function(){var i=this;return["d1","d2"].map(function(t){var e=i.dim[t];return e.w=i.elem[t].offsetWidth,e.h=i.elem[t].offsetHeight,e})},setPos:function(t,e,i,l){var o,n,s,r,a,d,c,h,p,A;return null==l&&(l=!1),this.dim.d1.w||this.updateDimension(),"number"!=typeof t?(o=(A=ldcolor.hsl(t)).h,n=A.s,o=o||0,a=2*((r=(2*(s=A.l)+n*(1-Math.abs(2*s-1)))/2)-s)/r,isNaN(a)&&(a=n),e=this.dim.d2.w*a,d=this.dim.d2.h*(1-r),c=this.dim.d1.h*(o/360),this.elem.panel2.style.backgroundColor=ldcolor.web({h:o,s:1,l:.5}),this.setPos(2,e,d,!1),this.setPos(0,e,c,!1),void this.syncColorAt(this.idx)):(l&&(e=(A=[e-(h=this.root.getBoundingClientRect()).left-5,i-h.top-5])[0],i=A[1]),c=(A=this.dim[2===t?"d2":"d1"]).w,o=A.h,e=(A=0<e?e:0)<c?A:c,i=(A=0<i?i:0)<o?A:o,(h=this.elem["ptr"+t]).style.top=i+"px",this.elem["in-hex"].value="#000",2===t&&(h.style.left=e+"px"),l?1===t?this.setAlpha(+(1-((A=0<(p=(1.04*i-.02*o)/o)?p:0)<1?A:1)).toFixed(3)):(l=(A=[1.04*e-.02*c,1.04*i-.02*o])[0],i=A[1],l=(A=[(A=0<(p=l/c)?p:0)<1?A:1,(A=0<(p=i/o)?p:0)<1?A:1])[0],i=A[1],A=this.getColorAt(this.idx,"hsl"),r=2===t?1-i:(2*A.l+A.s*(1-Math.abs(2*A.l-1)))/2,a=2===t?l:2*(r-A.l)/r,o=(o=0===t?360*i:A.h)||0,n=0!==(s=r*(2-a)/2)&&1!==s?r*a/(1-Math.abs(2*s-1)):e/c,isNaN(n)&&(n=0),isNaN(s)&&(s=0),this.setColor({h:o,s:n,l:s,a:A.a})):void 0)},setIdx:function(t,e){var i,l;return null==e&&(e={}),t+1>=this.elem.pal.childNodes.length&&(t=this.elem.pal.childNodes.length-2),l=this.idx,this.idx=t,i=this.elem.pal.childNodes[t+1],this.elem.idx.style.left=i.offsetLeft+i.offsetWidth/2+"px",this.idx!==l&&this.fire("change-idx",t,l),i=this.getColorAt(t,"hsl"),l=this.getColorAt(l,"hsl"),ldcolor.same(i,l)||this.fire("change",i,l),l=ldcolor.hsl(i),this.toggler&&!e.skipInput&&(this.toggler.setAttribute("data-idx",t),this.toggler.value=ldcolor.web(i,4===(this.toggler.value||"").length)),this.setPos(l)},getIdx:function(){return this.idx},syncColorAt:function(t,e){var i;if((e=e||Array.from(this.elem.pal.querySelectorAll(".ldcp-color"))[t])&&(e=e.childNodes[0],i=ldcolor.hsl(this.palette.colors[t])))return e.style.backgroundColor=ldcolor.web(i),e.classList[isNaN(i.a)?"add":"remove"]("none")},syncPalette:function(t){for(var e,i,l,o,n=this.elem.pal,s=n.querySelectorAll(".ldcp-color"),r=0,a=Math.max(s.length,this.palette.colors.length);r<a;++r)(e=r)>=s.length?((i=document.createElement("div")).classList.add("ldcp-color"),i.appendChild(document.createElement("div")),n.appendChild(i)):e>=this.palette.colors.length&&n.removeChild(n.childNodes[n.childNodes.length-1]),e<this.palette.colors.length&&this.syncColorAt(e,i);if(this.idx>=this.palette.colors.length&&(this.idx=this.palette.colors.length-1),l=t?((t.oldpal||(t.oldpal={})).colors||[])[this.idx]:this.getColor(),"undefined"!=typeof context&&null!==context&&context===this.context&&"undefined"!=typeof affectIdx&&null!==affectIdx&&"undefined"!=typeof direction&&null!==direction&&affectIdx<=this.idx&&(this.idx+=direction,this.idx=(t=0<(o=this.idx)?o:0)<(o=this.color.vals.length-1)?t:o,oldIdx!==this.idx&&this.fire("change-idx",this.idx)),this.setIdx(this.idx),!ldcolor.same(o=this.getColor(),l))return this.fire("change",o,l)},bindPalette:function(t){return this.palette=t},setPalette:function(t){return g.PalPool.set(this.context,t)},getPalette:function(){return this.palette},setColor:function(t){var e=this.palette.colors[this.idx];return this.palette.colors[this.idx]=ldcolor.hsl(t),this.setPos(t),ldcolor.same(t,e)||this.fire("change",t,e),this.toggler&&(this.toggler.value=ldcolor.web(t,4===(this.toggler.value||"").length)),g.PalPool.populate(this.context)},getColor:function(t){return this.getColorAt(this.idx,t=null==t?"rgb":t)},getColorAt:function(t,e){return null==e&&(e="rgb"),t="object"==typeof(t=ldcolor[e](this.palette.colors[t]))?import$({},t):t},setAlpha:function(t){var e,i=this.getColorAt(this.idx);return this.palette.colors[this.idx].a=t,e=this.getColorAt(this.idx),i.a!==t&&this.fire("change",e,i),this.toggler&&(this.toggler.value=ldcolor.web(e,4===(this.toggler.value||"").length)),this.syncColorAt(this.idx)},getAlpha:function(){return this.getColorAt(this.idx,"rgb").a},setPin:function(t){if(this.pinned!==!!t&&this.fire("change-pin",t,this.pinned),this.pinned=!!t,this.pinned)return this.toggle(!0)},isPinned:function(){return this.pinned},addColor:function(){return this.palette.colors.splice(this.idx,0,ldcolor.rand()),this.syncPalette()},delColor:function(){return 1<this.palette.colors.length&&this.palette.colors.splice(this.idx,1),this.syncPalette()},toggle:function(t,e){var i,l,o,n,s,r,a,d,c,h,p=this;return this.pinned&&(t=!0),d=this.root.style.display,(null!=t&&!t||null==t&&"none"!==d)&&!this.inline?(this.root.style.display="none",this.inline||this.root.parentNode.removeChild(this.root),document.removeEventListener("click",this.docToggler),document.removeEventListener("keydown",this.keyToggler),this.fire("toggle",!1)):(this.root.style.display="block",this.inline||this.elem.comment.parentNode.insertBefore(this.root,this.elem.comment),(e=this.toggler||e)&&(l="fixed"===window.getComputedStyle(this.root).position?(i=(c=[0,0])[0],c[1]):(i=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0,window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),h=e.getBoundingClientRect(),o=this.root.getBoundingClientRect(),n=(c=["bottom",h.left+i,h.top+l,h.left+h.width+i,h.top+h.height+l])[0],s=c[1],r=c[2],a=c[3],t=c[4],d={top:h.top-this.root.offsetHeight-10+l,left:h.left-this.root.offsetWidth-10+i,right:h.left+e.offsetWidth+10+i,bottom:h.top+h.height+10+l},c={on:[],off:[]},e={},"bottom"!==(n="vertical"===(h=this.root.classList.contains("vertical")?"vertical":this.root.classList.contains("horizontal")?"horizontal":null)?d.bottom+o.height-l>window.innerHeight?(e.top=d.top+"px",c.on.push("top"),"top"):(e.top=d.bottom+"px",c.off.push("top"),"bottom"):"horizontal"===h?d.right+o.width-i>window.innerWidth?(e.left=d.left+"px",c.on.push("left"),c.off.push("right"),"left"):(e.left=d.right+"px",c.on.push("right"),c.off.push("left"),"right"):this.root.classList.contains("top")?(e.top=d.top+"px","top"):this.root.classList.contains("left")?(e.left=d.left+"px","left"):this.root.classList.contains("right")?(e.left=d.right+"px","right"):(e.top=d.bottom+"px","bottom"))&&"top"!==n||(s+o.width-i>=window.innerWidth?(e.left=a-o.width+"px",c.on.push("right-align")):(e.left=s+"px",c.off.push("right-align"))),"right"!==n&&"left"!==n||(r+o.height-l>=window.innerHeight?(e.top=t-o.height+"px",c.on.push("bottom-align")):(e.top=r+"px",c.off.push("bottom-align"))),import$(this.root.style,e),c.on.map(function(t){return p.root.classList.toggle(t,!0)}),c.off.map(function(t){return p.root.classList.toggle(t,!1)})),this.inline||(document.addEventListener("keydown",(document.removeEventListener("keydown",p.keyToggler),p.keyToggler=function(t){if(27===(t.which||t.keyCode)&&p.toggler&&!p.pinned)return p.toggle(!1)})),document.addEventListener("click",(document.removeEventListener("click",p.docToggler),p.docToggler=function(){return u.over?u.over=!1:(document.removeEventListener("click",p.docToggler),p.toggle())}))),this.updateDimension(),this.setIdx(this.idx,{skipInput:!0}),this.fire("toggle",!0))},on:function(t,e){var i;return((i=this.evtHandler)[t]||(i[t]=[])).push(e)},fire:function(t){for(var e,i,l,o,n=[],s=[],r=1,a=arguments.length;r<a;++r)s.push(arguments[r]);for(e=s,r=0,l=(i=this.evtHandler[t]||[]).length;r<l;++r)o=i[r],n.push(o.apply(this,e));return n},destroy:function(){return this.root.parentNode.removeChild(this.root),this.evtHandler={}}}),"undefined"!=typeof module&&null!==module?module.exports=g:window.ldcolorpicker=g}(),html="<div class='ldcp-panel'><div class='ldcp-v ldcp-g1'><div class='ldcp-h ldcp-g11 ldcp-2d'><div style='top:20px;left:20px' class='ldcp-ptr-circle'></div><img src='"+(images={hue:"data:image/jpg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAYEBAUEBAYFBQUGBgYHCQ4JCQgICRINDQoOFRIWFhUSFBQXGiEcFxgfGRQUHScdHyIjJSUlFhwpLCgkKyEkJST/2wBDAQYGBgkICREJCREkGBQYJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCT/wgARCADIABQDAREAAhEBAxEB/8QAGwABAAIDAQEAAAAAAAAAAAAAAAECAwQFBgf/xAAbAQEAAgMBAQAAAAAAAAAAAAAAAQYDBAUCB//aAAwDAQACEAMQAAAA85W/sMFjqaepBY9vX+GJPcV7lCTrczkAcXbrYGPJhAAAAzdXGEtmzYANyz4AM1jwTJDxVj9CT51ZvYtD5/ZMUGXx6wZc0QubWHpC0T19OwiYdzQsYk39XfSmGjy9oScut7sFkc2s7ok1uRlgsf/EACcQAAEDAgYCAQUAAAAAAAAAAAABAhMUFQMEBSFhYhBSEhEiMEFR/9oACAEBAAE/APDSz8Fn4G6PwWfqWbqJo/Us3BZ+omj9StK0rSZxO4nd+KMjIyIiIiIiIibA90JsH3QmwfdC+di+9hNd7l93X7y+9xmtq5NnFdmPqu/7K7Mf0wdSzLEXlT47qfEY3ZSm3UphmW2UoyjG5PgouCh4G5LjxsIVJUjcyTk43HJicbjeWn//xAAfEQEBAAEFAAMBAAAAAAAAAAAAFBMBAhESYQMQIDD/2gAIAQIBAT8A+6VKlSpUqVKlw4cOmjpo6afykSJEfiPxH4kSJGDROn8SJEiRIkYdjFtbvh2ffLu7u7IyMjKysv4qVKlSpUrWeq/x/8QAHhEBAAICAwEBAQAAAAAAAAAAABIUAhMRIGEBEDD/2gAIAQMBAT8A/bCwst7e3tra2rS0tN+Tfk35fykkkkkkkkl04cOOnOTnJ8+5IooqysrKvir4q+Kvir4q9NbW1NbWgggh0//Z",gradient:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAFXZJREFUeNqcnVuT47aShAFSE+MXx26Ef75/2nnykx2+rO/XaaIWhalEfyiBPY7TERpJFEWRyazKrALIqWb2n/7431prK6W0/tr6a3+y/l6vr/589efm6/n7/pmW+Wv/rj+/+MOXx2ut+9KfX47j8PV9+RXb/IDv+fOHWP4S2/f3L/G72vZLa21sx19ju+P72nZ/fDjP8+p/4/t9nfG9x+Px0v+av/b9fPfu3dwn319f7v/0da5Yr71//96303766Sf74osvrq+//rp9//3343XtK/3UN/Q/H/EafwO0AEWgToACaO3wfAg07IxA8L14EShaJw7+A77rYH2I5fr+B4KL7Y/vOzgOTID8ohPoy/wzf+2/7d/HydMJuOJ7PJYB7t9//60TNoD8888/2x9//NF+//33qz/s559/vn788cf25Zdftkff2D995RIbt/5D8+wIOD2LccHOi0AGCJMF+OwFj4tM5UHHtl8IMIHXPoG9F/bz0omOfXMArIPoZHBajWjy9/31JEp/74iVzkp/tn/++af2zz3kyocPH44O5FjWn2sHrv7222/1hx9+qN988411BpavvvrKHh6xYF/xjVanWd9QLNLnh/+oVvPlenB9f/Y/fH7gYXEy+FmNfRjf82d91l/rew3Lxz713zm4ToBX9Vm813cHK/zZjyWAHPvjwPn7/uzx7q9rfxwdOHMQ//rrr9IZWPx9B+905vX3x7fffls6oO1hpnQ3ds7wKHFQBxhXy+vffB07rmUEpCCXljj7C+C+fQfA2YRtjAPmSdIjDrxpn/13BKaAdAACLAswLT5zUFqcqCNYN/bPn/vj9FUdtP5ozj4HsYdv+fXXX4uD1x/lu+++Kx3A+vnnn9vDERcOO2AigQO3CW5efzKEjCaL+Lk/xDgdUDyagNE2AmydHLF2guxRgxM3t+Hf84cfowM5clMHN3KbAzjei4UdrNLDtcTz6cB1ID3vOQMPB/GXX34pvlysfcSPlwg7CxXWzpg+igM2hYnCY9LxlW0VAFSAWMHWmkJSJ4vvSzDrFPgBwiWmIVxPhOgI5QDK4jsm8CJ8zwDMwXOWjVD29TpgA9AeptZD1AE0B6w//NlF10PX2TjWf0TOy+wSKBYMKJtwtby+8mWcgMkyERb5UaAKjMqQFJNCPCZLFaoBllhoISaDabHs+LjKwO2I3KYQHuIx/E1noduTvqxKNJx9vo6HsItHB+10AemP1tlnnYUObu0Waaj1QwfKEE7h2cgsrFfAogqxqcip+bWEZiZ3PSNnHpGX9bkJFC1juAtwASSw3E04MAp1B8uBcTIEkMMQOpgerr7cWef5z9fryx79/dXfV1/eAfQQbv29s9ctTfnss89eQxiAWVJfAWUI1UJAmMfCZiyMBIjKf8t3lRKYv5TDmMuCrVe8n+t7SJpQD7ACUAfGlAMjbP3zwVZfr+c2z28tlHfktxAUiYmzz0F2USnuAz2s+/qnr5cB5IE35jyGqtiSlpnYIrui7yKkD4DKPCg1ZQhPBsfyyUCGJ5gpsTiV54KRntNOz13+vQ7gYFuE6vCBvswVV9bFgXLr4kB14Ial8XD25ZEv/XfcMxtFhExpZGTKZ5mZmUnKjQSqwAcuKklRSSp6ALgZ0sGsJnsiJophsjFiXvg7z3lTcR2QCPWRE4OFDtoQlQBzgOi5L9jYQqFbrDOE5yGBCAArQqjIuwlcKPEuxJ9CGwKURaIgbK/IS2LrEUwi66b/UzgLfIWzP0JJlQtLAFYC2Ec/+FHfOuN8ua/vLAwAHcixTjDvFEMdUActFLs6mGHI2xMD6eF0wAFkzWKQwMv2RAdtOvBgoK9zgtlkmEJWyw5UERNUWBNfZyT1CF1VGSUYNiorXw9ez0F6CVHx0FUYl2DVWKacJ/YJRF8v9sVLwI8A+k73eK5hTOnnqLhlJy43KltzVQJrIhAL8xoeRi/H5QIJgmEBzhnAz/ANIbHIewPAYN0AV/lOLPSHq2185vXvi+c9Z1x/f7nFkRg5S6OOvlzKZ6ixJEMuy2q6CIlKMoA6ttVPyHydgNSyI4p85bQiL8dwpd+L/DaZGCwb+TIYdgpUBzJsiwm0ALEqhJ1locgOlv/goz9fkeucqcMLItxr7IOO9bETkWyab3NeXpaZl0WCoqCwTPXsBCmpbmNZps/84PH5MMXOPLHST0pUF+OEOcv8eENNGxj4cCvj4AUbq3KfftNzp38vSt8Rwt1MP6lw9oBZdUsWiLAzBEsHvoQ5vrsIAO2KwJGXdEZFS0o5T+BYMFi5Tgp8RGgZwtfFoAYrZV8GWx2UyH9TecNYy+IINO1bUeUSzF1EpObWVtSSlupVg2LPzkoK4YrtZYbVBGSBPZkiI0uiKgXMswjNMwA8lBsFUgAv32fR35uqGuB5KF9Q4UGIsDijHxhgzZJPyq72Wv87HxEGnrOUmwOTVtifUy7bFP41KzCqBp2A5TN8Lj9XZHxj/RGKcQIralvlNz4rFxbmO9/fsDWDPSEkRU1U5LZChZWVkeg4Wfy1TmJs+5oAioHIX5bEYmltsW5mHS1xUNWRxSOatQRYeVM2xeDrsnAcBC98npRajVCDgZZtUUgXCYfexzILVgqcEvmuRj4dbazwjqq5DW5jjLCgQWI01NMxa7lARieF1YOJqf4+WuqFHWQW//B6KslOtZ8cFLFPaitBQFvqjJxUpL5iXLBPnxWa5gBIJVmhQY4G6hVgCshLaUleFh33Vx8oEFPDM7eyaHkWxdZ6FA2KhGwSw515TXmQYcs8qDMfYBWE8SzxxKzIk9NMB5hOlkvL++tHKPFLWJ5LDIwQVojXUHn2G4/AbeRAQ0O1qsUPJj5VGRmI1FExigZYy7BkL88kVuzjATQ1B454XVIelF05AZZy4CnlxWd6f0RPsEQlIzZeypvhOf03LqWHiBh1zT8aaVmYVPPK8dfETGPOZLvqxjhrjGP24mInaKyztREoqixUaSiE5wmIZG9Q4AoACZylHNgkFMG6GfICL37jiv3SSdYQ7+j8LO2sVFksDVR4uSOGNp9a8Wwc6DVG61jtTCaiq7KIR7w/uR7a8QU5cQKF/HdyGUCKduHLNMvKgTLLYFuLlcfyaKI0RFr1sWbamAofYwAst66U3JfW/SZsGa6sQLI/rMgpFAtRdbIXZdrSMIjXE6wkJDVYN1jmyhkhq5ynCmaKR3g+ndwx7KBcK8cQ7bmRA9VMsF3NC/9nEArWywsDAd5Tzy8pcUHryTL78Hp2VALMCRANs0ouiMn0gGgilBCMF+U8lYkB2BMDFb4BusXUD1VC59JMuKl/FzvDnt5mIIger2y6zEurSsqG/LIAx+UAb2nRg5Vi3xEHWYJxFYBLJE6KiNJHkKkqdJkHq9rzH8exRwOj/717hNJNGxOdFJlmS2MaFcvEKkuKXDCWUbL6AkAZ4hohokVTRcVOLC8Ajb2/GarBIuXGoZRhqgty3RVhqpkIDWaajQvt9/FKSFMuPGRjlAMn+yIfTXedmgkT0FS9VCrwXa7TUCXYVsC+yjFdVhZSYaUcsirnPoA1XwerZu4TYLIpyrVOyjQsqmYwp6YcSw6M1sws1Wigme8IHMM6DxIJTM1FUT2sZTirBfnEELoFufGA1SnoMi/iEc8VzzWFZ4VN2YlHCyAfMPAVYjLZF1P8zv787sEzGl2EpyaqFJc2ZdNVsZQD53gHjbRCRFMykjrTwhzoOrMyke+jyMx2FUywlHi+9n0QYAJD4hHbr+2VejMS4jimf5VXVQhP40wjnVr4lhsK2Tzn4Ugd+C6kxSrEyGK0obSyMqoWOHhe6Qf9YCJUyVKxsCC/lWBWS5+JAA15TsZZ7sGCfb7s4VP5vB4cKKkFz9yn4cnUts8hzNbUEs4JOIFW0NGYjVIIBvPiSduSHg2Mu5LBnsISTJI9qXgcyH0XzXzkSk4hMZSpmqn2Ti19mWKDaBiarJY6yjTHhTYntatoa9g8LZshyYYQZ63caGFyBZKWCVA1Z68AaGlVYZZWDt8WQJ6aRIqZD2zjSUTOISKiu4sIR8zw2t4o2+4EpHKsN9W5B5i6lHBkpwBH/sqAcfpaQXenJaFhjdzUR+Q+odOjkcnJSrTqlvk6Dl7n12OqMFtVyIV218bKM1hTjttWI6xE0jIewAErZTl0CWqqTiqBgxpftEq7h/woGGcQRoJ3AljPga8AKgdydiq6MQo/y5UJK5fc82OXZRPOnMNnZFlSu4OmWQDG90uEIEFmnpMVmf4PlcoM5TQTrIGFEszGGbUSkaHCMdJOABfPt/N7qZyzNHhe0nuqbkEenLmLAiOwICYN6zO0p+FP4ZwZ1tQ0hllWaCtXHjDNB6owPWuSZ4u+qZd2Hxkoynv5FqFprC7QXSkb9i1TOzRZM0253YY4X6fcqJlV7Q0FLsp1mXkZ0A3jFMqGKkPdnwuzWh2wEyDOPB1R9BhGOgruMUi8KdssTTCqbEmx1EtTNea4slR+09Y6JETBkMZBpqiPF4CUh5XfEisVbjUJjRhoMNCz5mUqkCFHzhtVUvQJLoVzhPu7aaSRu54603c5j8OeXI+dagzE0L6w+mCZJxZWNB5y4jfUy1cy4BOw2C6rngOADd+o9EQbFdbkonnWdCFMlD/j/WOxMaRfmlFqUFxj98VfpxKvoo1V8uA5p3SkiZMzLGPdhwDC9mZLHQ3YymkfbInFaNpU2bROkaKiFm+ILr09OJEJ4AnIx0NjARg8f+rASJnVDMCseY4JL7Oz0GzlAPoyFkKRgUJfPGgw+4rKpFKl9R51LFloOwAxVHqgzl1UNw6sobZoEM0RwouNUdjqNYczObePYKZhTGMYx0TJlgz50jBNUz6uNAvhwJhxiwphqWWTQbfs9wQ0VL2BXRzM18LJMADFi49UI5dZidBI76awMYwxVpKrEUu+MTcYCi6MYVe6cBhTM0spTNiOWEWwZrpQaoGvq6mvZ1yWwDSM4Viap1gIHHoE08ZUtfU5msbrRmRPsqiArZxEfm0aCgWhvQDIabvMnxr5Qtu/YJ7NHBeGWhuSfmW7H9tRCF8xE4K5zxCuxsvDQljHxTzul+NHXkM4cqBtZt1P0DQkANXMg1AGEBvYwTGSA4W5mg8UEbLS0vzAA6lCDFTZVTgVBMs5LFE50sftZ3a11/zF0CWgx6xENBiTZ+SnioSlncyyZqguEzBTiNNM05CSzYUmmn1CdK8LZ+ZTYJIZbhCMlpmHE2NpqrFhFK6kcC5ZREJEX2th9QTz2Eca2rTcRAUrF9ZSdNLk8oMNWShvY+gGg2f+0mRKhhqu/a3Io5XXkCQRMloStqsQObYRDYWwqhCNmz8WG3PTjc7jvwTp6bMQGib/ki5rmAcmG4TLWg8kdA6u141aGvxpw3oUC0vmPmE4SVHpQbEPhiv4KR721I2RiGxYWNGVNlxss4Ru7sYkZV76i2kdhm6DkJ1xhLObEkn8imltDaaeuVP9PL1vmHZH9DhIxAuADDaNob4AqH7gUolgWHNnpEsCYmEf1ZiCkdphDTXrQQOOETtDIj+g3gUXJWYAKucZEiz29Dbhq23OsRhcoZXFg1ez6qQ8pg/kDK1UyhkmkjNvLVUK1ZmmGqNzPMP0g4XKxgNUHqQflOcpr3FbkjhZUvByA57l3iauCuVtCZZhjlj3jDGR13YWGFhSWJJlJiDRmc7t/5LaYOWNQfk8eYkgLR5MnlBsgVDpSs2GkC0MyTfAK0lZtW2NeeQhIubFY1FhGOnd1UlLhZGAzULxBFYaAphhkaZJ1GRmS85DDEttR9UI95HbIH6ZjbzwMeW4I4UuQ5ghPrsxFSHMq9VLmhuThWa5/4HyyN3VSymsC2YsHCrc2VfUAH8e9Cco0fA0NACokgUiU7Mg0L4kUA0nxBKA2q/21M5KIby0s9KYcMksvRGauvOViZ0s6ZQjWz5opIOn/AWQmJNtk7eyMT6WDnL6PLHvdSdfS7mtCi9dmB2QGxEpySduc14CgmFnaQymMmwTIhzoLqnYzyxbwha5Nec1XixumwvIC1pbFddCn1sfSADT9XM1h3R+fsvu5HLP3Tw9ISsbWJCCyyxqtiWqo1Mz2FK62LEsr7tlXSISe4RjTHi29JkD000ndpe6Wr5+blM3U8m1fsuszAeyaY1ZSiNPlH3r9caClJ1Ybb7TNjgcEJmyiAhDeKfAm5tR2J3q7pi52RaX5fGH7ffTsuOOTalyIGAlpYV86xY+8zZXhdcLpkpk+EDbAJin9ZY8Y39zI4p/c+DLCWGLCL7vjqFLMk+D+pZSzCdZWfI1bSl00/E/ARg58KCILJTdgcl8lAFO903Iy5/aYgmgltbdhuEu7NP2d4BvnxMZLI392KbayiA+q3Au23bXBbMnuGNrUt08+L5r3Ja7nJq3mfLvHUqWfq/l30cUtMxA2jSClm5ttYRwySGcTfVdews/nNlnVM2dCU/VTbsJ/4p717w59Epm3Zwc25zEepPjyNK6udmafOAxW/rneS6jc/wiLqjZ3h4qnandDucJmpZO0rG5hHY3/tI4Hp1r73zzslyS4RjqxuyzlCsYfaubHHhMADklNuerHfvS2bN0D4VdJZNvTJa72HPaCEq6mu5P03DPrV3Xx3bCp+2kjnpJb+zm1n5nun6abHytRPLcu92NJ1Tj7uZMs2uba+D02m6AzZfUHpuJTMfmwMumoigbcVgapRswbFNx2Qa8fK/EVxHxMPYQ3gG4O8hPKfWGuSV1c0rawad08caJ2HpMhlcWk93+7WxM3hYja7OdQyE8Z3beAcUcyHC7uZPlNuxvwH4CNSX0skkRdo/BctOgtz7PYOc7dNa0XsXznBczcyBD+MaqbK9g3xls5LSSftjSVJGn+3Clu8U13ToAuWy5o2a6RYuBxHesJ7gnb0v6FhPTvRMrheTBabM3A0v0hnWT00q64ezi+6AG9S4t3Nxe4EBeXaYas+TC5blbJacN2kTH8Ymw3kURgayP1BDdKei88eKNytruzr5ph46bHLRt0uYJTCk9ZIbke3j9q99+I4SfwhnKeyQr8xFAWZmU97Y5cXOLqLpRrYIb19adGORcSvak7+Sc9hTCN9vId2CyvL870N/Ih+cmpOuDs+Nv/urb7F7Y+HRnS5jm+pZKa0cZthuA6qZ+5f2vj1R+2qZy+hRoOzHarf+RganWfdOq4Mxvw/FmXKXyJhaf2O96kyLqxvRmQJ6UGnmx3rDwU+Dd3WN7vvepHY/dfWBuj3ANjfIvzuRTyJKlCPXd+tvf/9RvZzIkZ7BtmPyXf5893r9//6P/txGfSqa7g/3ETtgnGJ2X2b88IW+J0Zatyiv4bz6Wm4//W7SSf/XH//2/AAMAJIxzucIDLtAAAAAASUVORK5CYII=",opacity:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAACACAYAAAAClekiAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA1ZJREFUeNrcWVuO3EAIBNz5zxXmP/c/Qc4x85VbRCKezXrUxlSBxytFir+86x6a5lEFtN7v928i4vL30fAut9vNt/fp2+sZ0+LtxxYWW3g/CEALNoE6aSBRkwEWzD9m/9cR1J/PauDcFjWw2Wjg3dH3EXbKrK3sW/SCJO6UsInNAtXdv4MdP94fj4dn8bEJGcC/2Xnno7yM/BSwhLNp8jf00Ag7VFoc3kfyQ2Fnjv/fjoCSif0NQ1kTg6GjCQplSeIj+y5j9fMi+PEVD2IOzEJ8oLMRO+wMu+WCsmgk9jCWjQ6icbdmZDAFQjhdwwQIc1+GB9WTuxEIOLgLbfTEgx9s2zVOqDZnjiBdGzCrlwIQhUGhg7BRJ6w9wwMBoasJtekADGTMdfP6rhccEKw+8YB6YcUDlqmSpXNmB8SVjnjBEztkG9gACy3Rwq5mI4zEpYg+ZbRXpTMsrpgXKlTaM9Pq54UhzlQfZMCyY2cjiQQjdHwew5vsfPg+ws6l36OBvzQOBGjCYkPHm8Y7aFAZTFAVs+EBSt25X3CUzpdhfUncZB04e8eNmjUcS8NwkOKrAqPCA9hweNEn2BxISxZhXU9seJAlj0/9Aiy8uuwsjFgW4gGtkiwT0Nl5hwf6JibsvCCNztVRv7AQPKB5UDFTKzojHkiCB1JpYCdKfJqN8g42omzULkLP5MrO6oiAUBx00aktAKJ2FkjeRKcXHiib1Kxxwqo2vWKDEpUZRpziBRpcUQM9Ua0oqpEMUF0GcYdc0GKmlNZICyi0EdHuYT3pF3YaJHhwqtguxwLMC8qQKhZZXd+nyWSktCmpLh7BCKCk2cnGQF7EhV1FpA9hz/nBTwYgU31wuv3XznSnU+qyIQwdA3U6eMumeR12gul8KRK/bAhzTkDAg0M+BDxISxzrzMzYSPQf2wDwYoetD6GsZKEwetds2Er6BNgzoYsYk/ya5IUHv4DKbJ646xf0RAy03OiNnkEydo4XUw4AV9lcmV1KpLxRRSIbwEhmRJY4yhrPynBQ8PisAxVVYqA+OFBb5gUlJe7unslIIJVXSOyeqWq6WuzMRgNlNmpRbAoahSGiVVQrdwbRmuCBb/cLv9mshODBKVCFhDuaIKKVBm8/l0jlPxHwR4ABAF3bekgydK22AAAAAElFTkSuQmCC"}).gradient+"'><div class='ldcp-mask'></div></div><div class='ldcp-h ldcp-g12 ldcp-1d ldcp-hue'><div class='ldcp-ptr-bar'></div><img src='"+images.hue+"'><div class='ldcp-mask'></div></div><div class='ldcp-h ldcp-g13 ldcp-1d ldcp-alpha'><div class='ldcp-ptr-bar'></div><div class='ldcp-alpha-img' style='background-image:url("+images.opacity+")'></div><div class='ldcp-mask'></div></div></div><div class='ldcp-v ldcp-g2'><div class='ldcp-colors ldcp-h ldcp-g21'><div class='ldcp-palette'><small class='ldcp-idx'></small></div><small class='ldcp-sep'></small><div class='ldcp-color-none'></div><span class='ldcp-cbtn ldcp-btn-add'>+</span><span class='ldcp-cbtn ldcp-btn-remove'>-</span></div></div>\n<div class='ldcp-v ldcp-g3'><div class='ldcp-h ldcp-g31'>\n<div class='ldcp-edit-group'><span>R</span><input class='ldcp-in-r' value='255'><span>G</span><input class='ldcp-in-g' value='255'><span>B</span><input class='ldcp-in-b' value='255'></div>\n<div class='ldcp-edit-group' style='display:none'><span>H</span><input class='ldcp-in-h' value='255'><span>S</span><input class='ldcp-in-s' value='255'><span>L</span><input class='ldcp-in-l' value='255'></div>\n<div class='ldcp-edit-group ldcp-edit-hex' style='display:none'><span>HEX</span><input class='ldcp-in-hex' value='#000000'></div>\n<span>A</span><input value='255' class='ldcp-in-a'>\n<span class='ldcp-caret'>RGBA &#x25be;</span></div></div></div><div class='ldcp-chooser'><button/><button/><button/></div>";
!function(){var t;function n(t,e){var n,i={}.hasOwnProperty;for(n in e)i.call(e,n)&&(t[n]=e[n]);return t}(t=function(t){var e=this;return(t=null==t?{}:t).fetch&&(this._user_fetch=t.fetch),this._evthdr={},this._running=!1,this._end=!1,this._disabled=null!=t.enabled&&!t.enabled,this._o=n({boundary:5,scrollDelay:100,fetchDelay:200,fetchOnScroll:!1,fetchOnInit:!1},t),this.limit=t.limit||20,this.offset=t.offset||0,t.host&&this.host(t.host),t.pivot&&this.pivot(t.pivot),this.fetch=debounce(this._o.fetchDelay,this._fetch),this._pend=proxise(function(){if(!e._running)return Promise.resolve()}),"always"!==(t=this._o.fetchOnInit)&&"once"!==t||this.fetch(),this}).prototype=n(Object.create(Object.prototype),{_user_fetch:function(){return new Promise(function(t,e){return t([])})},toggle:function(t){return this._disabled=null!=t?!t:!this._disabled},on:function(t,n){var i=this;return(Array.isArray(t)?t:[t]).map(function(t){var e;return((e=i._evthdr)[t]||(e[t]=[])).push(n)})},fire:function(t){for(var e,n,i,s,o=[],r=[],h=1,l=arguments.length;h<l;++h)r.push(arguments[h]);for(e=r,h=0,i=(n=this._evthdr[t]||[]).length;h<i;++h)s=n[h],o.push(s.apply(this,e));return o},reset:function(t){var e=this;return null==t&&(t={}),this._pend().then(function(){if(e.offset=0,e._end=!1,"always"===e._o.fetchOnInit)return e.fetch()})},fetchable:function(){return!(this._disabled||this._end||this._running)},isEnd:function(){return this._end},obs:function(){var n=this;return this._obs||(this._obs=new IntersectionObserver(function(t){var e;if(t.map(function(t){return t.isIntersecting}).filter(function(t){return t}).length&&n.fetchable())return e=t.filter(function(t){return t.target===n._pivot}).length,t=t.filter(function(t){return t.target===n._host}).length,n._o.fetchOnScroll&&e||"lazy"===n._o.fetchOnInit&&t&&!n.offset?n.fetch().then(function(t){return n.fire("scroll.fetch",t)}):void 0},{}),this._obs)},_onScroll:function(){var t,e=this;if(this.fetchable()&&!((t=this._host).scrollHeight-t.scrollTop-t.clientHeight>this._o.boundary))return this.fetch().then(function(t){return e.fire("scroll.fetch",t)})},host:function(t){var e,n=this;return t?(e=this.obs(),this._host&&this._scrollFunc&&((this._host===document.scrollingElement?document:this._host).removeEventListener("scroll",this._scrollFunc),this._scrollFunc=null),this._host&&e.unobserve(this._host),this._host="string"==typeof t?document.querySelector(t):t,this._host?(this._o.fetchOnScroll&&!this._pivot&&(this._scrollFunc=function(t){return n._onScroll(t)},(this._host===document.scrollingElement?document:this._host).addEventListener("scroll",this._scrollFunc)),e.observe(this._host)):void 0):this._host},pivot:function(t){var e;return t?(e=this.obs(),this._pivot&&e.unobserve(this._pivot),this._pivot="string"==typeof t?document.querySelector(t):t,e.observe(this._pivot=t),this._host&&this._scrollFunc?((this._host===document.scrollingElement?document:this._host).removeEventListener("scroll",this._scrollFunc),this._scrollFunc=null):void 0):this._pivot},_fetch:function(t){var e=this;return null==t&&(t={}),this.fetchable()?(this.fire("fetching"),this._running=!0,this._user_fetch().then(function(t){return null==t&&(t=[]),e._running=!1,e.offset+=t.length||0,e.fire("fetch",t),t.length<e.limit&&(e._end=!0,e.fire(e.offset?"finish":"empty")),e._pend.resolve(),t})):Promise.resolve([])}}),"undefined"!=typeof module&&null!==module?module.exports=t:"undefined"!=typeof window&&null!==window&&(window.paginate=t)}.call(this);
!function(){var r,n,u={};window.lda=r={},window.ldc=n={module:{},register:function(n,t,e){var r;return Array.isArray(n)?this.apps.push(r={f:t,d:n}):r=this.module[n]={f:e,d:t},r},evtHandler:{},on:function(n,t){var e;return((e=this.evtHandler)[n]||(e[n]=[])).push(t)},fire:function(n){for(var t,e,r,i,o=[],a=[],s=1,l=arguments.length;s<l;++s)a.push(arguments[s]);for(t=a,s=0,r=(e=this.evtHandler[n]||[]).length;s<r;++s)i=e[s],o.push(i.apply(this,t));return o},actHandler:{},action:function(n,t){var e;return"object"!=typeof n?"object"==typeof t?r[n]=t:((e=this.actHandler)[n]||(e[n]=[])).push(t):(u.name||(console.warn("ldc.action(): Action registered after module initialization will be anonymous actions."),console.warn("You can name the action set explicitly if you have to do this."),console.warn("e.g., ldc.action('name', { actions ... });"),console.warn("related action object: ",n)),u.name?r[u.name]=n:void 0)},act:function(n){for(var t,e,r,i,o=[],a=[],s=1,l=arguments.length;s<l;++s)a.push(arguments[s]);for(t=a,s=0,r=(e=this.actHandler[n]||[]).length;s<r;++s)i=e[s],o.push(i.apply(this,t));return o},apps:[],app:function(){for(var n,t=[],e=0,r=arguments.length;e<r;++e)t.push(arguments[e]);return n=t,this.apps=this.apps.concat(n)},init:function(n){for(var t,s=this,e=[],l=function(n){var t,e,r,i="object"==typeof n?[{},"",n]:[{},n,s.module[n]],o=i[0],a=i[1],n=i[2];if(!n)return null;if(n.o)return n.o;if("initing"===n.state)throw new Error("circular dependency");for(n.state="initing",t=0,e=(i=n.d).length;t<e;++t)o[r=i[t]]=l(r);return n.state="inited",u.name=a,n.o=n.f.call(n._o={},o),u.name=null,n.o},r=0,i=(n=n?Array.isArray(n)?n:[n]:this.apps).length;r<i;++r)t=n[r],e.push(l(t));return e},run:function(n){return this.init(n),null}},window.addEventListener("DOMContentLoaded",function(){return n.init()})}.call(this);
(function(){var n,e;n=function(n,e,t){return n.splice(0,n.length).map(function(n){if(n[t](e),n.timeout)return clearTimeout(n.timeout)})},(e=function(e,t){var i,r,o,u,l;return i=e instanceof Function?[e,t||0]:[t,e||0],r=i[0],o=i[1],u=[],l=function(){var n,e,t,i,l,f,c;for(e=[],t=0,i=arguments.length;t<i;++t)e.push(arguments[t]);return n=e,(l=r.apply(this,n))instanceof Promise?l:(f=null,c=o?setTimeout(function(){var n;if(f&&~(n=u.indexOf(f)))return u.splice(n,1),f.rej(new Error("timeout"))},o):null,new Promise(function(n,e){return u.push(f={res:n,rej:e,timeout:c})}))},l.resolve=function(e){return n(u,e,"res")},l.reject=function(e){return n(u,e,"rej")},l}).once=function(n,t){var i,r;return i={},r=e(function(){var e,o,u,l,f=this;for(o=[],u=0,l=arguments.length;u<l;++u)o.push(arguments[u]);return e=o,i.inited?Promise.resolve(null==t?i.val:"function"==typeof t?t():t):i.initing?void 0:(i.initing=!0,Promise.resolve().then(function(){return n.apply(f,e)}).finally(function(){return i.initing=!1}).then(function(n){return i.inited=!0,r.resolve(n=null==t?i.val=n:"function"==typeof t?t():t),n}).catch(function(n){return r.reject(n),Promise.reject(n)}))})},"undefined"!=typeof module&&null!==module?module.exports=e:"undefined"!=typeof window&&null!==window&&(window.proxise=e)}).call(this);
(function(){var zmgr;zmgr=function(opt){opt==null&&(opt={});this.opt=opt;this.stack=[];this.step=opt.step||1;if(opt.init!=null){this.init=opt.init}this._g=import$(import$({},zmgr.layer),opt.layer||{});this._v={};this._s={};return this};zmgr.prototype=import$(Object.create(Object.prototype),{scope:function(n,s){var nv,this$=this;nv=typeof n==="number"?n:this._g[n];return{add:function(_n,_s){var _nv;if(!(_n!=null)){_n=n}else{_nv=typeof _n==="number"?_n:this$._g[_n];_n=this$.step<0?_nv<nv?_n:n:_nv>nv?_n:n}return this$.add(_n,_s!=null?_s:s)},remove:function(_n,_v){return this$.remove(_n!=null?_n:n,_v)}}},add:function(v,s){var n,ref$;s==null&&(s=0);if(!(v!=null)||typeof v==="number"){if(!(v!=null)){v=this.init}if(this.init!=null){v=this.step>0?Math.max(this.init,v):Math.min(this.init,v)}if(!(this.value!=null)){this.value=v}v=this.step>0?Math.max(this.value,v):Math.min(this.value,v);v=v+(this.step>0?1:-1)*Math.max(Math.abs(this.step),Math.abs(s));this.stack.push(v);this.value=v;return v}else{n=v;v=(this.step>0?Math.max:Math.min)(this._g[n],this._v[n]||this._g[n]);v=v+(this.step>0?1:-1)*Math.max(Math.abs(this.step),Math.abs(s));((ref$=this._s)[n]||(ref$[n]=[])).push(v);this._v[n]=v;return v}},remove:function(n,v){var i,ref$;if(typeof n==="number"){if(!~(i=this.stack.indexOf(n))){return}this.stack.splice(i,1);return this.value=(ref$=this.stack)[ref$.length-1]}else{if(!(i=((ref$=this._s)[n]||(ref$[n]=[])).indexOf(v))){return}((ref$=this._s)[n]||(ref$[n]=[])).splice(i,1);return this._v[n]=(ref$=this._s)[ref$.length-1]}}});zmgr.layer={notify:5e3,splash:4e3,modal:3e3,fixed:2e3,float:1e3,base:1};zmgr.notify="notify";zmgr.splash="splash";zmgr.modal="modal";zmgr.fixed="fixed";zmgr.float="float";zmgr.base="base";if(typeof module!="undefined"&&module!==null){module.exports=zmgr}else if(typeof window!="undefined"&&window!==null){window.zmgr=zmgr}function import$(obj,src){var own={}.hasOwnProperty;for(var key in src)if(own.call(src,key))obj[key]=src[key];return obj}}).call(this);
!function(){var o,i;function s(e,r){var t,n={}.hasOwnProperty;for(t in r)n.call(r,t)&&(e[t]=r[t]);return e}o={0:"unknown lderror",998:"skipped",999:"canceled",1e3:"user not login",1001:"suspicious user",1002:"unknown error",1003:"image process failed",1004:"quota exceeded",1005:"csrftoken mismatch",1006:"timeout",1007:"server down",1008:"unable to parse user data",1009:"bot",1010:"captcha error",1011:"resource conflict",1012:"permission denied",1013:"expire",1014:"apply for a resource that already exists",1015:"bad parameter",1016:"feature not yet available",1017:"resource corrupted",1018:"no consent",1019:"wrong domain",1020:"not supported",1021:"email not verified",1022:"missing dependency",1023:"lderror testing",1024:"limited by throttling",1025:"runtime error",1026:"not applicable",1027:"missing config",1028:"resource unavailable",1029:"session data corrupted",1030:"password mismatched",1031:"weak password",1032:"credential scheme mismatched",1033:"view failed to render",1034:"user not found",1035:"payment rejected",1036:"reused passwords not allowed",1037:"offline",1038:"file too large",1039:"payment rejected",1040:"registration closed"},(i=function(e,r){var t,n;return null==e&&(e=""),null==r&&(r=0),this instanceof i?(t=(isNaN(+r)?0:+r)||e.id||0,"string"==typeof e?(this.message=e,this.id=t):e instanceof Error?(this.stack=e.stack,this.message=e.message,this.id=t):"object"==typeof e?(delete e.__proto__,delete e.constructor,s(this,e).id=t):"number"==typeof e&&(this.id=e,"string"==typeof r?this.message=r:"object"==typeof r&&(this.payload=r),this.message||(this.message=(n=o[this.id||0])?n:100<=this.id&&this.id<600?"http code: "+this.id:o[0]+" (id: "+(this.id||0)+")")),this.name=i.prototype.name,this.stack=(n=s(new Error,this)).stack,this.error=n,this):new i(e,r)}).prototype=s(Object.create(Error.prototype),{name:"lderror",toString:function(e){var r;return null==e&&(e={}),r=this.toObject(),null==e.stack||e.stack||delete r.stack,JSON.stringify(r)},toObject:function(){var e={name:this.name};return e.id=this.id,e.message=this.message,e.stack=this.stack,e.payload=this.payload,e}}),i.id=function(e){return"object"==typeof e&&"lderror"===e.name&&e.id?e.id:0},i.message=function(e){return"number"==typeof e?o[e]||o[0]:"object"==typeof e&&o[e.id]||o[0]},i.reject=function(e,r){return Promise.reject(new i(e,r))},i.handler=function(e){var o=this;return this.i=((e=null==e?{}:e).ignore||[]).concat([999]),this.h=e.handler,this.r=e.rule||function(e){return e},this.s={},(e=function(e){var r;if(!function(e,r){var t=-1,n=r.length>>>0;for(;++t<n;)if(e===r[t])return!0;return!1}(r=i.id(e),o.i)&&(o.s[r]=1,o.h(o.r(r),e).then(function(){return o.s[r]=0}),!r))throw console.log(e),e}).isOn=function(){var t,n;return!!function(){var e,r=[];for(t in e=this.s)n=e[t],r.push(n);return r}.call(o).filter(function(e){return e}).length},e},i.eventHandler={error:function(e){return!(!e.error||"lderror"!==e.error.name||!e.error.error||e.error===e.error.error)&&(console.warn("uncaught lderror",e.error),console.warn("with its internal Error object thrown:"),e.preventDefault(),setTimeout(function(){throw e.error.error},0),!0)},rejection:function(e){return!(!e.reason||"lderror"!==e.reason.name||!e.reason.error)&&(console.warn("Unhandled rejection with lderror:",e.reason),console.warn("with its internal Error object thrown:"),setTimeout(function(){throw e.reason.error},0),e.preventDefault(),!0)}},"undefined"!=typeof module&&null!==module?module.exports=i:"undefined"!=typeof window&&null!==window&&(window.lderror=i)}.call(this);
var ldcvmgr;function import$(r,e){var t,n={}.hasOwnProperty;for(t in e)n.call(e,t)&&(r[t]=e[t]);return r}(ldcvmgr=function(r){var e,o=this;return this.opt=r=null==r?{}:r,this.evtHandler={},this.path=r.path||"/modules/cover","string"==typeof this.path&&(this.path=this.path.replace(/\/$/,"")),this.loader=(e=r.loader)?e:new ldloader({className:"ldld full",autoZ:!0}),this.mgr=r.manager||null,this.blocks={},this.covers={},this.workers={},this.errorCover=r.errorCover||"error",this.errorHandling=!1,this.prepareProxy=proxise(function(r){}),r.zmgr&&this.zmgr(r.zmgr),this.baseZ=r.baseZ||3e3,r.autoInit&&this.init(),block.i18n.module&&block.i18n.module.on("languageChanged",function(){var r,e,t,n=[];for(r in e=o.blocks)t=e[r],n.push(t.transform("i18n"));return n}),this}).prototype=import$(Object.create(Object.prototype),{on:function(r,e){var t;return((t=this.evtHandler)[r]||(t[r]=[])).push(e)},fire:function(r){for(var e,t,n,o,i=[],s=[],c=1,a=arguments.length;c<a;++c)s.push(arguments[c]);for(e=s,c=0,n=(t=this.evtHandler[r]||[]).length;c<n;++c)o=t[c],i.push(o.apply(this,e));return i},zmgr:function(r){return null!=r?this._zmgr=r:this._zmgr},error:function(r,e,t){if(null==r&&(r=""),null==e&&(e={}),null==t&&(t={}),console.error(e),"error"===r||r===this.errorCover||r===this._id(this.errorCover))return alert("something is wrong; please reload and try again"),new Promise(function(r,e){});throw this.errorHandling=!0,this.toggle(this.errorCover||"error",!0,{err:e,param:t}),e},_id:function(r){return"object"==typeof r?this.mgr.id(r):r},prepare:function(r){var t=this,n=this._id(r);return this.covers[n]?Promise.resolve():this.workers[n]?this.prepareProxy(n):(this.errorHandling?(this.loader.on(),this.errorHandling=!1):this.loader.on(1e3),("object"==typeof r?this.workers[n]=this.mgr.get(r).then(function(r){return r.create()}).then(function(r){return r.attach({root:document.body,autoTransform:null,data:{zmgr:t._zmgr,baseZ:t.baseZ}}).then(function(){return t.blocks[n]=r,t.covers[n]=r.interface(),r.dom()})}):(r=document.querySelector(".ldcvmgr[data-name='"+n+"']"))?Promise.resolve(r):(r="function"==typeof this.path?this.path(n):this.path+"/"+n+".html",this.workers[n]=fetch(r).then(function(r){return r&&r.ok?r.text():Promise.reject(new Error("[ldcvmgr] cover '"+(n||"<no-name>")+"' load failed."))}).then(function(r){return new block.class({manager:t.mgr,code:r}).create({root:document.body}).then(function(r){var e;return(e=(t.blocks[n]=r).interface())&&(t.covers[n]=e),r.dom()})}))).finally(function(){return t.loader.cancel(!1)}).then(function(r){var e;return t.covers[n]||(t.covers[n]=new ldcover({root:r,lock:"true"===r.getAttribute("data-lock"),zmgr:t._zmgr,baseZ:t.baseZ})),t.prepareProxy.resolve(),r=(e=t.workers)[n],delete e[n],r}).catch(function(r){throw t.prepareProxy.reject(r),delete t.workers[n],r}))},purge:function(r){var e,t=this._id(r);return null!=t?(r=(e=this.covers)[t],delete e[t],r):this.covers={}},lock:function(r,e){var t=this,n=this._id(r);return this.prepare(r).then(function(){return t.covers[n].lock()}).then(function(){return t.covers[n].toggle(!0,e)}).catch(function(r){return t.error(n,r,e)})},toggle:function(r,e,t){var n=this,o=this._id(r);return this.prepare(r).then(function(){return n.covers[o].toggle(e,t)}).then(function(){return n.fire(n.covers[o].isOn()?"on":"off",{node:n.covers[o],param:t,name:o})}).catch(function(r){return n.error(o,r,t)})},getcover:function(r){var e=this,t=this._id(r);return this.prepare(r).then(function(){return e.covers[t]})},getdom:function(r){var e=this,t=this._id(r);return this.prepare(r).then(function(){return e.covers[t].root()})},isOn:function(r){r=this._id(r);return this.covers[r]&&this.covers[r].isOn()},set:function(r,e){var t=this,n=this._id(r);return this.prepare(r).then(function(){return t.covers[n].set(e)})},get:function(r,e){var t=this,n=this._id(r);return this.prepare(r).then(function(){return t.fire("on",{node:t.covers[n],param:e,name:n}),t.covers[n].get(e)}).catch(function(r){return t.error(n,r,e)})},init:function(r){var t=this;return ld$.find(r||document.body,".ldcvmgr").map(function(r){var e;if((e=r.getAttribute("data-name"))&&!t.covers[e])return t.covers[e]=new ldcover({root:r,lock:"true"===r.getAttribute("data-lock"),zmgr:t._zmgr,baseZ:t.baseZ})}),document.body.addEventListener("click",function(r){var e;if((r=ld$.parent(r.target,"[data-ldcvmgr-toggle]"))&&(e=r.getAttribute("data-ldcvmgr-toggle")))return t.toggle(/:/.exec(e)?t.mgr.id2obj(e):e)})}}),"undefined"!=typeof module&&null!==module?module.exports=ldcvmgr:"undefined"!=typeof window&&null!==window&&(window.ldcvmgr=ldcvmgr);
!function(){var s,o;function n(t,e){var n,r={}.hasOwnProperty;for(n in e)r.call(e,n)&&(t[n]=e[n]);return t}s=function(t,e,n){var r;for(null==n&&(n=document),r=t;r&&r!==n;)r=r.parentNode;if(r!==n)return null;for(r=t;r&&r!==n&&r.matches&&!r.matches(e);)r=r.parentNode;return r!==n||n.matches&&n.matches(e)?r:null},(o=function(t){var e;return null==t&&(t={}),this.evtHandler={},this.opt=n({delay:300,autoZ:!0,baseZ:3e3,escape:!0,byDisplay:!0},t),t.zmgr&&this.zmgr(t.zmgr),this.promises=[],this._r=t.root?"string"==typeof t.root?document.querySelector(t.root):t.root:((e=document.createElement("div")).innerHTML='<div class="base"></div>',e),this.cls="string"==typeof t.type?t.type.split(" "):t.type,this.resident=null!=t.resident&&t.resident,this.inPlace=null==t.inPlace||t.inPlace,this.container="string"==typeof t.container?document.querySelector(t.container):t.container,this._r.content&&this._r.content.nodeType===Element.DOCUMENT_FRAGMENT_NODE||this.init(),this}).prototype=n(Object.create(Object.prototype),{root:function(){return this.inited||this.init(),this._r},init:function(){var t,r,i=this;if(!this.inited)return this.inited=!0,this.inPlace||(this._r.parentNode.removeChild(this._r),document.body.appendChild(this._r)),!this.resident&&this._r.parentNode&&(this._c=document.createComment(" ldcover placeholder "),this._r.parentNode.insertBefore(this._c,this._r),this._r.parentNode.removeChild(this._r)),this._r.content&&this._r.content.nodeType===Element.DOCUMENT_FRAGMENT_NODE&&(this._r=this._r.content.cloneNode(!0).childNodes[0],this._r.parentNode.removeChild(this._r)),(t=this._r.getAttribute("data-lock"))&&"true"===t&&(this.opt.lock=!0),this.inner=this._r.querySelector(".inner"),this.base=this._r.querySelector(".base"),this._r.classList.add.apply(this._r.classList,["ldcv"].concat(this.cls||[])),this.opt.byDisplay&&(this._r.style.display="none"),r=null,this._r.addEventListener("mousedown",this.el_md=function(t){return r=t.target}),this._r.addEventListener("click",this.el_c=function(t){var e,n;return r!==i._r||i.opt.lock?s(t.target,"*[data-ldcv-cancel]",i._r)?(t.stopPropagation(),i.cancel()):(e=s(t.target,"*[data-ldcv-set]",i._r))&&null!=(n=e.getAttribute("data-ldcv-set"))&&!s(e,".disabled",i._r)?(t.stopPropagation(),i.set(n)):void 0:(t.stopPropagation(),i.toggle(!1))})},zmgr:function(t){return null!=t?this._zmgr=t:this._zmgr},append:function(t){var e=this._r.childNodes[0];return(e&&e.classList.contains("base")?e:this._r).appendChild(t)},get:function(n){var r=this;return new Promise(function(t,e){return r.promises.push({res:t,rej:e}),r.toggle(!0,n)})},cancel:function(e,t){if(null==t&&(t=!0),this.promises.splice(0).map(function(t){return t.rej(e||((t=new Error).name="lderror",t.id=999,t))}),t)return this.toggle(!1)},set:function(e,t){if(null==t&&(t=!0),this.promises.splice(0).map(function(t){return t.res(e)}),t)return this.toggle(!1)},isOn:function(){return this._r.classList.contains("active")},lock:function(){return this.opt.lock=!0},toggle:function(r,i){var s=this;return new Promise(function(e,t){var n;return s.inited||s.init(),r&&null!=i&&s.fire("data",i),null==r&&s._r.classList.contains("running")||null!=r&&s._r.classList.contains("active")===!!r?e():((n=null!=r?r:!s._r.classList.contains("active"))&&!s._r.parentNode&&(null==s.container&&s._c&&s._c.parentNode?s._c.parentNode.insertBefore(s._r,s._c):(s.container||document.body).appendChild(s._r)),s._r.classList.add("running"),s.opt.byDisplay&&(s._r.style.display="block"),s._r.classList.contains("inline")&&(n?(s.el_h=function(t){if(!s._r.contains(t.target))return s.toggle(!1)},window.addEventListener("click",s.el_h)):s.el_h&&(window.removeEventListener("click",s.el_h),s.el_h=null)),!n&&s.el_esc&&(document.removeEventListener("keyup",s.el_esc),s.el_esc=null),setTimeout(function(){var t;return s._r.classList.toggle("active",n),!s.opt.lock&&s.opt.escape&&n&&!s.el_esc&&(s.el_esc=function(t){if(27===t.keyCode&&(t=o.popups)[t.length-1]===s)return s.toggle(!1)},document.addEventListener("keyup",s.el_esc)),s.opt.animation&&s.inner&&s.inner.classList[n?"add":"remove"].apply(s.inner.classList,s.opt.animation.split(" ")),n?o.popups.push(s):0<=(t=o.popups.indexOf(s))&&o.popups.splice(t,1),s.opt.autoZ&&(n?s._r.style.zIndex=s.z=(s._zmgr||o._zmgr).add(s.opt.baseZ):((s._zmgr||o._zmgr).remove(s.z),delete s.z)),s.opt.transformFix&&!n&&s._r.classList.remove("shown"),setTimeout(function(){return s._r.classList.remove("running"),s.opt.transformFix&&n&&s._r.classList.add("shown"),!n&&s.opt.byDisplay&&(s._r.style.display="none"),n||!s._r.parentNode||s.resident||s._r.parentNode.removeChild(s._r),!n&&s.opt.autoZ&&(s._r.style.zIndex=""),s.fire("toggled."+(n?"on":"off"))},s.opt.delay),s.promises.length&&!n&&s.set(void 0,!1),s.fire("toggle."+(n?"on":"off")),e()},50))})},on:function(t,n){var r=this;return(Array.isArray(t)?t:[t]).map(function(t){var e;return((e=r.evtHandler)[t]||(e[t]=[])).push(n)})},fire:function(t){for(var e,n,r,i,s=[],o=[],l=1,c=arguments.length;l<c;++l)o.push(arguments[l]);for(e=o,l=0,r=(n=this.evtHandler[t]||[]).length;l<r;++l)i=n[l],s.push(i.apply(this,e));return s},destroy:function(t){var e=this;return null==t&&(t={}),this.toggle(!1).then(function(){return e._c&&(t.removeNode||e._c.parentNode.insertBefore(e._r,e._c),e._c.parentNode.removeChild(e._c)),e._r.removeEventListener("mousedown",e.el_md),e._r.removeEventListener("click",e.el_c)})}}),n(o,{popups:[],_zmgr:{add:function(t){return(this.s||(this.s=[])).push(t=Math.max(t||0,((t=this.s)[t.length-1]||0)+1)),t},remove:function(t){if(!((t=(this.s||(this.s=[])).indexOf(t))<0))return this.s.splice(t,1)}},zmgr:function(t){return null!=t?this._zmgr=t:this._zmgr}}),"undefined"!=typeof module&&null!==module?module.exports=o:window&&(window.ldcover=o)}.call(this);
!function(){var r,n="\\s*([+-]?\\d+|nan|NaN)\\s*",t="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?|nan|NaN)\\s*",a="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",l={hex3:/^#([0-9a-fA-F]{3})$/,hex6:/^#([0-9a-fA-F]{6})$/,rgbint:new RegExp("^rgb\\("+[n,n,n]+"\\)$"),rgbp:new RegExp("^rgb\\("+[a,a,a]+"\\)$"),rgbaint:new RegExp("^rgba\\("+[n,n,n,t]+"\\)$"),rgbap:new RegExp("^rgba\\("+[a,a,a,t]+"\\)$"),hslp:new RegExp("^hsl\\("+[t,a,a]+"\\)$"),hslap:new RegExp("^hsla\\("+[t,a,a,t]+"\\)$")},u={hex3:function(r){return{r:17*((r=parseInt(r[1],16))>>8),g:17*(240&r)>>4,b:17*(15&r),a:1}},hex6:function(r){return{r:(r=parseInt(r[1],16))>>16,g:r>>8&255,b:255&r,a:1}},rgbint:function(r){return{r:+r[1],g:+r[2],b:+r[3],a:1}},rgbp:function(r){return{r:255*r[1]/100,g:255*+r[2]/100,b:255*+r[3]/100,a:1}},rgbaint:function(r){return{r:+r[1],g:+r[2],b:+r[3],a:+r[4]}},rgbap:function(r){return{r:255*r[1]/100,g:255*+r[2]/100,b:255*r[3]/100,a:+r[4]}},hslap:function(r){return{h:+r[1],s:r[2]/100,l:r[3]/100,a:+r[4]}},hslp:function(r){return{h:+r[1],s:r[2]/100,l:r[3]/100,a:1}},all:function(r){var n,t,a;if("object"==typeof r)return null==r.a&&(r.a=1),r["@a"]?g.lab2rgb(r):r.c?g.hcl2rgb(r):r.hex?(n=l.hex3.exec(r.hex))?((t=u.hex3(n)||{}).a=r.a,t):(n=l.hex6.exec(r.hex))?((t=u.hex6(n)).a=r.a,t):r:r.value?u.all(r.value):r;if("number"==typeof r)return g.num2rgb(r);for(a in r=(r+"").trim().toLowerCase(),t=l)if(n=t[a].exec(r))return u[a](n);return"undefined"!=typeof named&&null!==named&&named[r]?g.num2rgb(named[r]):"transparent"===r?{r:NaN,g:NaN,b:NaN,a:0}:{r:NaN,g:NaN,b:NaN,a:NaN}}},e=function(r){return c(this,u.all(r))},b=6/29,h=3*b*b,i=.96422,o=.82521,g={num2rgb:function(r){return{r:r>>16,g:r>>8&255,b:255&r,a:1}},_hsl2rgb:function(r,n,t){return 255*(r<60?n+(t-n)*r/60:r<180?t:r<240?n+(t-n)*(240-r)/60:n)},hsl2rgb:function(r){var n,t=r.h,a=r.s,l=r.l,r=r.a;return t=t%360+360*(t<0),a=isNaN(t)||isNaN(a)?0:a,{r:0<(n=this._hsl2rgb(240<=t?t-240:120+t,a=2*l-(l=l+(l<.5?l:1-l)*a),l))?n:0,g:0<(n=this._hsl2rgb(t,a,l))?n:0,b:0<(n=this._hsl2rgb(t<120?240+t:t-120,a,l))?n:0,a:r}},rgb2hsl:function(r){var n,t,a,l,u,e=r.r,b=r.g,h=r.b,r=r.a,i=[e/255,b/255,h/255];return e=i[0],b=i[1],h=i[2],n=Math.max(e,b,h),u=Math.min(e,b,h),a=(n+u)/2,u=0==(t=n-u)?(l=(i=[0,0])[0],i[1]):(l=function(){switch(!1){case n!==e:return(b-h)/t%6*60;case n!==b:return 60*((h-e)/t+2);case n!==h:return 60*((e-b)/t+4)}}(),t/(1-Math.abs(2*a-1))),{h:l=(l+360)%360,s:u,l:a,a:r}},_rgb2lrgb:function(r){return(r/=255)<=.04045?r/12.92:Math.pow((r+.055)/1.055,2.4)},_xyz2lab:function(r){return.008856451679035631<r?Math.pow(r,1/3):r/h+4/29},_lab2xyz:function(r){return b<r?r*r*r:h*(r-4/29)},_lrgb2rgb:function(r){return 0<(r=(r=255*(r<=.0031308?12.92*r:1.055*Math.pow(r,1/2.4)-.055))<255?r:255)?r:0},lab2rgb:function(r){var r=[r["@l"],r["@a"],r["@b"],null!=r.a?r.a:1],n=r[1],t=r[2],a=r[3],r=(r[0]+16)/116,n=isNaN(n)?r:r+n/500,t=isNaN(t)?r:r-t/200;return n=i*g._lab2xyz(n),r=+g._lab2xyz(r),t=o*g._lab2xyz(t),{r:g._lrgb2rgb(3.1338561*n-1.6168667*r-.4906146*t),g:g._lrgb2rgb(-.9787684*n+1.9161415*r+.033454*t),b:g._lrgb2rgb(.0719453*n-.2289914*r+1.4052427*t),a:a}},lab2hcl:function(r){var n,r=[r["@l"],r["@a"],r["@b"],null!=r.a?r.a:1],t=r[0],a=r[1],l=r[2],r=r[3];return 0===a&&0===l?{h:NaN,c:0,l:t,a:r}:(n=180*Math.atan2(l,a)/Math.PI,{h:isNaN(n)?n:n<0?360+n:0<n?n:0,c:Math.sqrt(a*a+l*l),l:isNaN(t)||0<t?t:0,a:r})},hcl2lab:function(r){var n;return r.a=null!=r.a?r.a:1,isNaN(r.h)?{"@l":r.l,"@a":0,"@b":0,a:r.a}:(n=r.h*Math.PI/180,{"@l":r.l,"@a":Math.cos(n)*r.c,"@b":Math.sin(n)*r.c,a:r.a})},hcl2rgb:function(r){return this.lab2rgb(this.hcl2lab(r))}},s={same:function(r,n){var t;return null==n&&(n=this),(r=(t=[this.rgb(this.rgbaStr(r)),this.rgb(this.rgbaStr(n))])[0]).r===(n=t[1]).r&&r.g===n.g&&r.b===n.b&&(r.a||1).toFixed(3)===(n.a||1).toFixed(3)},rgb:function(r){return null!=(r=u.all(r=null==r?this:r)).c?g.lab2rgb(g.hcl2lab(r)):null!=r.h?g.hsl2rgb(r):r},rgbfv:function(r){return[(r=this.rgb(r=null==r?this:r)).r/255,r.g/255,r.b/255]},web:function(r,n){var t;return null==n&&(n=!1),"currentcolor"===(((r=null==r?this:r)||"")+"").toLowerCase()?r:null!=(t=s.rgb(r)).a&&(isNaN(t.a)||!t.a&&["r","g","b"].filter(function(r){return null!=t[r]&&isNaN(t[r])}).length)?"transparent":t.a<1?this.rgbaStr(t):this.hex(t,n)},rgbaStr:function(r){r=s.rgb(r=null==r?this:r);return"rgba("+Math.round(r.r)+", "+Math.round(r.g)+", "+Math.round(r.b)+", "+r.a+")"},hsl:function(r){return null!=(r=u.all(r=null==r?this:r)).r?g.rgb2hsl(r):r},hex:function(r,n){var t,a;return null==n&&(n=!1),null!=(r=null==r?this:r)&&"boolean"==typeof r&&(r=(t=[this,r])[0],n=t[1]),a=s.rgb(r),a=["r","g","b"].map(function(r){r=((r=Math.round(a[r]))<255?r:255).toString(16)+"";return function(r,n){for(var t="";0<n;(n>>=1)&&(r+=r))1&n&&(t+=r);return t}("0",2-r.length)+r}).join(""),"#"+(a=n&&a[0]===a[1]&&a[2]===a[3]&&a[4]===a[5]?a[0]+a[2]+a[4]:a)},lab:function(r){var n,t,a,l,u,e;return(r=null==r?this:r).c?g.hcl2lab(r):(n=(r=s.rgb(r)).r,t=r.g,a=r.b,r=r.a,n=g._rgb2lrgb(n),t=g._rgb2lrgb(t),a=g._rgb2lrgb(a),l=g._xyz2lab(.2225045*n+.7168786*t+.0606169*a),n===t&&t===a?u=e=l:(u=g._xyz2lab((.4360747*n+.3850649*t+.1430804*a)/i),e=g._xyz2lab((.0139322*n+.0971045*t+.7141733*a)/o)),{"@l":116*l-16,"@a":500*(u-l),"@b":200*(l-e),a:r})},hcl:function(r){return g.lab2hcl(s.lab(r=null==r?this:r))},int:function(r){return r=s.rgb(r=null==r?this:r),(Math.round(r.r)<<16)+(Math.round(r.g)<<8)+Math.round(r.b)},rand:function(){return{h:360*Math.random(),s:Math.random(),l:Math.random(),a:1}},complement:function(r){r=s.rgb(r);return s.hsl({r:255-r.r,g:255-r.g,b:255-r.b})},lighter:function(r,n){return null==n&&(n=1),(r=s.hsl(r=null==r?this:r)).l*=Math.pow(1/.7,n),r},darker:function(r,n){return null==n&&(n=1),(r=s.hsl(r=null==r?this:r)).l*=Math.pow(.7,n),r}};for(r in c(e,s),e.prototype=c(Object.create(Object.prototype),s),s)!function(r,n){e.prototype[r]=function(){return n(this)}}(r,s[r]);function c(r,n){var t,a={}.hasOwnProperty;for(t in n)a.call(n,t)&&(r[t]=n[t]);return r}"undefined"!=typeof module&&null!==module?module.exports=e:window.ldColor=window.ldcolor=e}.call(this);
!function(){var t;function l(t,i){var e,n={}.hasOwnProperty;for(e in i)n.call(i,e)&&(t[e]=i[e]);return t}(t=function(t){var i,e,n,s,o,r=this;if(null==t&&(t={}),this.evtHandler={},this.opt=l({min:0,max:100,from:0,to:0,step:1},t),this.val={to:0,from:0},this.root=t="string"==typeof t.root?document.querySelector(t.root):t.root,"INPUT"===this.root.tagName){for(this.input=this.root,ld$.attr(this.input,"type","hidden"),this.root=t=document.createElement("div"),this.input.parentNode.insertBefore(this.root,this.input),i=0,e=this.input.classList.length;i<e;++i)n=i,this.root.classList.add(this.input.classList[n]);this.input.setAttribute("class",""),(s=this.input.getAttribute("data-class"))&&this.input.classList.add.apply(this.input.classList,s.split(" ")),this.input.addEventListener("change",s=function(){var t;return r.range?(t=(r.input.value||"").split(/\s*~\s*/),t={from:parseFloat((t[0]||"").trim()),to:parseFloat((t[1]||"").trim())},isNaN(t.from)&&(t.from=0),isNaN(t.to)&&(t.from=0),r.repos(t.from,!0,!1,!0,!1),r.repos(t.to,!0,!1,!0,!0)):(t=parseFloat((r.input.value||"").trim()),isNaN(t)&&(t=0),r.repos(t,!0,!1,!0))}),this.input.addEventListener("input",s)}return"undefined"!=typeof ResizeObserver&&null!==ResizeObserver&&new ResizeObserver(function(t){return r.set(r.get())}).observe(this.root),(this.root._ldrs=this).root.classList.add("ldrs"),this.root.innerHTML='<div class="bar">\n  <div class="cap"></div>\n  <div class="cap"></div>\n  <div class="bar-inner">\n    <div class="bk"></div>\n    <div class="fg"></div>\n    <div class="line lock"></div>\n    <div class="line p"></div>\n    <div class="hint p"></div>\n    <div class="line p alt"></div>\n    <div class="hint p alt"></div>\n  </div>\n</div>\n<div class="hint l"></div>\n<div class="hint lock"></div>\n<div class="hint r"></div>',this.el=s={b:{fg:ld$.find(t,".fg",0)},p:ld$.find(t,".line.p",0),q:ld$.find(t,".line.p.alt",0),h:{p:ld$.find(t,".hint.p",0),q:ld$.find(t,".hint.p.alt",0),l:ld$.find(t,".hint.l",0),r:ld$.find(t,".hint.r",0),lock:ld$.find(t,".hint.lock",0),lockLine:ld$.find(t,".lock-line",0)}},o={touched:!1,move:function(t){var i=(i=(t.touches||[])[0])?i.pageX:t.clientX;return 1&t.buttons||o.touched?r.repos(i,!0,!0,!1,o.alt):o.up(t)},up:function(){var t;return document.removeEventListener("touchend",function(t){return o.touched=!1,o.up(t)}),document.removeEventListener("touchmove",o.move),document.removeEventListener("mouseup",o.up),document.removeEventListener("mousemove",o.move),(t=o.alt?[r.el.h.q,r.val.to]:[r.el.h.p,r.val.from])[0].innerText=r.label.ptr(Math.round(1e4*t[1])/1e4)+(r.opt.unit||"")},prepare:function(t){return o.alt=!!(t.target&&t.target.classList&&t.target.classList.contains("alt")),document.addEventListener("mousemove",o.move),document.addEventListener("touchmove",o.move),document.addEventListener("mouseup",o.up),document.addEventListener("touchend",function(t){return o.touched=!1,o.up(t)})}},s.p.addEventListener("mousedown",o.prepare),s.p.addEventListener("touchstart",function(t){return o.touched=!0,o.prepare(t)}),t.addEventListener("click",o.move),t.addEventListener("mousedown",o.prepare),t.addEventListener("touchstart",function(t){return o.touched=!0,o.prepare(t)}),this.prepare(),this}).prototype=l(Object.create(Object.prototype),{on:function(t,i){var e;return((e=this.evtHandler)[t]||(e[t]=[])).push(i)},fire:function(t){for(var i,e,n,s,o=[],r=[],l=1,a=arguments.length;l<a;++l)r.push(arguments[l]);for(i=r,l=0,n=(e=this.evtHandler[t]||[]).length;l<n;++l)s=e[l],o.push(s.apply(this,i));return o},update:function(){return this.range?this.set(this.val):this.set(this.val.from)},_f:function(t){var i=((this.opt.step+"").split(".")[1]||"").length;return+t.toFixed(i)},updateInput:function(t){var i=this,t=(null!=t?t:{now:!1}).now;return clearTimeout(this.debounce),this.debounce=setTimeout(function(){var t;if(i.range){if(t=i._f(i.val.from)+" ~ "+i._f(i.val.to),i.input.value!==t)return i.input.value=t}else if(i.input.value!==i.val.from)return i.input.value=i._f(i.val.from)},t?0:500)},edit:function(t){if(this.input)return null==t&&(t="hidden"===this.input.getAttribute("type")),this.input.setAttribute("type",t?"text":"hidden"),this.root.style.display=t?"none":"",t?void 0:this.update()},prepare:function(){var i=this;return null!=this.opt.from&&(this.val.from=this.opt.from),null!=this.opt.to&&(this.val.to=this.opt.to),this.opt.exp&&(this.expFactor=Math.log(this.opt.exp.output||this.opt.max-this.opt.min)/Math.log(this.opt.exp.input)),this.label=l({ptr:function(t){return t===i.opt.min&&null!=i.label.min?i.label.min:t===i.opt.max&&null!=i.label.max?i.label.max:t}},this.opt.label||{}),this.el.h.l.innerText=(null!=this.label.min?this.label:this.opt).min+(this.opt.unit||""),this.el.h.r.innerText=(null!=this.label.max?this.label:this.opt).max+(this.opt.unit||""),this.el.h.p.innerText=this.label.ptr(this.opt.from)+(this.opt.unit||""),this.el.h.q.innerText=this.label.ptr(this.opt.to)+(this.opt.unit||""),this.root.classList[null!=this.opt.limitMax?"add":"remove"]("limit"),this.range=null!=this.opt.range?this.opt.range:!!this.root.classList.contains("range"),this.range&&this.root.classList.toggle("range",this.range),this.update()},setConfig:function(t){return this.opt=l({min:0,max:100,from:0,to:0,step:1},t=null==t?{}:t),this.prepare()},set:function(t,i){return null==i&&(i=!1),this.range?(this.repos(t.from,i,!1,!1,!1),this.repos(t.to,i,!1,!1,!0)):this.repos(t,i)},get:function(){return this.range?this.val:this.val.from},repos:function(t,i,e,n,s){var o,r,l,a,h,p,u,d,m,c,v,f;for(v in null==i&&(i=!1),null==e&&(e=!1),null==n&&(n=!1),r=this.val[o=(s=null==s?!1:s)?"to":"from"],l=this.el.h[s?"q":"p"],m=.6*(a=(s=this.el[s?"q":"p"]).parentNode.getBoundingClientRect()).width,e?(e=(h=(p=0<(f=t-a.x)?f:0)<(u=a.width)?p:u)/a.width,this.expFactor&&(e=Math.pow(e,this.expFactor)),d=this.opt.min+(this.opt.max-this.opt.min)*e,null!=this.opt.limitMax&&(d=m<h?this.opt.limitMax+(this.opt.max-this.opt.limitMax)*(h-m)/(a.width-m):(e=h/m,this.expFactor&&(e=Math.pow(e,this.expFactor)),this.opt.min+this.opt.limitMax*e))):d=t,d=t=(p=(f=this.opt.min+Math.round((d-this.opt.min)/this.opt.step)*this.opt.step)>(m=this.opt.min)?f:m)<(u=this.opt.max)?p:u,this.val[o]=d,c={},p=this.val)t=p[v],!this.range&&"to"===v||(h=null!=this.opt.limitMax?t>this.opt.limitMax?(t-this.opt.limitMax)/(this.opt.max-this.opt.limitMax)*40+60:this.expFactor?60*Math.pow((t-this.opt.min)/(this.opt.limitMax-this.opt.min),1/this.expFactor):60*(t-this.opt.min)/(this.opt.limitMax-this.opt.min):this.expFactor?100*Math.pow((t-this.opt.min)/(this.opt.max-this.opt.min),1/this.expFactor):(t-this.opt.min)/(this.opt.max-this.opt.min)*100,null!=this.opt.limitMax&&this.opt.limitHard&&(60<h&&(h=60),t>this.opt.limitMax)&&(t=this.opt.limitMax),this.val[v]=t,c[v]=h);if(h=c[o],t=this.val[o],e=this.range?Math.min(c.from,c.to)+.5:0,f=this.range?Math.max(c.from,c.to)-e+.5:c.from,l.getBoundingClientRect(),l.innerText=this.label.ptr(Math.round(1e4*t)/1e4)+(this.opt.unit||""),l.style.left=.01*h*a.width*100/a.width+"%",l.style.transform="translate(-50%,0)",s.style.left=h+"%",this.el.b.fg.style.width=f+"%",this.el.b.fg.style.left=e+"%",t!==r&&i&&this.fire("change",this.range?this.val:this.val[o]),this.input)return this.updateInput({now:!n})}}),"undefined"!=typeof module&&null!==module?module.exports=t:"undefined"!=typeof window&&null!==window&&(window.ldslider=t)}.call(this);
!function(){var u;function t(t,n){var r,e={}.hasOwnProperty;for(r in n)e.call(n,r)&&(t[r]=n[r]);return t}(u=function(r){var e=this;return null==r&&(r={}),this.opt=t({activeClass:"running",baseZ:4e3,autoZ:!1,className:"",atomic:!0},r),this._toggler="function"==typeof r.toggler?r.toggler:function(){},r.zmgr&&this.zmgr(r.zmgr),["root","container"].map(function(t){var n;if(r[t])return n=Array.isArray(r[t])?r[t]:r[t]instanceof NodeList?Array.from(r[t]):[r[t]],e[t]=n.map(function(t){var n="string"==typeof t?document.querySelector(t):t;return n||console.warn("[ldloader] warning: no node found for "+t),n})}),this.container||(this.container=this.root?this.root.map(function(t){return t.parentNode}):[document.body]),this.root||(this.root=this.container.map(function(t){var n=document.createElement("div");return t.appendChild(n),n})),this.root.map(function(t){if(t.classList.add.apply(t.classList,(e.opt.className||"").split(" ").filter(function(t){return t})),t.classList.remove(r.activeClass),r.inactiveClass)return t.classList.add(r.inactiveClass)}),this.running=!1,this.count=0,this}).prototype=t(Object.create(Object.prototype),{zmgr:function(t){return null!=t?this._zmgr=t:this._zmgr},isOn:function(){return this.running},on:function(t){return this.toggle(!0,t=null==t?0:t)},off:function(t,n){return this.toggle(!1,t=null==t?0:t,n=null==n?!1:n)},cancel:function(t){if(clearTimeout(this.handle),null!=t)return this.toggle(t)},flash:function(t,n){var r=this;return null==t&&(t=1e3),null==n&&(n=0),this.toggle(!0,n).then(function(){return r.toggle(!1,t+n)})},render:function(){var t,r,e=this;return this.running&&this.opt.ctrl&&this.opt.ctrl.step?(this.render.runid=t=Math.random(),this.render.start=0,this.opt.ctrl.init&&this.root.map(function(t){return e.opt.ctrl.init.call(t)}),r=function(n){return e.render.start||(e.render.start=n),e.root.map(function(t){return e.opt.ctrl.step.call(t,n-e.render.start)}),e.render.runid===t?requestAnimationFrame(function(t){return r(t)}):e.opt.ctrl.done?e.root.map(function(t){return e.opt.ctrl.done.call(t,n-e.render.start)}):void 0},requestAnimationFrame(function(t){return r(t)})):this.render.runid=-1},toggle:function(r,e,o){var i,s=this;return null==e&&(e=0),null==o&&(o=!1),i=null==r?this.root[0].classList.contains(this.opt.activeClass)?-1:1:r?1:-1,this.handle&&this.cancel(),e?new Promise(function(t,n){return s.handle=setTimeout(function(){return s.toggle(r).then(function(){return t()})},e)}):new Promise(function(t,n){var r,e;return s.count=0<(r=s.count+i)?r:0,(o||s.opt.atomic||!(2<=s.count||1===s.count&&i<0))&&(s.root.map(function(t){if(t.classList.toggle(s.opt.activeClass,0<i),s.opt.inactiveClass)return t.classList.toggle(s.opt.inactiveClass,i<0)}),s.running=r=s.root[0].classList.contains(s.opt.activeClass),s.opt.ctrl&&s.render(),s.opt.autoZ)&&(e=s._zmgr||u._zmgr,r?(s.z=e.add(s.opt.baseZ),s.root.map(function(t){return t.style.zIndex=s.z})):e.remove(s.z)),t()}).then(function(){return s._toggler(0<i)})}}),t(u,{_zmgr:{add:function(t){return(this.s||(this.s=[])).push(t=Math.max(t||0,((t=this.s)[t.length-1]||0)+1)),t},remove:function(t){if(!((t=(this.s||(this.s=[])).indexOf(t))<0))return this.s.splice(t,1)}},zmgr:function(t){return null!=t?this._zmgr=t:this._zmgr}}),"undefined"!=typeof module&&null!==module?module.exports=u:"undefined"!=typeof window&&null!==window&&(window.ldloader=u)}.call(this);
!function(){var r,n;function i(t,e){var n,r={}.hasOwnProperty;for(n in e)r.call(e,n)&&(t[n]=e[n]);return t}r=function(t,e){return null==e&&(e="ldlz"),(/\?/.exec(t=null==t?"":t)?"&":"?")+e+"="+Math.random().toString(36).substring(2)},(n=function(t){var e,n=this,r=(t=null==t?{}:t).root;return this.opt=i({debounce:10},t),this.root=r="string"==typeof r?document.querySelector(r):r||null,this.pending=[],t=this.opt.debounce&&"undefined"!=typeof debounce&&null!==debounce?(e=debounce(this.opt.debounce||10,function(){return n.handle(n.pending),n.pending=[]}),function(t){return t.map(function(t){var e=t.target._lzs;return e.changed=!0,e.visible=t.isIntersecting,e}),n.pending=n.pending.concat(t.map(function(t){return t.target})),e(t.map(function(t){return t.target}))}):function(t){return t.map(function(t){var e=t.target._lzs;return e.changed=!0,e.visible=t.isIntersecting,e}),n.handle(t.map(function(t){return t.target}))},this.obs=new IntersectionObserver(t,{root:r}),this.list=[],this}).prototype=i(Object.create(Object.prototype),{add:function(t){var n=this;return(Array.isArray(t)?t:[t]).map(function(t){var e;if(n.obs.observe(t),n.list.push(t),t._lzs={src:t.getAttribute("data-src")||t.getAttribute("src")},t.classList.contains("nocache")&&(t._lzs.src+=r(t._lzs.src),t.hasAttribute("src")&&t.setAttribute("src",t._lzs.src)),t.classList.contains("placeholder"))return e=document.createElement("img"),t.appendChild(e),e.src=t._lzs.src+r(t._lzs.src,"ldlzp"),e.style.opacity=0})},remove:function(t){var n=this;return(Array.isArray(t)?t:[t]).map(function(t){var e;return n.obs.unobserve(t),n.list.splice(n.list.indexOf(t),1),e=t._lzs,delete t._lzs,e})},handle:function(t){var n=this;if(t.map(function(t){var e=t._lzs;if(e.changed)return e.changed=!1,e.visible?(e.src&&("IMG"===t.nodeName?t.setAttribute("src",e.src):t.style.backgroundImage="url("+e.src+")",delete e.src),t.style.opacity=1,t.style.visibility="visible"):(t.style.opacity=0,t.style.visibility="hidden")}),this.opt.toggle)return t.map(function(t){var e=t._lzs;if(e.changed)return n.opt.toggle(t,e.visible)})}}),i(n,{px:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEAAAAALAAAAAABAAEAAAIA",init:function(){var t=function(){var e=new n;return Array.from(document.querySelectorAll(".ldlz")).map(function(t){return e.add(t)})},e=document.readyState;return"loaded"===e||"interactive"===e||"complete"===e?t():window.addEventListener("DOMContentLoaded",t)}}),"undefined"!=typeof module&&null!==module?module.exports=n:"undefined"!=typeof window&&null!==window&&(window.ldlazy=n)}.call(this);
!function(){var n,i;function o(t,e){var o,s={}.hasOwnProperty;for(o in e)s.call(e,o)&&(t[o]=e[o]);return t}n={},(i=function(t){var e=this;return null==t&&(t={}),this.opt={className:["ldnotify-item"],classIn:["ldnotify-in"],classOut:["ldnotify-out"],delay:3e3},o(this.opt,t),["className","classIn","classOut"].map(function(t){if("string"==typeof e.opt[t])return e.opt[t]=e.opt[t].split(" ").filter(function(t){return t.trim()})}),t.classByType&&(this.classByType=t.classByType),this.root="string"==typeof t.root?document.querySelector(t.root):t.root,this.root||(this.root=document.body.appendChild(document.createElement("div"))),this.root.classList.add("ldnotify"),this}).prototype=o(Object.create(Object.prototype),{classByType:function(t){return"ldnotify-"+t},send:function(t,e){var o=this,s=document.createElement("div"),n=document.createElement("span");return s.appendChild(n),s.setAttribute("class",this.opt.className.concat(this.opt.classIn,[this.classByType(t)]).join(" ")),n.innerText=e,this.root.insertBefore(s,this.root.childNodes[0]),setTimeout(function(){return s.classList.remove.apply(s.classList,o.opt.classIn),s.classList.add.apply(s.classList,o.opt.classOut),setTimeout(function(){if(s.parentNode)return s.parentNode.removeChild(s)},o.opt.delay)},this.opt.delay)}}),i.send=function(){for(var t,e=[],o=0,s=arguments.length;o<s;++o)e.push(arguments[o]);return t=e,n.obj||(n.obj=new i),n.obj.send.apply(n.obj,t)},"undefined"!=typeof module&&null!==module?module.exports=i:"undefined"!=typeof window&&null!==window&&(window.ldnotify=i)}.call(this);
!function(){var w,_;function y(t,e){var n,i={}.hasOwnProperty;for(n in e)i.call(e,n)&&(t[n]=e[n]);return t}function g(t,e){for(var n=-1,i=e.length>>>0;++n<i;)if(t===e[n])return!0;return!1}w=function(e,t,n){return e.node.addEventListener(t,function(t){return n(y({evt:t},e))})},(_=function(t){var e,n,i,r,o,s,a,c,h,l,d=this;for(null==t&&(t={}),this.evtHandler={},this._ctxs=t.ctxs||null,this.views=[this].concat(t.baseViews||[]),this._ctx=t.context||t.ctx||null,t.context&&console.warn("[ldview] `context` is deprecated. use `ctx` instead."),this.attr=t.attr||{},this.style=t.style||{},this.handler=t.handler||{},this.action=t.action||{},this.text=t.text||{},this.initer=t.init||{},this.prefix=t.prefix,this.global=t.global||!1,this.ld=this.global?"pd":"ld",this.initRender=null==t.initRender||t.initRender,this.root="string"==typeof t.root?ld$.find(document,t.root,0):t.root,this.root||console.warn("[ldview] warning: no node found for root ",t.root),this.root.setAttribute&&!this.global&&(this.id="ld-"+Math.random().toString(36).substring(2),this.root.setAttribute("ld-scope-"+this.id,"")),(this.template=t.template)&&(this.root.textContent="",this.root.appendChild(this.template.cloneNode(!0))),this.update(),e={},n=0,s=(i=[function(){var t=[];for(r in this.initer)t.push(r);return t}.call(this)].concat([function(){var t=[];for(r in this.attr)t.push(r);return t}.call(this)],[function(){var t=[];for(r in this.style)t.push(r);return t}.call(this)],[function(){var t=[];for(r in this.text)t.push(r);return t}.call(this)],[function(){var t=[];for(r in this.handler)t.push(r);return t}.call(this)],function(){var t,e=[];for(r in t=this.action)o=t[r],e.push(o);return e}.call(this).map(function(t){var e,n=[];for(e in t)n.push(e);return n}))).length;n<s;++n)for(c=0,h=(a=i[n]).length;c<h;++c)e[a[c]]=!0;for(r in l=[],e)l.push(r);return this.names=l,this.initRender&&this.init().then(function(){return d.render()}),this}).prototype=y(Object.create(Object.prototype),{update:function(t){var e,n,i,r,o,s,a=this;if(null==t&&(t=this.root),this.nodes||(this.nodes=[]),this.eaches||(this.eaches=[]),this.map||(this.map={nodes:{},eaches:{}}),e=this.prefix?"["+this.ld+"-each^="+this.prefix+"\\$]":"["+this.ld+"-each]",n=this.global?[]:ld$.find(t,(this.id?"[ld-scope-"+this.id+"] ":"")+"[ld-scope] "+e),i=ld$.find(t,e),r=this.eaches.map(function(t){return t.n}),o=i.filter(function(t){return!g(t,n)}).filter(function(t){return!g(t,r)}).map(function(t){var e,n,i,r;if(!t.parentNode)return null;try{if(ld$.parent(t.parentNode,"*["+a.ld+"-each]"))return null}catch(t){0}return e=t.getAttribute(a.ld+"-each"),a.handler[e]?(n=t.parentNode,i={idx:Array.from(n.childNodes).indexOf(t),node:t,name:e,nodes:[]},r=document.createComment(" "+a.ld+"-each="+e+" "),a.handler[e].host||n.insertBefore(r,t),n.removeChild(t),(r._data=i).proxy=r,i.container=(t=a.handler[e].host)?new t({root:n}):n,i):null}).filter(function(t){return t}),this.eaches=this.eaches.concat(o),o.map(function(t){var e,n;return((e=a.map.eaches)[n=t.name]||(e[n]=[])).push(t)}),e=this.prefix?"["+this.ld+"^="+this.prefix+"\\$]":"["+this.ld+"]",n=this.global?[]:ld$.find(t,(this.id?"[ld-scope-"+this.id+"] ":"")+"[ld-scope] "+e),o=(i=ld$.find(t,e)).filter(function(t){return!(g(t,n)||g(t,a.nodes))}),this.nodes=this.nodes.concat(o),s=this.prefix?new RegExp("^"+this.prefix+"\\$"):null,o.map(function(n){var i=(n.getAttribute(a.ld)||"").split(" ");return(i=a.prefix?i.map(function(t){return t.replace(s,"").trim()}):i).map(function(t){var e;return((e=a.map.nodes)[t]||(e[t]=[])).push({node:n,names:i,local:{},evts:{}})})}),!this.map.nodes["@"])return this.map.nodes["@"]=[{node:this.root,names:"@",local:{},evts:{}}]},procEach:function(n,i,e,r){var o,s,a,c,h,t,l,d,u,f,p,x,v,m,w,_,y,b=this;for(null==e&&(e=null),y="function"==typeof this._ctx?this._ctx({node:this.root,ctxs:this._ctxs,views:this.views}):this._ctx,o=this.handler[n].list({name:i.name,node:i.node,views:this.views,context:y,ctx:y,ctxs:this._ctxs})||[],s=this.handler[n].key,a={},c=[],h=!!s,s?o.map(function(t){if("object"!=typeof(t=s(t)))return a[t]=(a[t]||0)+1}):s=function(t){return t},t=i.nodes.filter(function(t){return t}).map(function(t){var e=s(t._data);return"object"!=typeof e&&!h||"object"==typeof e&&!g(t._data,o)||h&&!a[e]?(i.container.removeChild(t),delete t._data):(c.push(e),h&&a[e]&&a[e]--),t}).filter(function(t){return null!=t._data}),(l=Array.from(i.container.childNodes).indexOf(i.proxy))<0&&(l=i.container.childNodes.length),d=[],u={},f=o.length-1;0<=f;--f)x=o[p=f],v=s(x),h&&"object"!=typeof v&&(u[v]=(u[v]||0)+1),0<=(m=c.indexOf(v))?(w=t[m],c.splice(m,1),t.splice(m,1),w._data=x,w._obj||(w._obj={node:w,name:n,idx:p,local:{}}),w._obj.data=x,Array.from(i.container.childNodes).indexOf(w)!==(_=l-(o.length-p))&&(i.container.removeChild(w),_=(l=(l=Array.from(i.container.childNodes).indexOf(i.proxy))<0?i.container.childNodes.length:l)-(o.length-p),i.container.insertBefore(w,i.container.childNodes[_+1]),l+=1),d.splice(0,0,w)):h&&"object"!=typeof v&&1<u[v]||((w=i.node.cloneNode(!0))._data=x,w._obj={node:w,name:n,data:x,idx:p,local:{}},w.removeAttribute(this.ld+"-each"),_=l-(o.length-p),i.container.insertBefore(w,i.container.childNodes[_+1]),l+=1,d.splice(0,0,w));return y=d.filter(function(t){return t}),y=(y=null!=e?y.filter(function(t){return g(s(t._obj.data),e)}):y).map(function(t,e){return b._render(n,t._obj,e,b.handler[n],!0,r)}),i.container.update&&i.container.update(),i.nodes=d,Promise.all(y)},get:function(t){return((this.map.nodes[t]||[])[0]||{}).node},getAll:function(t){return(this.map.nodes[t]||[]).map(function(t){return t.node})},_render:function(e,t,n,s,r,i){var o,a,c,h,l,d,u,f,p,x,v=[],m="function"==typeof this._ctx?this._ctx({node:this.root,ctxs:this._ctxs,views:this.views}):this._ctx;t.ctx=m,t.context=m,t.ctxs=this._ctxs,t.views=this.views,s?s.view?(o=function(t){var e=t.node,n=t.local,i=t.data,r=t.ctx,o=t.ctxs,t=t.views;return n._view=new _(((i=y({ctx:i},s.view)).initRender=!1,i.root=e,i.baseViews=t,i.ctxs=o?[r].concat(o):[r],i)),n._view.init()},a=function(t){var e=t.local,n=t.data,i=t.ctx,t=t.ctxs;return r&&e._view.ctx(n),e._view.ctxs(t?[i].concat(t):[i]),e._view.render()}):(o=s.init||null,a=s.handler||s.handle||null,c=s.text||null,h=s.attr||null,l=s.style||null,d=s.action||{}):(o=(u=[this.initer[e],this.handler[e],this.attr[e],this.style[e],this.text[e],this.action])[0],a=u[1],h=u[2],l=u[3],c=u[4],d=u[5]);try{if(o&&!(t.inited||(t.inited={}))[e]&&(t.inited[e]=Promise.resolve(o(t)).then(function(){return t.inited[e]=!0})),i)return Promise.resolve((t.inited||(t.inited={}))[e]);if(a&&a(t),c&&(t.node.textContent="function"==typeof c?c(t):c),h)for(f in u=h(t)||{})p=u[f],t.node.setAttribute(f,p);if(l)for(f in u=l(t)||{})p=u[f],t.node.style[f]=p;for(f in u=d||{})(p=u[f])&&(x=s?p:p[e])&&!(t.evts||(t.evts={}))[f]&&(w(t,f,x),v.push(t.evts[f]=!0));return v}catch(t){throw r=t,console.warn("[ldview] failed when rendering "+e+":",r),r}},bindEachNode:function(t){var e=t.name,n=t.container,i=t.idx,t=t.node;if(e=this.map.eaches[e].filter(function(t){return t.container===n})[0])return null!=i?e.nodes.splice(i,0,t):e.nodes.push(t)},unbindEachNode:function(t){var e=t.name,n=t.container,i=t.idx,t=t.node;if(e=this.map.eaches[e].filter(function(t){return t.container===n})[0])return t&&!i&&(i=e.nodes.indexOf(t)),e.nodes.splice(i,1)},init:function(t){for(var e,n=[],i=1,r=arguments.length;i<r;++i)n.push(arguments[i]);return e=n,this._prerender("init",t,e)},render:function(t){for(var e,n=[],i=1,r=arguments.length;i<r;++i)n.push(arguments[i]);return e=n,this._prerender("render",t,e)},_prerender:function(t,e,n){var r,o,s=this,a="init"===t;return this.fire("beforeRender"),r=function(n){var t,e,i=[];return"object"==typeof n&&(t=[n.name,n.key],n=t[0],e=t[1],Array.isArray(e)||(e=[e])),s.map.nodes[n]&&(i=i.concat(s.map.nodes[n].map(function(t,e){return t.name=n,t.idx=e,s._render(n,t,e,"object"==typeof s.handler[n]?{view:s.handler[n]}:null,!1,a)}))),s.map.eaches[n]&&s.handler[n]&&(i=i.concat(s.map.eaches[n].map(function(t){return s.procEach(n,t,e,a)}))),Promise.all(i)},t=e?(Array.isArray(e)?e:[e]).concat(n).map(r):function(){for(var t,e=[],n=0,i=(t=this.names).length;n<i;++n)o=t[n],e.push(r(o));return e}.call(this),this.fire("afterRender"),Promise.all(t)},setContext:function(t){return console.warn("[ldview] `setContext` is deprecated. use `ctx(...)` instead."),this._ctx=t},setCtx:function(t){return console.warn("[ldview] `setCtx` is deprecated. use `ctx(...)` instead."),this._ctx=t},ctx:function(t){return arguments.length?this._ctx=t:this._ctx},ctxs:function(t){return arguments.length?this._ctxs=t:this._ctxs},on:function(t,e){var n;return((n=this.evtHandler)[t]||(n[t]=[])).push(e)},fire:function(t){for(var e,n,i,r,o=[],s=[],a=1,c=arguments.length;a<c;++a)s.push(arguments[a]);for(e=s,a=0,i=(n=this.evtHandler[t]||[]).length;a<i;++a)r=n[a],o.push(r.apply(this,e));return o}}),"undefined"!=typeof module&&null!==module&&(module.exports=_),"undefined"!=typeof window&&null!==window&&(window.ldView=window.ldview=_)}.call(this);
!function(n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).httputil=n()}(function(){return function t(r,i,u){function f(e,n){if(!i[e]){if(!r[e]){var o="function"==typeof require&&require;if(!n&&o)return o(e,!0);if(c)return c(e,!0);throw(o=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",o}o=i[e]={exports:{}},r[e][0].call(o.exports,function(n){return f(r[e][1][n]||n)},o,o.exports,t,r,i,u)}return i[e].exports}for(var c="function"==typeof require&&require,n=0;n<u.length;n++)f(u[n]);return f}({1:[function(n,e,o){!function(){e.exports=function(n,e,o){var t,r,i;if(e){for(r in t="",(o="string"==typeof o?{expires:o}:o||{}).path||(o.path="/"),o.path=escape(o.path),o)t+=";"+r+"="+o[r];return document.cookie=encodeURIComponent(n)+"="+encodeURIComponent(e)+t}return i={},(document.cookie||"").split(";").map(function(n){return n.split("=").map(function(n){return n.trim()})}).map(function(n){return i[decodeURIComponent(n[0])]=decodeURIComponent(n[1])}),n?i[n]:i}}.call(this)},{}],2:[function(o,t,n){!function(){var n=o("./cookie"),e=o("./qs");t.exports={cookie:n,qs:e}}.call(this)},{"./cookie":1,"./qs":3}],3:[function(n,e,o){!function(){var n={};e.exports=function(o){var t,r,e;return"object"==typeof o?"?"+function(){var n,e=[];for(t in n=o)r=n[t],e.push([t,r]);return e}().map(function(n){return encodeURIComponent(n[0])+"="+encodeURIComponent(n[1])}).join("&"):((e=n.querystring)||(n.querystring=e={},(window.location.search||"").replace(/^\?/,"").split("&").map(function(n){return decodeURIComponent(n).split("=")}).map(function(n){return e[n[0]]=n[1]})),o?e[o]:e)}}.call(this)},{}]},{},[2])(2)});
!function(){var u=/(\D*)([^-]+)-?([.0-9a-zA-Z]*)(\+?[.0-9a-zA-Z]*)/,a=function(r){var e,n,t;return(r=u.exec(r))?(n=(e=[r[2].split("."),r[1]||""])[0],t=e[1]):(n=(e=[[],"",[]])[0],t=e[1],r=e[2]),[+(n[0]||0),+(n[1]||0),+(n[2]||0),r[3]||"",r[4]||"",t]},r=function(r,e){var n,t,u,i=[Array.isArray(r)?r:a(r||""),Array.isArray(e)?e:a(e||"")];for(r=i[0],e=i[1],n=function(){switch(e[5]){case"^":return 0;case"~":return 1;case">":case">=":return-1;default:return 2}}(),t=0;t<3;++t){if((u=t)<=n&&r[u]!==e[u])return!1;if(r[u]<e[u])return!1}return!0};"undefined"!=typeof module&&null!==module?module.exports={parse:a,fit:r}:"undefined"!=typeof window&&null!==window&&(window.semver={parse:a,fit:r})}.call(this);
!function(){var t,g,s,f,x=[].slice;function o(e,t){var n,r={}.hasOwnProperty;for(n in t)r.call(t,n)&&(e[n]=t[n]);return e}g=function(e){return/^:scope[ .:\[#]|^:scope$/.exec(e)},s=function(e,t){return f.__node&&"undefined"!=typeof fs&&null!==fs&&!/^https?:/.exec(e)?new Promise(function(n,r){return fs.readFile(e,function(e,t){return e?r(e):n(t.toString())})}):fetch(e,t).then(function(i){var e;return i&&i.ok?i.text():i?i.clone().text().then(function(e){var t,n=i.status||404,r=new Error(n+" "+e);r.name="lderror",r.id=n,r.message=e,n=r;try{(t=JSON.parse(e))&&"lderror"===t.name&&(o(n,t).json=t)}catch(e){0}return Promise.reject(n)}):Promise.reject(((e=new Error("404")).name="lderror",e.id=404,e))})},(f=function(e,t,n,r){return f.default||(f.default=new f.converter),f.default.convert(e,t,n,r)}).env=function(e){e=[e,e.document];return t=e[1],e},f.id=function(e){var t=e.path||("js"===e.type?"index.min.js":"css"===e.type?"index.min.css":"index.html");return e.id||e.url||(e.ns?e.ns+":":"")+e.name+"@"+(e.version||"main")+":"+t},f.scope=function(e){return e.scope||"_"+btoa(f.id(e)).replace(/=/g,"_")},f._cache={},f._ver={map:{},list:{}},f.cache=function(e){var t,l,n,r,i,s,o,c,a,h,u;if((e="string"==typeof e?{url:e}:e).id||(e.id=f.id(e)),t=this._cache[e.id])return t;if(e.id&&!e.name?((i=e.id.split(":")).length<=2?(l=i[0],n=i[1],r=i[2]):(r=i[0],l=i[1],n=i[2]),s=(i=(i=/^(@?[^@]+)(?:@([^:]+))?$/.exec(l))?i:["",e.id,""])[1],o=i[2]):(r=(c=[e.ns,e.name,e.version||"",e.path||""])[0],s=c[1],o=c[2],n=c[3]),/^[0-9.]+$/.exec(o)){if((t=((c=this._ver.map)[s]||(c[s]={}))[o])&&(o=t),t=this._cache[f.id({name:s,version:o,path:n})])return t;for(a=0,h=((c=this._ver.list)[s]||(c[s]=[])).length;a<h;++a)if(u=a,u=this._ver.list[s][u],semver.fit(u,o)&&(this._ver.map[s][o]=u,e.id=f.id({ns:r,name:s,version:u,path:n}),t=this._cache[e.id]))return t}return function(e,t){var n=-1,r=t.length>>>0;for(;++n<r;)if(e===t[n])return!0;return!1}(o,(c=this._ver.list)[s]||(c[s]=[]))||this._ver.list[s].push(o),this._cache[e.id]=e},f.converter=function(e){return this.scopeTest=(e=null==e?{}:e).scopeTest,this.node=t.createElement("style"),this.iframe=e=t.createElement("iframe"),e.setAttribute("title","for csscope parsing"),e.style.display="none",e.src="about:blank",t.body.appendChild(e),this.iframe.contentDocument.body.appendChild(this.node),this._idx=0,this},f.converter.prototype=o(Object.create(Object.prototype),{getNames:function(e,t){var n,r,i;for(null==t&&(t={}),n=0,r=e.length;n<r;++n)(i=e[n]).name?t[i.name]=!0:i.cssRules&&this.getNames(i.cssRules,t);return t},_convert:function(e,i,t,s,n){var r,o,c,a,u,l;for(null==n&&(n={}),r="",o=0,c=e.length;o<c;++o)(a=e[o]).style&&(n[a.style.animationName]?a.style.animationName=t+"__"+a.style.animationName:a.style.animation&&(a.style.animation=a.style.animation.split(" ").map(h).join(" "))),a.selectorText?(r+=(u=(s?a.selectorText.split(",").map(d).map(m):a.selectorText.split(",").map(f).map(p)).join(","))+"{"+a.style.cssText+"}",a.selectorText=u):a.name?(u=a.name.split(",").map(y).map(v).join(","),r+="@keyframes "+(a.name=u)+" {\n  "+Array.from(a.cssRules).map(_).join("\n")+"\n}"):a.cssRules&&(l=this._convert(a.cssRules,i,t,s,n),r+="@media "+a.conditionText+" {\n  "+l+"\n}");return r;function h(e){return n[e]?t+"__"+e:e}function f(e){return e.trim()}function p(e){return g(e)?e.replace(/^:scope/,i):i+" "+e}function d(e){return e.trim()}function m(e){var t,n,r;return g(e)?e.replace(/^:scope/,i):(n=(r=e.split(" ").map(function(e){return e.trim()}).filter(function(e){return e}))[0],t=x.call(r,1),n=(r=/^[a-zA-Z]/.exec(n)?[n,""]:["",n])[0],r=r[1],/:[a-z-]+$/.exec(e)?i+" :not("+s+") "+e+","+i+" > "+n+r+" "+t.join(" "):i+" :not("+s+") "+e+","+i+" > "+n+":not("+s+")"+r+" "+t.join(" "))}function y(e){return e.trim()}function v(e){return t+"__"+e}function _(e){return e.cssText}},convert:function(e,t,n,r){var i,e="object"==typeof e?e:{name:e,css:t,rule:n,scopeTest:r},t=e.name,n=e.css,r=e.rule,e=e.scopeTest;return r=r||"."+t,t=t||r,e=e||this.scopeTest,n="object"==typeof n?n:(this.node.textContent=(n||"")+("/*"+this._idx++)+"*/",this.node.sheet.cssRules),i=this.getNames(n,{}),this._convert(n,r,t,e,i)||""}}),f.manager=function(e){return null==e&&(e={}),this.attrName="csscope",this._cache={},this.converter=new f.converter,this.counter=0,this.registry(e.registry||"/assets/lib/"),this.init(),this},f.manager.prototype=o(Object.create(Object.prototype),{cache:function(e){var t;return(e="string"==typeof e?{url:e}:e).id||(e.id=f.id(e)),(t=this._cache[e.id])?t:this._cache[e.id]=f.cache(e)},_ref:function(e){var t,n;return"string"==typeof e&&(e={url:e}),"function"==typeof(t=this._reg.url||this._reg)&&((n=o({},e)).url=t(e),e=n),this._reg.fetch?this._reg.fetch(e):e.url},registry:function(e){return"string"==typeof e?("/"===e[e.length-1]&&(e=e.substring(0,e.length-1)),this._reg=(t=e,function(e){return t+"/"+e.name+"/"+(e.version||"main")+"/"+(e.path||"index.min.css")})):this._reg=e;var t},init:function(){if(!this.inited)return this.inited=!0,this.styleNode=t.createElement("style"),this.styleNode.setAttribute("type","text/css"),this.styleNode.setAttribute("data-name","csscope.manager"),this.styleContent=[],t.body.appendChild(this.styleNode)},scope:function(e,t){t=this.get(t=null==t?[]:t);return e.classList.add.apply(e.classList,t.map(function(e){return e.scope})),t},get:function(e){var t=this;return null==e&&(e=[]),(Array.isArray(e)?e:[e]).map(function(e){return t.cache(e)}).filter(function(e){return e.scope})},load:function(e,n,t){var r,i=this;return e=(Array.isArray(e)?e:[e]).map(function(e){return i.cache(e)}),r=[],Promise.all(e.map(function(t){var e;return t.inited?Promise.resolve():t.scope&&t.code?(t.inited=!0,r.push(t.code),Promise.resolve()):((e=i._ref(t)).then?e.then(function(e){return i.cache((t.id=void 0,t.version=e.version,t)),e}):s(e,{method:"GET"}).then(function(e){return{content:e}})).then(function(e){e=e.content;return t.inited=!0,t.scope=f.scope(t),t.code=i.converter.convert({css:e,name:t.scope,scopeTest:n}),r.push(t.code)})})).then(function(){return t?e:(i.styleContent.push.apply(i.styleContent,r),i.styleNode.textContent=i.styleContent.join("\n"),i.get(e))})}}),f.env("undefined"!=typeof self&&null!==self?self:globalThis),"undefined"!=typeof module&&null!==module?module.exports=f:"undefined"!=typeof window&&null!==window&&(window.csscope=f)}();
(()=>{var f,c,a,h,e,d;function m(e,t){var n,r={}.hasOwnProperty;for(n in t)r.call(t,n)&&(e[n]=t[n]);return e}a=function(e,t){return d.__node&&"undefined"!=typeof fs&&null!==fs&&!/^https?:/.exec(e)?new Promise(function(n,r){return fs.readFile(e,function(e,t){return e?r(e):n(t.toString())})}):fetch(e,t).then(function(i){var e;return i&&i.ok?i.text():i?i.clone().text().then(function(e){var t,n=i.status||404,r=new Error(n+" "+e);r.name="lderror",r.id=n,r.message=e,n=r;try{(t=JSON.parse(e))&&"lderror"===t.name&&(m(n,t).json=t)}catch(e){0}return Promise.reject(n)}):Promise.reject(((e=new Error("404")).name="lderror",e.id=404,e))})},(h=function(e){var t,n,r,i,o,s=this;return this.lc=(e=null==e?{}:e).context||{},this.id=Math.random().toString(36).substring(2),e.iframe?this.iframe=e.iframe:(this.iframe=t=c.createElement("iframe"),(n=t.style).position="absolute",n.top=0,n.left=0,n.width=0,n.height=0,n.pointerEvents="none",n.opacity=0,t.setAttribute("title","rescope script loader"),t.setAttribute("name","pdb-proxin-"+this.id),c.body.appendChild(t)),r=Object.fromEntries(Reflect.ownKeys(this.iframe.contentWindow).map(function(e){return[e,!0]})),i={},this._proxy=new Proxy(e.target||f,{get:function(e,t,n){return null!=s.lc[t]?s.lc[t]:null!=i[t]?i[t]:"function"==typeof e[t]?i[t]=m(e[t].bind(e),e[t]):null!=r[t]?e[t]:void 0},set:function(e,t,n){return"_rspvarsetcb_"===t?o.on(n.k,n.f):(o.fire(t,n),r[t]?e[t]=n:s.lc[t]=n),!0},defineProperty:function(e,t,n){return Object.defineProperty(s.lc,t,n),s._proxy}}),o={evthdr:{},on:function(e,n){var r=this;return(Array.isArray(e)?e:[e]).map(function(e){var t;return((t=r.evthdr)[e]||(t[e]=[])).push(n)})},fire:function(e){for(var t,n,r,i,o=[],s=[],c=1,u=arguments.length;c<u;++c)s.push(arguments[c]);for(t=s,c=0,r=(n=this.evthdr[e]||[]).length;c<r;++c)i=n[c],o.push(i.apply(this,t));return o}},this}).prototype=((e=Object.create(Object.prototype)).proxy=function(){return this._proxy},e.ctx=function(){return this.lc},e),(d=function(e){var t,n;return null==e&&(e={}),this.id=Math.random().toString(36).substring(2),this.iframe=t=c.createElement("iframe"),this._cache={},this.proxy=new h,this.registry(e.registry||"/assets/lib/"),(n=t.style).position="absolute",n.top=0,n.left=0,n.width=0,n.height=0,n.pointerEvents="none",n.opacity=0,t.setAttribute("title","rescope script loader"),t.setAttribute("name","pdb-rescope-"+this.id),c.body.appendChild(t),t.contentWindow.document.body.innerHTML=(e.preloads||[]).map(function(e){return'<script type="text/javascript" src="'+e+'"><\/script>'}).join(""),this}).env=function(e){e=[e,e.document];return f=e[0],c=e[1],e},d.prop={legacy:{webkitStorageInfo:!0}},d.id=function(e){var t=e.path||("js"===e.type?"index.min.js":"css"===e.type?"index.min.css":"index.html");return e.id||e.url||(e.ns?e.ns+":":"")+e.name+"@"+(e.version||"main")+":"+t},d._cache={},d._ver={map:{},list:{}},d.cache=function(e){var t,n,r,i,o,s,c,u,p,l,f;if((e="string"==typeof e?{url:e}:e).id||(e.id=d.id(e)),t=this._cache[e.id])return t;if(e.id&&!e.name?((o=e.id.split(":")).length<=2?(n=o[0],r=o[1],i=o[2]):(i=o[0],n=o[1],r=o[2]),s=(o=(o=/^(@?[^@]+)(?:@([^:]+))?$/.exec(n))||["",e.id,""])[1],c=o[2]):(i=(u=[e.ns,e.name,e.version||"",e.path||""])[0],s=u[1],c=u[2],r=u[3]),/^[0-9.]+$/.exec(c)){if((t=((u=this._ver.map)[s]||(u[s]={}))[c])&&(c=t),t=this._cache[d.id({ns:i,name:s,version:c,path:r})])return t;for(p=0,l=((u=this._ver.list)[s]||(u[s]=[])).length;p<l;++p)if(f=p,f=this._ver.list[s][f],semver.fit(f,c)&&(this._ver.map[s][c]=f,e.id=d.id({ns:i,name:s,version:f,path:r}),t=this._cache[e.id]))return t}return((e,t)=>{for(var n=-1,r=t.length>>>0;++n<r;)if(e===t[n])return 1})(c,(u=this._ver.list)[s]||(u[s]=[]))||this._ver.list[s].push(c),this._cache[e.id]=e},d.prototype=((e=Object.create(Object.prototype)).peekScope=function(){return!1},e.init=function(){return Promise.resolve()},e._ref=function(e){var t,n;return"string"==typeof e&&(e={url:e}),"function"==typeof(t=this._reg.url||this._reg)&&((n=m({},e)).url=t(e),e=n),this._reg.fetch?this._reg.fetch(e):e.url},e.registry=function(e){return"string"==typeof e?("/"===e[e.length-1]&&(e=e.substring(0,e.length-1)),this._reg=(t=e,function(e){return t+"/"+e.name+"/"+(e.version||"main")+"/"+(e.path||"index.min.js")})):this._reg=e;var t},e.cache=function(e){var t;return(e="string"==typeof e?{url:e}:e).id||(e.id=d.id(e)),(t=this._cache[e.id])||(this._cache[e.id]=d.cache(e))},e.exports=function(e){var t,n,r=[],i=(e=null==e?{}:e).ctx||{},e="string"==typeof e.libs?[e.libs]:e.libs||[],o=(t=[{},this.iframe.contentWindow])[0],s=t[1];for(n in i)o[n]=s[n],s[n]=i[n];for(n in this._exports(e,0,i),o)r.push(s[n]=o[n]);return r},e._exports=function(e,t,n){var r,i,o,s,c,u,p=[];if(null==n&&(n={}),r=e[t=null==t?0:t]){if(i=(u=[{},(r=this.cache(r)).fprop,this.iframe.contentWindow])[0],o=u[1],s=u[2],o)for(c in o)i[c]=s[c],s[c]=o[c];else if(r.fprop=o={},r.prop={},r.propIniting=!0,r.gen)m(o,r.gen.apply(s,[s,s,s])),r.prop=Object.fromEntries((()=>{var e=[];for(c in o)e.push([c,null]);return e})());else{for(c in Object.fromEntries(Reflect.ownKeys(s).filter(function(e){return!d.prop.legacy[e]}).map(function(e){return[e,!0]})))i[c]=s[c];try{s.eval((r.code||"").replace('"use strict";',""))}catch(e){throw u=e,console.error("[@plotdb/rescope] Parse failed",{url:r.url,ns:r.ns,name:r.name,version:r.version,path:r.path}),console.error("[@plotdb/rescope] with this error:",u),u}for(c in Object.fromEntries(Reflect.ownKeys(s).filter(function(e){return!d.prop.legacy[e]}).map(function(e){return[e,!0]})))s[c]!==i[c]&&"NaN"!==c&&(o[c]=s[c],r.prop[c]=null)}for(c in o)n[c]=o[c];for(c in this._exports(e,t+1),o)p.push(s[c]=i[c]);return p}},e._wrap=function(e,t,n){var r,i,o,s,c;for(c in null==t&&(t={}),null==n&&(n={}),r=/^[a-zA-Z_$][a-zA-Z0-9_$]*$/,o="var window, global, globalThis, self, __ret = {}; __win = {};\nwindow = global = globalThis = self = window = scope;",s=function(e){return"window['_rspvarsetcb_'] = {k:'"+e+"',f:function(v){"+e+"=v}};"},i=(e=null==e?{}:e).prop||{})r.exec(c)&&(o+="var "+c+";"+s(c)),o+="__win['"+c+"'] = win['"+c+"']; win['"+c+"'] = undefined;";for(c in t)o+="window['"+c+"'] = ctx['"+c+"'];",r.exec(c)&&(o+="var "+c+" = window['"+c+"'];"+s(c));for(c in o+=e.code+";",i)r.exec(c)?o+="if(!("+c+")) { "+c+" = scope['"+c+"']; }\n__ret['"+c+"'] = "+c+" || window['"+c+"'] || win['"+c+"'] || this['"+c+"'];\nwin['"+c+"'] = __win['"+c+"'];":o+="__ret['"+c+"'] = window['"+c+"'] || win['"+c+"'] || this['"+c+"'];\nwin['"+c+"'] = __win['"+c+"'];";return o+="return __ret;",n.codeOnly?"function(scope, ctx, win){"+o+"}":new Function("scope","ctx","win",o)},e.load=function(e,r,i,o){var t,s,c,u,p,l=this;return null==r&&(r={}),null==i&&(i=!1),null==o&&(o=!1),t=(e=(Array.isArray(e)?e:[e]).map(function(e){return l.cache(e)})).px||(e.px=r&&r.p?r.p:new h),s=t.ctx(),c=t.proxy(),u=[e],(p=function(e){var t,n;return(t=u[e=null==e?0:e])?(n=t.map(function(t){var e;return!t.code&&!t.gen||i?(e=l._ref(t)).then?e.then(function(e){return t.code=e.content,l.cache((t.id=void 0,t.version=e.version,t.code=e.content,t))}):a(e,{method:"GET"}).then(function(e){return t.code=e}):Promise.resolve()}),Promise.all(n).then(function(){if(!o)return l.exports({libs:t,ctx:r.f}),t.map(function(e){return e.propIniting&&(e.gen||(e.gen=l._wrap(e,s)),e.prop=e.gen.apply(c,[c,s,f]),e.propIniting=!1),m(s,e.prop)})}).then(function(){return s}).then(function(){return p(e+1)})):Promise.resolve(s)})(0)},e.context=function(e,t,n){var r;return"function"!=typeof t&&(t=(r=[n,t])[0],n=r[1]),this.load(e,n).then(function(e){return t?t(e):e})},e),d.env("undefined"!=typeof self&&null!==self?self:globalThis),d.proxin=h,d.dualContext=function(){return{p:new h,f:{},ctx:function(){return this.p.ctx()}}},"undefined"!=typeof module&&null!==module?module.exports=d:"undefined"!=typeof window&&null!==window&&(window.rescope=d)})();
!function(){var win,doc,err,_fetch,rid,sanitize,pubsub,block;function import$(e,t){var n,r={}.hasOwnProperty;for(n in t)r.call(t,n)&&(e[n]=t[n]);return e}function in$(e,t){for(var n=-1,r=t.length>>>0;++n<r;)if(e===t[n])return 1}err=function(e,t){var n;return null==e&&(e=""),null==t&&(t=404),Promise.reject(((n=new Error(e)).name="lderror",n.id=t,n.message=e,n))},_fetch=function(i,e){return block.__node&&"undefined"!=typeof fs&&null!==fs&&!/^https?:/.exec(i)?new Promise(function(n,r){return fs.stat(i,function(e,t){return e?r(e):(e=t.isDirectory()?i+"/index.html":i,fs.readFile(e,function(e,t){return e?r(e):n(t.toString())}))})}):fetch(i,e).then(function(o){return o&&o.ok?o.text():o?o.clone().text().then(function(e){var t,n=o.status||404,r=n+" "+e,i=new Error(r);i.name="lderror",i.id=n,i.message=r,n=i;try{(t=JSON.parse(e))&&"lderror"===t.name&&(import$(n,t).json=t)}catch(e){0}return Promise.reject(n)}):err()})},rid=function(){for(var e;e="b-"+Math.random().toString(36).substring(2),rid.hash[e];);return rid.hash[e]=!0,e},rid.hash={},sanitize=function(e){return e||""},pubsub=function(){return this.subs={},this},pubsub.prototype=import$(Object.create(Object.prototype),{fire:function(e){for(var t,n,r=[],i=1,o=arguments.length;i<o;++i)r.push(arguments[i]);return t=r,Promise.all(((n=this.subs)[e]||(n[e]=[])).map(function(e){return e.apply(null,t)}))},on:function(e,t){var n;return((n=this.subs)[e]||(n[e]=[])).push(t)}}),block={id:function(e){var t=e.path||("js"===e.type?"index.min.js":"css"===e.type?"index.min.css":"index.html");return e.id||e.url||(e.ns?e.ns+":":"")+e.name+"@"+(e.version||"main")+":"+t},id2obj:function(e){var t,n,r;return(e=e.split(":")).length<=2?(t=e[0],n=e[1],r=e[2]):(r=e[0],t=e[1],n=e[2]),(e=/^(@?[^@]+)(?:@([^:]+))?$/.exec(t))?{ns:r,name:e[1],version:e[2],path:n}:null},env:function(e){e=[e,e.document];if(win=e[0],doc=e[1],rescope.env&&rescope.env(win),rescope.env)return csscope.env(win)},i18n:{module:{lng:"en",t:function(e,t){for(var n,r,i,o,s,c,a,l,u=Array.isArray(e)?e:[e],h=this.lng,p=0,f=u.length;p<f;++p)if(null!=(n=u[p])){for(r=n.indexOf(":"),i=n.substring(0,r),o=(n=n.substring(r+1)).split("."),s=(c=(c=this.res)[h]||(c[h]={}))[i]||(c[i]={}),a=0,l=o.length;a<l&&(r=a,s);++a)s=s[o[r]];if(s)return s}return n||e[e.length-1]},changeLanguage:function(e){return this._fire("languageChanged",this.lng=e)||"en"},addResourceBundle:function(e,t,n,r,i){var o;return((o=this.res)[e]||(o[e]={}))[t]=n},_evthdr:{},on:function(e,n){var r=this;return(Array.isArray(e)?e:[e]).map(function(e){var t;return((t=r._evthdr)[e]||(t[e]=[])).push(n)})},off:function(e,n){var r=this;return(Array.isArray(e)?e:[e]).map(function(e){var t;if(~(t=((t=r._evthdr)[e]||(t[e]=[])).indexOf(n)))return r._evthdr[e].splice(t,1)})},_fire:function(e){for(var t,n,r,i,o=[],s=[],c=1,a=arguments.length;c<a;++c)s.push(arguments[c]);for(t=s,c=0,r=(n=this._evthdr[e]||[]).length;c<r;++c)i=n[c],o.push(i.apply(this,t));return o},res:{}},use:function(e){return this.module=e},addResourceBundle:function(e,t,n,r,i){return block.i18n.module.addResourceBundle(e,t,n,r=null==r?!0:r,i=null==i?!0:i)},changeLanguage:function(e){return block.i18n.module.changeLanguage(e)}}},Object.defineProperty(block.i18n,"language",{get:function(){return block.i18n.module.lng||block.i18n.module.language}}),block.global={csscope:{hash:{},apply:function(e){var t=this;if((e=e.filter(function(e){return!t.hash[e.id||e.url]}).map(function(e){return t.hash[e.id||e.url]=e.scope})).length)return doc.body.classList.add.apply(doc.body.classList,e)}}},block.init=proxise.once(function(){if(block._rescope)return block._rescope.init()}),block.rescope=function(){return block._rescope||(block._rescope=new rescope({global:null!=win?win:global})),block._rescope},block.csscope=function(){return block._csscope||(block._csscope=new csscope.manager),block._csscope},block.manager=function(e){var t=this;return null==e&&(e={}),this.hash={},this.proxy={},this.running={},this._ver={map:{}},this._chain=e.chain||null,this.init=proxise.once(function(){return t._init()}),this.rescope=e.rescope instanceof rescope?e.rescope:block.rescope(),this.csscope=e.csscope instanceof csscope?e.csscope:block.csscope(),e.registry&&this.registry(e.registry),this.init(),this},block.manager.prototype=import$(Object.create(Object.prototype),{_init:function(){return(this.rescope===block.rescope()?block:this.rescope).init()},id:block.id,id2obj:block.id2obj,chain:function(e){return this._chain=e},registry:function(e){var t;if(null!=(e="string"==(t=typeof e)||"function"==t||e.url||e.fetch?{lib:e,block:e}:e).lib&&(this.rescope===block.rescope()&&(this.rescope=new rescope({global:win})),this.csscope===block.csscope()&&(this.csscope=new csscope.manager),this.rescope.registry(e.lib),this.csscope.registry(e.lib)),null!=e.block&&(this._reg=e.block||"","string"==typeof this._reg&&this._reg&&"/"!==(t=this._reg)[t.length-1]))return this._reg+="/"},set:function(e){var s=this;return null==e&&(e={}),e=Array.isArray(e)?e:[e],Promise.all(e.map(function(e){var t,n=e.ns,r=e.name,i=e.version,o=e.path;return n=n||"",e=e instanceof block.class?e:e.block,((n=(t=(t=s.hash)[n]||(t[n]={}))[r]||(t[r]={}))[i]||(n[i]={}))[o||"index.html"]=e}))},_getUrl:function(e){var t=e.url,n=e.name,r=e.version,i=e.path,e=e.type;return t||(this._reg||"")+"/assets/block/"+n+"/"+(r||"main")+"/"+(i||("block"===e?"index.html":"js"===e?"index.min.js":"index.min.css"))},getUrl:function(e){var t;return e.type||(e.type="block"),"function"==typeof(t=this._reg.url||this._reg)?t(e):this._getUrl(e)},_ref:function(e){var t,n;return"function"==typeof(t=this._reg.url||this._reg)&&((n=import$({},e)).url=t(e),e=n),this._reg.fetch?this._reg.fetch(e):e.url},fetch:function(e){var t;return e.type="block",(t=this._ref(e)).then?t:t?_fetch(t,{method:"GET"}).then(function(e){return{content:e}}):err(e)},_get:function(t){var e,n,r,i,o=this,s=[t.ns||"",t.name,t.version||"main",t.path||"index.html"],c=s[0],a=s[1],l=s[2],u=s[3],h={ns:c,name:a,version:l,path:u,ctx:t.ctx};if(!a||!l)return err("",1015);if(u=u.replace(/\/(index\.html)?$/,""),(s=(e=this.hash)[c]||(e[c]={}))[a]||(s[a]={}),/[^0-9.]/.exec(l)&&!t.force){if(((s=this._ver.map)[c]||(s[c]={}))[a]&&this._ver.map[c][a][l]&&(i=((s=this.hash[c][a])[i=this._ver.map[c][a][l]]||(s[i]={}))[u]))return i;for(n in s=((e=this.hash)[c]||(e[c]={}))[a])if(r=s[n],semver.fit(n,l))return Promise.resolve(r[u])}return null==((s=this.hash[c][a])[l]||(s[l]={}))[u]||t.force?!0!==((s=(e=(i=this.running)[c]||(i[c]={}))[a]||(e[a]={}))[l]||(s[l]={}))[u]?(this.running[c][a][l][u]=!0,this.fetch({ns:t.ns,name:t.name,version:t.version,path:t.path}).then(function(e){var t;return e?(e.version&&(h.version!==e.version&&(((t=o._ver.map[c])[a]||(t[a]={}))[h.version]=e.version),h.version=e.version),e.content||e):e404(h)}).catch(function(e){return o._chain?o._chain.get(t):Promise.reject(e)}).then(function(e){e=new block.class((h.code=e=null==e?{}:e,h.manager=o,h));return o.set((h.block=e,h)),e}).then(function(e){return o.proxy[c][a][l][u].resolve(e),e}).finally(function(){return o.running[c][a][l][u]=!1}).catch(function(e){return o.proxy[c][a][l][u].reject(e),Promise.reject(e)})):void 0:Promise.resolve(this.hash[c][a][l][u])},from:function(e,n){return this.get(e).then(function(e){return e.create().then(function(t){return t.attach(n).then(function(){return t.interface()}).then(function(e){return{instance:t,interface:e}})})})},get:function(t){var e,c=this;return null==t&&(t={}),e=Array.isArray(t)?t:[t],Promise.all(e.map(function(e){var t,n,r=(t=[(e="string"==typeof(e=null==e?{}:e)?block.id2obj(e):e).ns||"",e.name,e.version||"main",e.path||"index.html"])[0],i=t[1],o=t[2],s=(s=t[3]).replace(/\/(index\.html)?$/,"");return((t=(n=(n=c.proxy)[r]||(n[r]={}))[i]||(n[i]={}))[o]||(t[o]={}))[s]||(c.proxy[r][i][o][s]=proxise(function(e){return c._get(e)})),c.proxy[r][i][o][s](e)})).then(function(e){return Array.isArray(t)?e:e[0]})},debundle:function(e){var n=this;return null==e&&(e={}),e=(e=Array.isArray(e)?e:[e]).map(function(t){return Promise.resolve().then(function(){var l=t.manager||n,u={},e=t.root?Promise.resolve("string"==typeof t.root?doc.querySelector(t.root):t.root):(e=t.url?_fetch(t.url,{method:"GET"}):Promise.resolve(t.code||"")).then(function(e){var t;return block.debundleNode||doc.body.appendChild(block.debundleNode=doc.createElement("div")),block.debundleNode.style.display="none",block.debundleNode.appendChild(t=doc.createElement("div")),t.innerHTML=e,t.querySelector("template")});return e.then(function(e){var n,t,r,i,o,s,c,a=[];if(e){for(t in e.content&&(e=e.content),n=[{},{}][0],Array.from(e.childNodes).map(function(e){var t;if(e.nodeType===doc.ELEMENT_NODE)return"SCRIPT"===e.nodeName?u.script=e.cloneNode(!0):"STYLE"===e.nodeName?u.style=e.cloneNode(!0):(t=e.getAttribute("block"))?n[t]=e:void 0}),u.script&&((e=doc.createElement("script")).textContent=u.script.textContent,u.script=e,u.script.import=function(e){return u.codes="function"==typeof e?e():e},u.script.setAttribute("type","text/javascript"),doc.body.appendChild(u.script)),u.style&&(u.style.setAttribute("type","text/css"),doc.body.appendChild(u.style)),n)r=n[t],c=(s=block.id2obj(t)).ns,i=s.name,o=s.version,s=s.path,c=new block.class({manager:l,ns:c,name:i,version:o,path:s,code:{script:u.codes[t],dom:r,style:""}}),a.push(l.set(c));return a}})})}),Promise.all(e)}}),block.class=function(e){var t,n,r,i,o,s,c=this;if(this.opt=e=null==e?{}:e,this.scope=e.scope||null,this._ctx={},this.csscopes={global:[],local:[]},this.ns=e.ns,this.name=e.name,this.version=e.version,this.path=e.path,this.manager=e.manager,e.ns||(e.ns=""),this.manager||console.warn("manager is mandatory when constructing block.class"),t=e.code,e.root?n="string"==typeof e.root?doc.querySelector(e.root):e.root:"string"==typeof(t="function"==typeof t?t():t)?(t=sanitize(t),(r=doc.createElement("div")).innerHTML=(t||"").trim(),this._templates=Array.from(r.querySelectorAll("template[rel=block]")).map(function(e){return e.parentNode.removeChild(e)}),1<r.childNodes.length&&console.warn("DOM definition of a block should contain only one root.")):"object"==typeof t&&(this.script=t.script,this.style=t.style,this.style=t.style,this.script=t.script,(e=t.dom instanceof Function?t.dom():t.dom)instanceof win.Element?n=e:(t=sanitize(e),(r=doc.createElement("div")).innerHTML=t,1<r.childNodes.length&&console.warn("DOM definition of a block should contain only one root."))),["script","style","link"].map(function(e){var t=Array.from((n||r).querySelectorAll(e)).map(function(e){return e.parentNode.removeChild(e),e.textContent}).join("\n");return c[e]=null!=t&&t?t:c[e]||""}),!n&&r)for(i=0,o=r.childNodes.length;i<o&&(s=i,(n=r.childNodes[s]).nodeType!==win.Element.ELEMENT_NODE);++i);return(n=n||doc.createElement("div")).nodeType!==win.Element.ELEMENT_NODE&&console.warn("root of DOM definition of a block should be an Element"),this.node=n,this.init=proxise.once(function(){return c._init()}),this},block.class.prototype=import$(Object.create(Object.prototype),{_init:function(){var this$=this;return block.init().then(function(){if(this$._templates)return Promise.all(this$._templates.map(function(e){return this$.manager.debundle({root:e})}))}).then(function(){var v,ref$,ret;return this$.interface=this$.script instanceof Function?this$.script():"object"==typeof this$.script?this$.script:(v=eval("(function(module){"+(this$.script||"")+";return module.exports;})({})"))instanceof Function?v():v||{},this$.interface||(this$.interface={}),(ref$=this$.interface).pkg||(ref$.pkg={}),this$.name||(this$.name=this$.interface.pkg.name),this$.version||(this$.version=this$.interface.pkg.version),this$.path||(this$.path=this$.interface.pkg.path),this$.id=block.id({ns:this$.ns,name:this$.name||rid(),version:this$.version||rid(),path:this$.path}),this$._id_t=this$.id.replace(/:/g,"="),this$.scope||(this$.scope=csscope.scope(this$)),this$.style&&(doc.body.appendChild(this$.styleNode=doc.createElement("style")),this$.styleNode.setAttribute("type","text/css"),ret=csscope({rule:"*[scope~="+this$.scope+"]",name:this$.scope,css:this$.style,scopeTest:"[scope]"}),ret=ret.replace(/url\("?(?!data:)([^()"]+)"?\)/g,"url("+this$._path("")+"$1)"),this$.styleNode.textContent=ret),this$.factory=function(e){return this._instance=e,this},this$.factory.prototype=import$((ref$=Object.create(Object.prototype),ref$.init=function(){},ref$.destroy=function(){},ref$._class=this$,ref$.interface=function(){if(this.parent)return this.parent.interface instanceof Function?this.parent.interface():this.parent.interface},ref$),this$.interface)}).then(function(){var e,t;if(this$.extends=[],e=this$.interface.pkg.extend)return this$.manager?(e.name||e.url||(e.ns=this$.ns,e.name=this$.name,e.version=this$.version),this$.opt.ctx&&((t=import$({},e)).ctx=this$.opt.ctx,e=t),this$.manager.get(e).then(function(t){this$.extend=t;try{this$.extend._usedby(this$)}catch(e){throw t=e,this$.extend=null,t}return this$.extendDom=!(null!=e.dom)||e.dom,this$.extendStyle=!(null!=e.style)||e.style,this$.extend.init()}).then(function(){return this$.extends=[this$.extend].concat(this$.extend.extends)})):new Error("no available manager to get extended block")}).then(function(){var e,t,n=[],r=this$.interface.pkg.i18n||{};for(e in r)t=r[e],n.push(block.i18n.module.addResourceBundle(e,this$._id_t,t,!0,!0));return n}).then(function(){var n,r;return this$.dependencies=Array.isArray(this$.interface.pkg.dependencies)?this$.interface.pkg.dependencies:function(){var e,t=[];for(n in e=this.interface.pkg.dependencies||{})r=e[n],t.push(r);return t}.call(this$),this$.dependencies.map(function(e){if(e.name||e.url||(e.ns=this$.ns,e.name=this$.name,e.version=this$.version),!e.type)return!/\.js$/.exec(e.url||e.path||e)&&/\.css$/.exec(e.url||e.path||e)?e.type="css":e.type="js"}),this$.extend?this$._ctx=this$.extend.context():this$.opt.ctx?this$._ctx=this$.opt.ctx:rescope.dualContext?this$._ctx=rescope.dualContext():rescope.proxin&&(this$._ctx=new rescope.proxin),this$.manager.rescope.load(this$.dependencies.filter(function(e){return!e.type||"js"===e.type}),this$._ctx)}).then(function(){return this$.manager.csscope.load(this$.dependencies.filter(function(e){return"css"===e.type&&!0===e.global}))}).then(function(e){return this$.csscopes.global=e||[],this$.manager.csscope.load(this$.dependencies.filter(function(e){return"css"===e.type&&!0!==e.global}))}).then(function(e){if(this$.csscopes.local=e||[],this$.extend)return(e=this$.csscopes).global=e.global.concat(this$.extend.csscopes.global||[]),!0===this$.extendStyle?(e=this$.csscopes).local=e.local.concat(this$.extend.csscopes.local||[]):"overwrite"===this$.extendDom?(e=this$.csscopes).local=e.local.concat(this$.extend.csscopes.local.slice(1)):void 0}).catch(function(e){return console.error("[@plotdb/block] init "+block.id(this$),e),this$.interface={},this$.styleNode={},this$.factory=function(){return this},this$.dependencies=[],this$})},_usedby:function(e){var o,s=this;if(this===e)throw new Error("circular extend");return(this._users||(this._users=[])).push(e),(o=function(e){var t,n,r,i=[];if(in$(s,e=null==e?[]:e))throw new Error("circular extend");for(t=0,n=e.length;t<n;++t)r=e[t],i.push(o(r._users));return i})(e._users)},context:function(){return this._ctx},dom:function(){return this.node},_path:function(e){return null==e&&(e=""),this.manager.getUrl({ns:this.ns,name:this.name,version:this.version,path:this.path}).replace(/\/[^/]*$/,"/")+e},i18n:function(t,e){var n=this._id_t;return block.i18n.module.t([n+":"+t].concat(this.extends.map(function(e){return e._id_t+":"+t}),[t+""]),e)},create:function(t){var n=this;return null==t&&(t={}),this.init().then(function(){var e=new block.instance({block:n,ns:n.ns,name:n.name,path:n.path,version:n.version,data:t.data});return e.init().then(function(){if(t.root)return e.attach({root:t.root,before:t.before,autoTransform:t.autoTransform||null})}).then(function(){return e})})},resolvePlugAndCloneNode:function(n,e){var t;return(e=null==e?!1:e)?t=n:(t=this.dom().cloneNode(!0),n&&Array.from(t.querySelectorAll("plug")).map(function(e){var t=e.getAttribute("name"),t=n.querySelector(":scope :not([plug]) [plug="+t+"], :scope > [plug="+t+"]");if(t)return e.replaceWith(t)})),this.extend&&!1!==this.extendDom?"overwrite"===this.extendDom?this.extend.resolvePlugAndCloneNode(t,!0):this.extend.resolvePlugAndCloneNode(t):t}}),block.instance=function(e){var t=this;return this.ns=(e=null==e?{}:e).ns,this.name=e.name,this.version=e.version,this.path=e.path,this.block=e.block,this.data=e.data,this.init=proxise.once(function(){return t._init()}),this},block.instance.prototype=import$(Object.create(Object.prototype),{_init:function(){return this.block.init()},attach:function(e){var t,n,r,i,o,s,c,a,l=this;if(null==e&&(e={}),t=this._defered)return t.before?t.root.insertBefore(t.node,t.before):t.root.appendChild(t.node),Promise.resolve();if(e.data&&(this.data=e.data),t=(t=e.root)?"string"==typeof t?doc.querySelector(t):t:null,block.global.csscope.apply(this.block.csscopes.global),t){for(n=this.dom(e.root),r=[this.block].concat(this.block.extends),i=[this.block.scope],o=0,s=r.length-1;o<s;++o)if("overwrite"!==(a=r[c=o].extendStyle)){if(!1===a)break;i.push(r[c+1].scope)}n.setAttribute("scope",i.join(" ")),n.classList.add.apply(n.classList,this.block.csscopes.local.map(function(e){return e.scope}).concat(this.block.csscopes.global.map(function(e){return e.scope}))),e.defer?this._defered={node:n,root:t,before:e.before}:e.before?t.insertBefore(n,e.before):t.appendChild(n)}else n=null;return"i18n"===e.autoTransform&&block.i18n.module.on("languageChanged",this._i18nTransform=function(){return l.transform("i18n")}),this.run({node:n,type:"init"})},detach:function(){var e=this.dom();return e.parentNode.removeChild(e),this._i18nTransform&&(block.i18n.module.off("languageChanged",this._i18nTransform),this._i18nTransform=null),this.run({node:e,type:"destroy"})},interface:function(){var e;return(e=this.obj)[e.length-1].interface()},_transform:function(e,a,l){var u=new RegExp("^"+a+"-(.+)$"),h=function(e){var t,n,r,i,o,s,c=[];if(e.nodeType===win.Element.TEXT_NODE)return e.parentNode.setAttribute(a,e.textContent),e.parentNode.replaceChild(doc.createTextNode(l(e.textContent)),e);for(t=0,n=e.attributes.length;t<n;++t)r=t,o=(i=e.attributes[r]).name,i=i.value,(o=u.exec(o))&&e.setAttribute(o[1],l(i||""));if(s=e.getAttribute(a))return e.textContent=l(s);for(t=0,n=e.childNodes.length;t<n;++t)r=t,c.push(h(e.childNodes[r]));return c},t=new WeakMap;return Array.from(e.querySelectorAll(":scope [scope] ["+a+"]")).map(function(e){return t.set(e,1)}),Array.from(e.querySelectorAll("["+a+"]")).filter(function(e){return!t.get(e)}).map(h),e},transform:function(e){var t=this;if("i18n"===e||"path"===e)return this._transform(this.node,"t",function(e){return t.i18n(e)}),this._transform(this.node,"path",function(e){return t._path(e)})},dom:function(e){var t;return(t=this.node)||(this.node=this.block.resolvePlugAndCloneNode(e),this.transform("i18n"),this.transform("path"))},_path:function(e){return this.block._path(e)},i18n:function(e,t){return this.block.i18n(e,t)},run:function(e){var p=this,f=e.node,d=e.type,t=[],m=[],n=this.block;for(this.obj||(this.obj=[]),this.pubsub||(this.pubsub=new pubsub);n;)t=[n].concat(t),n=n.extend;return new Promise(function(l,u){var h=function(e,t,n,r,i){var o,s,c,a;return null==t&&(t=0),null==n&&(n={}),(e=null==e?[]:e).length<=t?Promise.all(m).then(function(e){return l(e)}).catch(function(e){return u(e)}):(o=e[t],s=o._ctx.ctx?o._ctx.ctx():(s=o._ctx).local||(s.local={}),import$(n,s),s={root:f,parent:r,manager:p.block.manager,ctx:n,context:n,pubsub:p.pubsub,i18n:{getLanguage:function(){return block.i18n.language},addResourceBundles:function(e){var t,n,r=[];for(t in e=null==e?{}:e)n=e[t],r.push(block.i18n.addResourceBundle(t,p.block._id_t,n));return r},t:function(e,t){return p.block.i18n(e,t)}},t:function(e,t){return p.block.i18n(e,t)},path:function(e){return p._path(e)},data:p.data},"init"===d&&(p.obj.push(c=new o.factory(p.block===o?p:null)),c.parent=p.obj[t-1]),(c=p.obj[t])&&m.push(a=c[d](s)),o.interface.pkg.syncInit&&a?Promise.resolve(a).then(function(){return h(e,t+1,n,c)}):h(e,t+1,n,c))};return h(t,0,{})})}}),block.env("undefined"!=typeof self&&null!==self?self:globalThis),"undefined"!=typeof module&&null!==module?module.exports=block:"undefined"!=typeof window&&null!==window&&(window.block=block)}();
!function(){var f;function h(t,e){var n,i={}.hasOwnProperty;for(n in e)i.call(e,n)&&(t[n]=e[n]);return t}(f=function(t){var n=this;return this.root="string"==typeof(t=null==t?{}:t).root?document.querySelector(t.root):t.root,this.opt=t,this.evtHandler={},this.useBundle=null==t.useBundle||t.useBundle,this.view=t.view,this.autotab=t.autotab||!1,this._ctrlobj={},this._ctrllist=[],this._tabobj={},this._tablist=[],this._template=null,this._meta=this._clone(t.meta||{}),this._tab=t.tab||{},this._val={},this._obj={},this._objps=[],this.ensureBuilt=proxise(function(){return!0===n.ensureBuilt.running?null:Promise.resolve()}),this.typemap=t.typemap||null,this.mgr=this.mgrChain=new block.manager({registry:function(t){var e=t.name,n=t.version,t=t.path;throw new Error("@plotdb/konfig: "+e+"@"+n+"/"+t+" is not supported")}}),t.manager&&(this.mgr=t.manager,this.mgr.chain(this.mgrChain)),this.init=proxise.once(function(){return n._init()},function(){return n._val}),this._updateDebounced=debounce(150,function(t,e){return n._update(t,e)}),this.doDebounce=!(null!=t.debounce)||t.debounce,this.update=function(t,e){return n.doDebounce?n._updateDebounced(t,e):n._update(t,e)},this}).views={simple:function(){var t=this;return new ldview({root:this.root,initRender:!1,handler:{ctrl:{list:function(){return t._ctrllist.filter(function(t){return!t.meta.hidden})},key:function(t){return t.key},init:function(t){var e=t.node,t=t.data;return e.appendChild(t.root)},handler:function(t){var e=t.node,t=t.data;if(!t.root.parentNode)return e.appendChild(t.root)}}}})},default:function(){var n=this;return new ldview({root:this.root,initRender:!1,handler:{tab:{list:function(){return n._tablist.sort(function(t,e){return e.tab.order-t.tab.order}),n._tablist},key:function(t){return t.key},view:{text:{name:function(t){return t.ctx.tab.id}},handler:{ctrl:{list:function(t){var e=t.ctx;return n._ctrllist.filter(function(t){return t.meta.tab===e.tab.id&&!t.meta.hidden})},key:function(t){return t.key},init:function(t){var e=t.node,t=t.data;return e.appendChild(t.root)},handler:function(t){var e=t.node,t=t.data;return t.root.parentNode||e.appendChild(t.root),t.itf.render()}}}}}}})},recurse:function(){var t,e,n=this;return this._template?t=this._template:((t=ld$.find(this.root,"[ld=template]",0)).parentNode.removeChild(t),t.removeAttribute("ld-scope"),this._template=t),t=t.cloneNode(!0),new ldview(h({ctx:{tab:{id:null}}},h(e={},{template:t,root:this.root,initRender:!1,text:{name:function(t){t=t.ctx;return t.tab?(t.tab.name||"")+"":""}},handler:{tab:{list:function(t){var e=t.ctx,t=n._tablist.filter(function(t){return!(t.tab.parent.tab.id||e.tab.id)||t.tab.parent&&e.tab&&t.tab.parent.tab.id===e.tab.id});return t.sort(function(t,e){return e.tab.order-t.tab.order}),t},key:function(t){return t.key},view:e},ctrl:{list:function(t){var e=t.ctx;return n._ctrllist.filter(function(t){return!!e.tab&&t.meta.tab===e.tab.id&&!t.meta.hidden})},key:function(t){return t.key},init:function(t){var e=t.node,t=t.data;return e.appendChild(t.root)},handler:function(t){var e=t.node,t=t.data;return t.root.parentNode||e.appendChild(t.root),e.style.flex="1 1 "+16*(t.meta.weight||1)+"%",t.itf.render()}}}})))}},f.prototype=h(Object.create(Object.prototype),{on:function(t,e){var n;return((n=this.evtHandler)[t]||(n[t]=[])).push(e)},fire:function(t){for(var e,n,i,r,o=[],a=[],u=1,l=arguments.length;u<l;++u)a.push(arguments[u]);for(e=a,u=0,i=(n=this.evtHandler[t]||[]).length;u<i;++u)r=n[u],o.push(r.apply(this,e));return o},render:function(t){if(null==t&&(t=!1),this.view)return this._view&&!0!==t||("string"==typeof this.view?this._view=this._view||f.views[this.view].apply(this):"function"==typeof this.view?(t={root:this.root,ctrls:this._ctrllist,tabs:this._tablist},this._view=this.view.apply(t,[t])):(this._view=this.view,this._view.ctx({root:this.root,ctrls:this._ctrllist,tabs:this._tablist}))),this._view.render()},_clone:function(t,e){var n,i;if(null==e&&(e={}),Array.isArray(t))return t.slice(0);if("object"!=typeof t)return t;for(n in t)i=t[n],e[n]=this._clone(i);return e},meta:function(t){var e=(t=null==t?{}:t).meta,n=t.tab,i=t.config;return this._meta={},this._tab={},null==e||"string"==typeof e.type?(this._meta=this._clone(t),this.build(!0)):(null!=e&&(this._meta=this._clone(e)),null!=n&&(this._tab=n),this.build(!0,i))},default:function(){var t,l=function(t,e,n,i){var r,o,a,u=[];for(o in null==e&&(e={}),null==n&&(n={}),r=t.child||t)(a=r[o]).type?u.push(e[o]=n[o].itf.default()):u.push(l(a,e[o]||(e[o]={}),n[o]||(n[o]={})));return u};return l(this._meta,t={},this._ctrlobj),t},reset:function(){var t=this.default();return this.set(t),this._update()},limited:function(t){var u,e,l;return null==t&&(t={}),u={any:!1},(l=function(t,e,n){var i,r,o,a=[];for(r in null==e&&(e={}),null==n&&(n={}),i=t.child||t)(o=i[r]).type?(e[r]=null!=n[r].itf.limited&&n[r].itf.limited(),a.push(u.any=u.any||e[r])):a.push(l(o,e[r]||(e[r]={}),n[r]||(n[r]={})));return a})(this._meta,e={},this._ctrlobj),t.detail?e:u.any},get:function(){return JSON.parse(JSON.stringify(this._val))},_objwait:function(t){if(this._objps.push(t),!(this._objps.length<100))return t=this._objps.splice(0),this._objps.push(Promise.all(t))},obj:function(){var t=this;return this.ensureBuilt().then(function(){return Promise.all(t._objps)}).finally(function(){return t._objps.splice(0)}).then(function(){return t._obj})},set:function(t,d){var f,c=this;return null==d&&(d={}),t=JSON.parse(JSON.stringify(t)),this.render(),f=function(t,n,i,e,r,o){var a,u,l,s=[];if(null==n&&(n={}),null==i&&(i={}),null==e&&(e={}),null==r&&(r={}),"object"==typeof(a=t.child||t)){for(u in a)(l=a[u]).type?n[u]===e[u]||d.append&&null==e[u]||(n[u]=e[u],r[u]&&r[u].itf?(r[u].itf.set(n[u],{passive:!0}),s.push(function(e){return c._objwait(Promise.resolve(r[e].itf.object(n[e])).then(function(t){return i[e]=t}))}(u))):s.push(console.warn("@plotdb/konfig: set config `"+u+"` without corresponding ctrl defined in meta."))):s.push("object"==typeof l?f(l,n[u]||(n[u]={}),i[u]||(i[u]={}),e[u]||(e[u]={}),r[u]||(r[u]={}),u):console.warn("@plotdb/konfig: set malformat config under "+u,a));return s}},(d.build?Promise.resolve():this.ensureBuilt()).then(function(){if(d.build||!c.ensureBuilt.running)return f(c._meta,c._val,c._obj,t,c._ctrlobj,null)})},_update:function(t,e){return this.fire("change",JSON.parse(JSON.stringify(this._val)),t,e)},_init:function(){var e=this;return this.mgr.init().then(function(){return e.useBundle&&f.bundle||[]}).then(function(t){return e.mgr.set(t.map(function(t){return new block.class((t.manager=e.mgr,t))}))}).then(function(){return e.build()}).then(function(){return e._val})},_prepareTab:function(t){var e;return this._tabobj[t.id]?((e=this._tabobj[t.id].tab).depth<t.depth&&(e.tab=t),e):(e=document.createElement("div"),this._tablist.push(e={root:e,tab:t,ctrls:[],tabs:[],key:"tabkey-"+this._tablist.length+"-"+Math.random().toString(36).substring(2)}),this._tabobj[t.id]=e)},interface:function(e){var t,n,i,r,o=this,a=e.block?(t=(r={name:(r=e.block).name,version:r.version,path:r.path}).name,n=r.version,r.path):this.typemap&&(a=this.typemap(e.type))?(i=a.ns,t=a.name,n=a.version,a.path):(i=(r=["",e.type,f.version,""])[0],t=r[1],n=r[2],r[3]),u=block.id({ns:i,name:t,version:n,path:a});return(r=(this._lib||(this._lib={}))[u])?Promise.resolve(r):this.mgr.get({ns:i,name:t,version:n,path:a}).then(function(t){return t.create({data:e})}).then(function(t){return t.attach().then(function(){return t.interface()})}).then(function(t){return o._lib[u]=t=null==t?{}:t})},_prepareCtrl:function(i,n,r,o){var t,e,a,u,l,s=this,d=i.id;return o[d]?Promise.resolve():(u=i.block?(e=(t={name:(t=i.block).name,version:t.version,path:t.path}).name,a=t.version,t.path):this.typemap&&(u=this.typemap(i.type))?(l=u.ns,e=u.name,a=u.version,u.path):(l=(t=["",i.type,f.version,""])[0],e=t[1],a=t[2],t[3]),this.mgr.get({ns:l,name:e,version:a,path:u}).then(function(t){return t.create({data:i})}).then(function(t){var e,n=document.createElement("div");return null==i.tab&&(i.tab="default"),e=s._tabobj[i.tab]||s._prepareTab({id:i.tab,name:i.tab,depth:0,parent:{tab:{}}}),s._ctrllist.push(o[d]={block:t,meta:i,root:n,key:"ctrlkey-"+s._ctrllist.length+"-"+Math.random().toString(36).substring(2)}),e.ctrls.push(o[d]),t.attach({root:n,defer:!0}).then(function(){return t.interface()}).then(function(t){return o[d].itf=t})}).then(function(e){var t;return n[d]=t=e.get(),s._objwait(Promise.resolve(e.object(t)).then(function(t){return r[d]=t})),e.on("action",function(t){return s.fire("action",{src:e,data:t})}),e.on("change",function(t){return n[d]=t,s._objwait(Promise.resolve(e.object(t)).then(function(t){return r[d]=t})),s.update(d,t)})}).then(function(){return o[d]}))},build:function(t,e){var n=this;return null==t&&(t=!1),(this.ensureBuilt.running?this.ensureBuilt():Promise.resolve()).then(function(){return n.ensureBuilt.running=!0,Promise.resolve().then(function(){return n._buildTab(t),n._buildCtrl(t).then(function(){return n._ctrllist.map(function(t){return t.block.attach()})}).then(function(){return n.render(t)}).then(function(){if(null!=e)return n.set(e,{build:!0})}).then(function(){n.ensureBuilt.running=!1,n.ensureBuilt.resolve()}).then(function(){return n.update()})})})},_buildCtrl:function(t){var c=this,p=[],m=function(t,e,n,i,r,o){var a,u,l,s,d,f=[];if(null==e&&(e={}),null==n&&(n={}),null==i&&(i={}),t&&"object"==typeof t&&(a=t.child||t,!(u=t.child?t.tab:null)&&c.autotab&&r&&(u="tabid-"+c._tablist.length+"-"+Math.random().toString(36).substring(2),l=c._prepareTab({id:u,name:r,depth:o?o.tab.depth+1:0,parent:o||{tab:{}}}),o)&&o.tabs.push(l),a)){for(s in a)(d=a[s]).type?(h((d.id=s,d),u&&!d.tab?{tab:u}:{}),p.push(c._prepareCtrl(d,e,n,i))):f.push(m(d,e[s]||(e[s]={}),n[s]||(n[s]={}),i[s]||(i[s]={}),s,l));return f}};return(t=null==t?!1:t)&&this._ctrllist&&this._ctrllist.map(function(t){var e=t.block,t=t.root;if(e.destroy&&e.destroy(),t.parentNode)return t.parentNode.removeChild(t)}),Promise.all((this._ctrllist||[]).map(function(t){return t.block.detach()})).then(function(){return!t&&c._val||(c._val={},c._obj={}),!t&&c._ctrlobj||(c._ctrlobj={}),!t&&c._ctrllist||(c._ctrllist=[]),m(c._meta,c._val,c._obj,c._ctrlobj,null),Promise.all(p)})},_buildTab:function(t){var f,c=this;if(null==t&&(t=!1),"ctrl"!==this.renderMode)return t&&this._tablist&&this._tablist.map(function(t){t=t.root;if(t.parentNode)return t.parentNode.removeChild(t)}),!t&&this._tablist||(this._tablist=[]),!t&&this._tab||(this._tab={}),t&&(this._tabobj={}),(f=function(n,t,e){var i,r,o,a,u,l,s,d=[];if(null==t&&(t=0),null==e&&(e={tab:{}}),n&&(Array.isArray(n)||"object"==typeof n)){for(a=0,u=(i=Array.isArray(n)?n:function(){var t,e=[];for(r in t=n)o=t[r],e.push({id:r,v:o});return e}().map(function(t,e){var n=t.id,t=t.v;return t.id=n,t})).length;a<u;++a)h(((l=i[s=a]).depth=t,l.parent=e,l),o.name?{}:{name:l.id}),h(l,null==o.order?{order:s}:{}),s=c._prepareTab(l),d.push(f(l.child,(l.depth||0)+1,s));return d}})(this._tab)}}),f.merge=function(t){var e,n,i,r,a,o;for(null==t&&(t={}),n=[],i=1,r=arguments.length;i<r;++i)n.push(arguments[i]);for(a=function(t,e){var n,i,r,o=(n=[(t=null==t?{}:t).child||t,(e=null==e?{}:e).child||e])[0];for(r in i=n[1])i[r].type||o[r]&&o[r].type?o[r]?o[r]&&h(o[r],e[r]):o[r]=e[r]:"object"==typeof i[r]&&(o[r]=a(o[r],i[r]));return t},i=0,r=(e=n).length;i<r;++i)o=i,t=a(t,JSON.parse(JSON.stringify(e[o])));return t},f.append=function(){for(var t,o,e,n,i=[],r=0,a=arguments.length;r<a;++r)i.push(arguments[r]);for(o=function(t,e){var n,i,r=[];for(n in e)"object"==typeof(i=e[n])&&(t[n],o(t[n],i)),r.push(t[n]=i);return r},r=(t=i).length-2;0<=r;--r)e=r,e=[JSON.parse(JSON.stringify(t[e])),t[e+1]],o(n=e[0],e[1]);return n},f.version="main","undefined"!=typeof module&&null!==module?module.exports=f:"undefined"!=typeof window&&null!==window&&(window.konfig=f),f.bundle=(f.bundle||[]).concat([{name:"@plotdb/konfig",version:"main",path:"base",code:'<div><div class="d-flex align-items-center"><div class="flex-grow-1 d-flex align-items-center"><div ld="name"></div><div ld="hint">?</div></div><plug name="ctrl"></plug></div><plug name="config"></plug><style type="text/css">[ld=hint]{margin-left:.5em;width:1.2em;height:1.2em;border-radius:50%;background:rgba(0,0,0,0.1);font-size:10px;line-height:1.1em;text-align:center;cursor:pointer}</style><script type="@plotdb/block">module.exports={pkg:{dependencies:[{name:"@loadingio/vscroll",version:"main",path:"index.min.js"},{name:"@loadingio/debounce.js",version:"main",path:"index.min.js"},{name:"ldview",version:"main",path:"index.min.js"},{name:"ldcover",version:"main",path:"index.min.js"},{name:"ldcover",version:"main",path:"index.min.css"},{name:"ldloader",version:"main",path:"index.min.js"},{name:"ldloader",version:"main",path:"index.min.css",global:true},{name:"zmgr",version:"main",path:"index.min.js"}]},init:function(n){var e,t,i,r,a,o,u,m,d,l,s=this;e=n.root,t=n.context,i=n.data,r=n.pubsub,a=n.t;this._meta=i;o=t.ldcover,u=t.ldloader,m=t.zmgr;d=new m;o.zmgr(d);u.zmgr(d);r.on("init",function(n){var e;n==null&&(n={});s.itf=e={evtHandler:{},get:n.get||function(){},set:n.set||function(){},meta:n.meta||function(n){return s._meta=n},limited:n.limited||null,default:n["default"]||function(){return(s._meta||{})["default"]},object:n.object||function(n){return Promise.resolve(n)},render:function(){l.render();if(n.render){return n.render()}},on:function(n,t){var i=this;return(Array.isArray(n)?n:[n]).map(function(n){var e;return((e=i.evtHandler)[n]||(e[n]=[])).push(t)})},fire:function(n){var e,t,i,r,a,o,u,m=[];t=[];for(i=1,r=arguments.length;i<r;++i){t.push(arguments[i])}e=t;for(i=0,o=(a=this.evtHandler[n]||[]).length;i<o;++i){u=a[i];m.push(u.apply(this,e))}return m},action:n.action||{}};if(l){return l.render("hint")}});r.on("event",function(n){var e,t,i,r;t=[];for(i=1,r=arguments.length;i<r;++i){t.push(arguments[i])}e=t;return s.itf.fire.apply(s.itf,[n].concat(e))});if(!e){return}return l=new ldview({root:e,text:{name:function(){return a(s._meta.name||s._meta.id||"")}},handler:{hint:function(n){var e;e=n.node;return e.classList.toggle("d-none",!s._meta.hint)}},action:{click:{hint:function(){return alert(a(s._meta.hint||"no hint"))}}}})},interface:function(){return this.itf}};<\/script></div>'},{name:"@plotdb/konfig",version:"main",path:"boolean",code:'<div><script type="@plotdb/block">module.exports={pkg:{extend:{name:"@plotdb/konfig",version:"main",path:"base"},dependencies:[{name:"ldview",version:"main",path:"index.min.js"}]},init:function(t){var e,n,a,i,r,s,u,f,o=this;e=t.root,n=t.context,a=t.pubsub,i=t.data;r=n.ldview;s={default:false,state:undefined};u=function(t){t==null&&(t={});o._meta=JSON.parse(JSON.stringify(t));return s["default"]=o._meta["default"],s.state=s.state!=null?s.state:o._meta["default"]||false,s};u(i);a.fire("init",{get:function(){return s.state},set:function(t,e){var n;e==null&&(e={});n=s.state!==t&&!e.passive;s.state=!!t;if(n){a.fire("event","change",s.state)}return f.render("switch")},default:function(){return s["default"]},meta:function(t){return u(t)}});return f=new r({root:e,action:{click:{switch:function(){s.state=!s.state;f.render("switch");return a.fire("event","change",s.state)}}},handler:{switch:function(t){var e;e=t.node;return e.classList.toggle("on",s.state)}}})}};<\/script></div>'},{name:"@plotdb/konfig",version:"main",path:"button",code:'<div><script type="@plotdb/block">module.exports={pkg:{extend:{name:"@plotdb/konfig",version:"main",path:"base"},dependencies:[],i18n:{"zh-TW":{config:"設定"}}},init:function(t){var n,e,a,u,r,i,o,d,f,c;n=t.root,e=t.context,a=t.data,u=t.pubsub,r=t.t;i=e.ldview,o=e.ldcolor;d={data:a["default"],default:a["default"]};f=function(){return u.fire("event","change",d.data)};u.fire("init",{get:function(){return d.data},set:function(t,n){var e;n==null&&(n={});e=d.data!==t&&!n.passive;d.data=t;if(e){return f()}},default:function(){return d["default"]},meta:function(t){return d.data=d["default"]=t["default"]}});return c=new i({root:n,action:{click:{button:function(){return Promise.resolve(a.cb(d.data)).then(function(t){if(d.data===t){return}d.data=t;return f()})}}},text:{button:function(){return a.text||"..."}}})}};<\/script></div>'},{name:"@plotdb/konfig",version:"main",path:"choice",code:'<div><script type="@plotdb/block">module.exports={pkg:{extend:{name:"@plotdb/konfig",version:"main",path:"base"},dependencies:[]},init:function(e){var t,n,i,r,a,u,l,o,f,c=this;t=e.root,n=e.context,i=e.data,r=e.pubsub;this._meta={};a=n.ldview;u=function(){var e;e=l();return t.classList.toggle("limited",e)};l=function(){if(c._meta.disableLimit){return false}if(c._meta.limit==null||c._meta.limit===false){return false}return typeof f!="undefined"&&f!==null?!in$(f.get("select").value,c._meta.limit):false};o=function(e){c._meta=JSON.parse(JSON.stringify(e));return u()};o(i);r.fire("init",{get:function(){return f.get("select").value},set:function(e,t){var n;t==null&&(t={});n=f.get("select").value!==e&&!t.passive;f.get("select").value=e;if(n){r.fire("event","change",e)}return u()},default:function(){return c._meta["default"]},meta:function(e){return o(e)},limited:function(){return l()}});f=new a({root:t,action:{change:{select:function(e){var t;t=e.node;u();return r.fire("event","change",t.value)}}},handler:{select:function(e){var t;t=e.node;return t.setAttribute("aria-label",c._meta.name||"generic")},option:{list:function(){return c._meta.values},key:function(e){return e},init:function(e){var t,n,i;t=e.node,n=e.data;i=typeof n==="object"?n.value:n;if(c._meta["default"]===i){return t.setAttribute("selected","selected")}},handler:function(e){var t,n,i,r,a;t=e.node,n=e.data;i=typeof n==="object"?n:{value:n,name:n},r=i.value,a=i.name;t.setAttribute("value",r);return t.textContent=a}}}});return f.init().then(function(){return u()})}};function in$(e,t){var n=-1,i=t.length>>>0;while(++n<i)if(e===t[n])return true;return false}<\/script></div>'},{name:"@plotdb/konfig",version:"main",path:"color",code:'<div><script type="@plotdb/block">module.exports={pkg:{extend:{name:"@plotdb/konfig",version:"main",path:"base"},dependencies:[{name:"ldcolor",version:"main",path:"index.min.js",async:false},{name:"@loadingio/ldcolorpicker",version:"main",path:"index.min.js"},{name:"@loadingio/ldcolorpicker",version:"main",path:"index.min.css",global:true}]},init:function(e){var t,r,n,o,i,c,l,a,u,s,d,f=this;t=e.root,r=e.context,n=e.pubsub,o=e.data;i=r.ldview,c=r.ldcolor,l=r.ldcolorpicker;this._meta=o;this.render=function(){n.fire("render");if(typeof d!="undefined"&&d!==null){return d.render()}};a=function(){return n.fire("event","change",f.c)};this.set=function(e){this.c=e;if(!(e==="currentColor"||e==="transparent"||isNaN(c.hsl(e).h))){this.ldcp.setColor(e)}return this.render()};this.prepareDefault=function(e){var t;e==null&&(e={});this["default"]=(t=e["default"])==="currentColor"||t==="transparent"?e["default"]:c.web(e["default"]||this.ldcp.getColor());if(e.overwrite){return this.set(this["default"])}};u=function(e){var t,r,n;e==null&&(e={});t=e.palette||["#cc0505","#f5b70f","#9bcc31","#089ccc"];if(Array.isArray(t)){t={colors:t}}t.colors=t.colors.map(function(e){return c.web(e)});if(e["default"]){r=c.web(e["default"]);if(!in$(r,t.colors.concat(["transparent","currentColor"]))){t.colors=[r].concat(t.colors)}}else{r=t.colors[e.idx||0]||e.colors[0]}if(!~(n=t.colors.indexOf(r))){n=0}return{palette:t,default:r,idx:n}};n.fire("init",{get:function(){return f.c},set:function(e,t){var r;t==null&&(t={});r=!c.same(e,f.c)&&!t.passive;f.set(e);if(r){return a()}},default:function(){return f["default"]},meta:function(e){var t;f._meta=e;t=u(e);f.ldcp.setPalette(t.palette);if(t.idx!=null){f.ldcp.setIdx(t.idx)}return f.prepareDefault({overwrite:true,default:t["default"]})}});s=u(o);this.ldcp=new l(t.querySelector("[ld~=input]"),{className:"round shadow-sm round flat compact-palette no-empty-color vertical",palette:s.palette,idx:s.idx,context:o.context||"random",exclusive:o.exclusive!=null?o.exclusive:true});this.prepareDefault({overwrite:true,default:s["default"]});d=new i({root:t,action:{keyup:{input:function(e){var t,r,n;t=e.node,r=e.ctx,n=e.evt;if(n.keyCode===13){f.ldcp.setColor(t.value);return f.c=t.value}}},click:{default:function(e){var t,r;t=e.node,r=e.ctx;f.c="currentColor";n.fire("event","change",f.c);return f.render()}}},handler:{preset:{list:function(){return f._meta.presets||[]},key:function(e){return e},view:{text:{"@":function(e){var t;t=e.ctx;return t}},action:{click:{"@":function(e){var t;t=e.ctx;f.c=t;n.fire("event","change",f.c);return f.render()}}}}},color:function(e){var t,r,n;t=e.node,r=e.ctx;n=c.web(f.c);if(t.nodeName.toLowerCase()==="input"){return t.value=isNaN(c.hsl(f.c).h)?f.c:n}else{return t.style.backgroundColor=n}}}});return this.ldcp.on("change",function(e){f.c=c.web(e);a();return f.render()})}};function in$(e,t){var r=-1,n=t.length>>>0;while(++r<n)if(e===t[r])return true;return false}<\/script></div>'},{name:"@plotdb/konfig",version:"main",path:"font",code:'<div><script type="@plotdb/block">var singleton;singleton={digest:{}};module.exports={pkg:{syncInit:true,extend:{name:"@plotdb/konfig",version:"main",path:"base"},dependencies:[{name:"@xlfont/load",version:"main",path:"index.min.js"},{name:"@xlfont/choose",version:"main",path:"index.min.js"},{name:"@xlfont/choose",version:"main",path:"index.min.css",global:true}],i18n:{en:{default:"Default"},"zh-TW":{"system default":"預設字型"}}},destroy:function(){return this._obj.ldcv.destroy({removeNode:true})},init:function(n){var e,t,i,o,r,f,l,u,a,d,s,c,m,g,h,v,b,y,p;e=n.root,t=n.context,i=n.data,o=n.pubsub,r=n.t;f=t.ldview,l=t.ldcover,u=t.xfc;a=i.dataSource||{};this._obj=d={font:null,fobj:null,digest:singleton.digest};s=function(){return typeof d._m["default"]==="string"?{name:d._m["default"]}:d._m["default"]||{}};c=function(n){var t,e,i;n==null&&(n={});t=n.font;e=n.cancelable;if(!t){t=d.font||(d.font=s())}i=(t.mod||(t.mod={})).file||{};return Promise.resolve().then(function(){return i.blob instanceof Blob?i.blob:d.digest[i.digest]?d.digest[i.digest].blob:null}).then(function(n){if(n||!i.digest){return n}else if(a.getBlob){return a.getBlob(i)}else{return n}}).then(function(n){i.blob=n;if(!(n&&a.digest)){return}return a.digest(i).then(function(n){var e;if(i.digest!==n){d.changed=true}i.digest=n;return import$((e=t.mod||(t.mod={})).file||(e.file={}),i)})}).then(function(){return b.load(t)["catch"](function(){return b.load(s())})["catch"](function(){return null})}).then(function(n){if(d.font!==t&&e){return lderror.reject(999)}if(d.font===t){d.fobj=n;m()}return n||{}})};m=function(){return e.classList.toggle("limited",g())};g=function(){var n;return!!(d.fobj&&((n=d.fobj).mod||(n.mod={})).limited)};h=function(n){var e,t,i;n==null&&(n={});e=n.mod||{};t={name:n.name,style:n.style,weight:n.weight};if(e.limited){(t.mod||(t.mod={})).limited=e.limited}if(e.file&&(e.file.blob||e.file.key||e.file.digest)){(t.mod||(t.mod={})).file={key:(i=e.file).key,digest:i.digest,name:i.name,lastModified:i.lastModified,size:i.size,type:i.type}}return t};o.fire("init",{get:function(){return!d.font?this["default"]()||"":h(d.font)},set:function(n,e){var t,i;e==null&&(e={});t=!n?n:typeof n==="string"?{name:n}:h(n);i=JSON.stringify(d.font||{})!==JSON.stringify(t||{})&&!e.passive;d.font=t;d.fobj=null;if(i){o.fire("event","change",d.font)}return d.view.render("font-name")},default:function(){return s()},meta:function(n){return d._meta=n},object:function(n){n==null&&(n={});return c({font:n})},limited:function(){return g()}});d._m=i||{};d.font=s();v=u.url?u.url():{};b=new u({root:!e?null:e.querySelector(".ldcv"),initRender:false,meta:v.meta||"https://xlfont.maketext.io/meta",links:v.links||"https://xlfont.maketext.io/links"});o.on("config",function(n){n==null&&(n={});b.config(n);d.fobj=null;return c()});if(!e){return}b.on("choose",function(n){return d.ldcv.set(n)});y=e.querySelector("[ld=ldcv]");d.view=p=new f({root:e,init:{ldcv:function(n){var e;e=n.node;d.ldcv=new l({root:e,inPlace:false});return d.ldcv.on("toggle.on",function(){return debounce(50).then(function(){return b.render()})})}},action:{click:{system:function(n){var e,t;e=n.node;d.font=t=null;d.fobj=null;p.render("font-name");return o.fire("event","change",t)},button:function(n){var e;e=n.node;return d.ldcv.get().then(function(e){var t;if(!e){return{font:e}}t=(e.mod||{}).file;if(!(t&&t.blob&&a.digest)){return{font:e}}return a.digest(t).then(function(n){t.digest=n;d.digest[n]=t;if(a.getKey==null){return{font:e,file:t}}return a.getKey(t).then(function(n){t.key=n;return{font:e,file:t}})})}).then(function(n){var e,t,i;e=n.font,t=n.file;if(!e){return}d.font={name:e.name,style:e.style,weight:e.weight};((i=d.font).mod||(i.mod={})).file=t;d.fobj=null;p.render("font-name");return o.fire("event","change",d.font)})}}},handler:{"font-name":function(n){var t,e;t=n.node;e=!d.font?r("default"):d.font.name||r("default");if(e.length>10){e=e.substring(0,10)+"..."}t.innerText=e;return c({cancelable:true}).then(function(n){var e;t.setAttribute("class",(e=n&&n.className)?e:"");return t.setAttribute("title",n?n.name||"unnamed":"unnamed")})["catch"](function(n){if(lderror.id(n)===999){}})}}});return this.chooser=function(){return b},this.cover=function(){return d.ldcv},this.dom={cover:y},this.metadata=function(n){return b.metadata(n)},this}};function import$(n,e){var t={}.hasOwnProperty;for(var i in e)if(t.call(e,i))n[i]=e[i];return n}<\/script></div>'},{name:"@plotdb/konfig",version:"main",path:"multiline",code:'<div><script type="@plotdb/block">module.exports={pkg:{extend:{name:"@plotdb/konfig",version:"main",path:"base"},dependencies:[]},init:function(t){var e,n,i,c,v,r,a,u,p;e=t.root,n=t.context,i=t.data,c=t.pubsub;v={default:i["default"]||"",data:i["default"]||""};r=n.ldview,a=n.ldcover;c.fire("init",{get:function(){return v.data||""},set:function(t,e){var n;e==null&&(e={});n=v.data!==(t||"")&&!e.passive;v.data=t||"";if(n){c.fire("event","change",v.data)}return p.render()},default:function(){return v["default"]},meta:function(t){return v["default"]=t["default"]}});u=function(t){var e,n;e=t.node;n=e.value;if(v.data!==n){c.fire("event","change",n)}v.data=n;return p.render()};return p=new r({root:e,init:{ldcv:function(t){var e;e=t.node;v.ldcv=new a({root:e,resident:false,inPlace:false});return v.ldcv.on("toggled.on",function(){return p.get("textarea").focus()})}},handler:{panel:function(t){var e;e=t.node},input:function(t){var e,n,i;e=t.node;e.value=v.data||"";e.textContent=(v.data||"").substring(0,10)+" ...";n=e.getAttribute("data-mode");return e.classList.toggle("d-none",!(i=n==="multiline")!==!v.multiline&&(i||v.multiline))},textarea:function(t){var e;e=t.node;return e.value=v.data||""},multiline:function(t){var e;e=t.node;return e.classList.toggle("active",!!v.multiline)}},action:{input:{input:u},change:{input:u},click:{multiline:function(t){var e;e=t.node;v.multiline=!v.multiline;return p.render("multiline","input")},input:function(t){var e,n,i,r,a,u,l,o,d,f;e=t.node;if(!v.multiline){return}n=p.getAll("input").map(function(t){return t.getBoundingClientRect()}).filter(function(t){return t.width})[0];i=p.get("panel").getBoundingClientRect();r=(a=window.innerWidth-(n.left+n.width))<(u=n.width/2)?a:u;l=(a=n.left)<(u=n.width/2)?a:u;o=n.left-l;d=n.width+r+l;f=n.top+(window.scrollTop||0);import$(p.get("ldcv").style,{left:o+"px",top:f+"px"});import$(p.get("panel").style,{width:d+"px"});return v.ldcv.get().then(function(t){var e;if(t!=="ok"){return}e=p.get("textarea").value;if(v.data!==e){c.fire("event","change",e)}v.data=e;return p.render()})}}}})}};function import$(t,e){var n={}.hasOwnProperty;for(var i in e)if(n.call(e,i))t[i]=e[i];return t}<\/script></div>'},{name:"@plotdb/konfig",version:"main",path:"number",code:'<div><script type="@plotdb/block">module.exports={pkg:{extend:{name:"@plotdb/konfig",version:"main",path:"base"},dependencies:[{name:"ldslider",version:"main",path:"index.min.css"},{name:"ldslider",version:"main",path:"index.min.js"}]},init:function(t){var e,n,i,r,l,a,u,o,f,d,s,m,c,p=this;e=t.root,n=t.context,i=t.data,r=t.pubsub;l=n.ldview,a=n.ldslider;u={};this._meta={};o=function(){var t;if(!u.ldrs){return}t=Object.fromEntries(["min","max","step","from","to","exp","limitMin","limitMax","range","label"].map(function(t){return[t,p._meta[t]]}).filter(function(t){return t[1]!=null}));if(!s()){delete t.limitMin;delete t.limitMax}return u.ldrs.setConfig(t)};f=function(t){if(t.from!=null){console.warn("[@plotdb/konfig] ctrl should use `default` for default value.\\nplease update your config to comply with it.")}if(t["default"]!=null){if(typeof t["default"]==="object"){import$(t,t["default"])}else if(typeof t["default"]==="number"){t.from=t["default"]}}p._meta=JSON.parse(JSON.stringify(t));return o()};d=function(){return e.classList.toggle("limited",m())};s=function(){return!p._meta.disableLimit&&!!(p._meta.limitMax!=null||p._meta.limitMin!=null)};m=function(){var t;if(!s()){return false}t=u.ldrs.get();return p._meta.limitMax!=null&&t>p._meta.limitMax||p._meta.limitMin!=null&&t<=p._meta.limitMin};r.fire("init",{get:function(){return u.ldrs.get()},set:function(t,e){var n;e==null&&(e={});n=u.ldrs.get()!==t&&!e.passive;u.ldrs.set(t);if(n){r.fire("event","change",t)}return d()},default:function(){return p._meta["default"]},meta:function(t){return f(t)},limited:function(){return m()},render:function(){return u.ldrs.update()}});f(i);return c=new l({root:e,action:{click:{switch:function(){return u.ldrs.edit()}}},init:{ldrs:function(t){var e;e=t.node;u.root=e;u.ldrs=new a({root:e});o();u.ldrs.on("change",function(t){d();return r.fire("event","change",t)});return d()}}})}};function import$(t,e){var n={}.hasOwnProperty;for(var i in e)if(n.call(e,i))t[i]=e[i];return t}<\/script></div>'},{name:"@plotdb/konfig",version:"main",path:"palette",code:'<div><script type="@plotdb/block">module.exports={pkg:{extend:{name:"@plotdb/konfig",version:"main",path:"base"},dependencies:[{name:"ldbutton",version:"main",path:"index.min.css",global:true},{name:"ldcolor",version:"main",path:"index.min.js",async:false},{name:"ldslider",version:"main",path:"index.min.js",async:false},{name:"ldslider",version:"main",path:"index.min.css",global:true},{name:"@loadingio/ldcolorpicker",version:"main",path:"index.min.js",async:false},{name:"@loadingio/ldcolorpicker",version:"main",path:"index.min.css"},{name:"@loadingio/vscroll",version:"main",path:"index.min.js"},{name:"ldpalettepicker",version:"main",path:"index.min.css",global:true},{name:"ldpalettepicker",version:"main",path:"index.min.js"}]},init:function(e){var n,t,i,r,a,l,o,s,p,d,u,c,f,m=this;n=e.root,t=e.context,i=e.pubsub,r=e.data,a=e.i18n,l=e.manager;o=t.ldview,s=t.ldcolor,p=t.ldpp,d=t.ldcover;u={};c=function(e){e==null&&(e={});m._meta=JSON.parse(JSON.stringify(e));return u["default"]=m._meta["default"]||p.defaultPalette,u.pal=u.pal||m._meta["default"]||p.defaultPalette,u};c(r);i.fire("init",{get:function(){return u.pal},set:function(e,n){var t;n==null&&(n={});t=JSON.stringify(u.pal||{})!==JSON.stringify(e||{})&&!n.passive;u.pal=e;if(t){i.fire("event","change",u.pal)}return f.render()},default:function(){return u["default"]},meta:function(e){return c(e)}});n=ld$.find(n,"[plug=config]",0);f=new o({root:n,action:{click:{ldp:function(e){var n,t;n=e.node;t=n.getAttribute("data-action")||"edit";return Promise.resolve().then(function(){var e,n;if(u.initing){return u.initing()}if(u.ldpp){return}u.initing=proxise(function(){});e=Array.isArray(r.palettes)?r.palettes:typeof r.palettes==="string"?p.get(r.palettes):null;n=e?Promise.resolve(e):l.rescope.load([{name:"ldpalettepicker",version:"main",path:"index.min.js",async:false},{name:"ldpalettepicker",version:"main",path:"all.palettes.js"}]).then(function(e){var n;n=e.ldpp;return n.get("all")});return n.then(function(e){u.ldpp=new p({root:f.get("ldcv"),ldcv:{inPlace:false},useClusterizejs:true,i18n:a,palette:r.palette,palettes:e,useVscroll:true});if(!u.initing){return}u.initing.resolve();return u.initing=false})}).then(function(){u.ldpp.edit(u.pal,false);if(t==="edit"){u.ldpp.tab("edit")}else{u.ldpp.tab("view")}return u.ldpp.get()}).then(function(e){if(!e){return}u.pal=e;f.render("color");return i.fire("event","change",u.pal)})}}},handler:{color:{list:function(){var e;return((e=u.pal||(u.pal={})).colors||(e.colors=[])).map(function(e,n){return import$({_idx:n},s.hsl(e))})},key:function(e){return e._idx},handler:function(e){var n,t;n=e.node,t=e.data;return n.style.backgroundColor=s.web(t)}}}});return f.render()}};function import$(e,n){var t={}.hasOwnProperty;for(var i in n)if(t.call(n,i))e[i]=n[i];return e}<\/script></div>'},{name:"@plotdb/konfig",version:"main",path:"popup",code:'<div><script type="@plotdb/block">module.exports={pkg:{extend:{name:"@plotdb/konfig",version:"main",path:"base"},dependencies:[],i18n:{"zh-TW":{config:"設定"}}},init:function(t){var n,e,r,i,o,u,a,f,p,c,d;n=t.root,e=t.context,r=t.data,i=t.pubsub,o=t.t;u={};a=function(t){var n;if(!t){return null}else if(n=t.data){return n}else{return t}};f=function(t){var n;u.text=(n=t&&t.text)?n:typeof t==="string"?t+"":o("config");return d.render("button")};p=e.ldview,c=e.ldcolor;i.fire("init",{get:function(){return r.popup.data()},set:function(t,n){n==null&&(n={});r.popup.data(t);if(!n.passive){i.fire("event","change",t)}return f(r.popup.data())}});return d=new p({root:n,action:{click:{button:function(){return r.popup.get().then(function(t){i.fire("event","change",a(t));return f(t)})}}},text:{button:function(){var t;if(t=u.text){return t}else{return o("config")}}}})}};<\/script></div>'},{name:"@plotdb/konfig",version:"main",path:"quantity",code:'<div><script type="@plotdb/block">module.exports={pkg:{extend:{name:"@plotdb/konfig",version:"main",path:"base"},dependencies:[{name:"ldslider",version:"main",path:"index.min.css"},{name:"ldslider",version:"main",path:"index.min.js"}],i18n:{en:{unit:"Unit"},"zh-TW":{unit:"單位"}}},init:function(n){var t,e,i,u,r,a,o,l,f,d,s,c,m=this;t=n.root,e=n.context,i=n.data,u=n.pubsub;r=e.ldview,a=e.ldslider;o={};this._meta={};l=function(){return o.ldrs.get()+""+o.unit};f=function(n){var t;n==null&&(n={});t=l();if(!n.init&&t!==o.v){u.fire("event","change",t)}return o.v=t};d=function(n){var t,e;n==null&&(n={});t=import$({},n.unit);o.unit=t.name;if(t.from!=null){console.warn("[@plotdb/konfig] ctrl should use `default` for default value.\\nplease update your config to comply with it.")}if(t["default"]!=null){t.from=t["default"]}o.ldrs.setConfig((e=Object.fromEntries(["min","max","step","from","to","exp","limitMax","range","label"].map(function(n){return[n,t[n]]}).filter(function(n){return n[1]!=null})),e.unit=t.name||"",e));f({init:n.init});return c.render()};s=function(n){var t;n==null&&(n={});m._meta=t=JSON.parse(JSON.stringify(n.meta||{}));return d({unit:t.units[0],init:n.init})};u.fire("init",{get:function(){return l()},set:function(n,t){var e,i,r;t==null&&(t={});e=/^(\\d+(?:\\.(?:\\d+))?)(\\D*)/.exec(n+"");if(!e){e=/^(\\d+(?:\\.(?:\\d+))?)(\\D*)/.exec(this["default"]()+"")}if(!e){e=[0,0,this._meta.units[0]]}i=e[2]||o.unit||this._meta.units[0];r=+e[1]!==o.ldrs.get()&&i!==o.unit&&!t.passive;o.ldrs.set(+e[1]);o.unit=i;if(r){u.fire("event","change",l())}return c.render()},default:function(){return m._meta["default"]},meta:function(n){return s({meta:n})},render:function(){return o.ldrs.update()}});c=new r({root:t,initRender:false,action:{click:{switch:function(){return o.ldrs.edit()}}},init:{ldrs:function(n){var t;t=n.node;o.root=t;o.ldrs=new a({root:t});return o.ldrs.on("change",function(){return f()})}},text:{picked:function(){return o.unit}},handler:{unit:{list:function(){return m._meta.units},key:function(n){return n.name},action:{click:function(n){var t;t=n.data;return d({unit:t})}},text:function(n){var t;t=n.data;return t.name}}}});return c.init().then(function(){return s({meta:i,init:true})})}};function import$(n,t){var e={}.hasOwnProperty;for(var i in t)if(e.call(t,i))n[i]=t[i];return n}<\/script></div>'},{name:"@plotdb/konfig",version:"main",path:"text",code:'<div><script type="@plotdb/block">module.exports={pkg:{extend:{name:"@plotdb/konfig",version:"main",path:"base"},dependencies:[]},init:function(e){var n,t,u,a,r,i,o,v=this;n=e.root,t=e.context,u=e.data,a=e.pubsub;r=t.ldview;i=function(e){v._meta=JSON.parse(JSON.stringify(e));return v._values=v._meta.values||[]};i(u);a.fire("init",{get:function(){return o.get("input").value||""},set:function(e,n){var t;n==null&&(n={});t=o.get("input").value!==(e||"")&&!n.passive;e=o.get("input").value=e||"";if(t){return a.fire("event","change",e)}},default:function(){return v._meta["default"]||""},meta:function(e){return i(e)}});return o=new r({root:n,init:{input:function(e){var n;n=e.node;return n.value=u["default"]||""}},handler:{preset:{list:function(){return v._values||[]},key:function(e){return e.value||e.name||e},handler:function(e){var n,t;n=e.node,t=e.data;return n.textContent=t.name||t.value||t},action:{click:function(e){var n,t,u;n=e.node,t=e.data;o.get("input").value=u=t.value||t;return a.fire("event","change",u)}}}},action:{input:{input:function(e){var n;n=e.node;return a.fire("event","change",n.value)}},change:{input:function(e){var n;n=e.node;return a.fire("event","change",n.value)}}}})}};<\/script></div>'},{name:"@plotdb/konfig",version:"main",path:"upload",code:'<div><script type="@plotdb/block">var singleton;singleton={digest:{}};module.exports={pkg:{extend:{name:"@plotdb/konfig",version:"main",path:"base"},dependencies:[{name:"ldfile"}]},init:function(e){var t,n,i,u,r,l,s,o,a,f,d=this;t=e.root,n=e.context,i=e.data,u=e.pubsub;r=n.ldview,l=n.ldfile;s=i.dataSource||{};this._meta=i;o={files:[],digest:singleton.digest};a=function(e){return e.map(function(e){return{name:e.name,size:e.size,type:e.type,lastModified:e.lastModified,key:e.key,idx:e.idx,digest:e.digest}})};u.fire("init",{get:function(){return a(o.files)},set:function(e,t){t==null&&(t={});o.files=(Array.isArray(e)?e:[e]).map(function(e,t){var n,i,r;return i=(r=import$({},e),r.idx=t,r),i.blob=(n=o.digest[e.digest]||{}).blob,i.dataurl=n.dataurl,i});f.get("input").value="";if(!t.passive){return u.fire("event","change",a(o.files))}},default:function(){return[]},meta:function(e){return d._meta=e},object:function(){var t,e;t={changed:false};e=o.files.map(function(n,i){var e;if(n.blob){return Promise.resolve(n)}if(o.digest[n.digest]){return Promise.resolve((n.blob=(e=o.digest[n.digest]).blob,n.dataurl=e.dataurl,n))}if(n.result){n.dataurl=n.result;fetch(n.result).then(function(e){return e.blob()}).then(function(e){var t;n.name=n.name||"unnamed";t=(n.blob=e,n);t.size=e.size;t.type=e.type;t.lastModified=Date.now();delete n.result;if(s.digest==null){return n}else{return s.digest(n,i).then(function(e){return n.digest=e,n})}}).then(function(t){if(s.getKey==null){return t}else{return s.getKey(t,i).then(function(e){return t.key=e,t})}}).then(function(e){if(!e.digest){return e}else{return o.digest[e.digest]=e}}).then(function(){return t.changed=true})}if(n.key==null||s.getBlob==null){return Promise.resolve(n)}return s.getBlob(n,i).then(function(e){n.blob=e;return l.fromFile(e,"dataurl").then(function(e){n.dataurl=e.result;if(s.digest==null){return}return s.digest(n,i).then(function(e){if(n.digest!==e){t.changed=true}return n.digest=e})})})});return Promise.all(e).then(function(){if(t.changed){debounce(0).then(function(){return u.fire("event","change",a(o.files))})}return o.files})}});return f=new r({root:t,init:{input:function(e){var t;t=e.node;if(d._meta.multiple){return t.setAttribute("multiple",true)}}},action:{change:{input:function(e){var i,t,r;i=e.node;t=function(){var e,t,n=[];for(e=0,t=i.files.length;e<t;++e){r=e;n.push(i.files[r])}return n}().map(function(n,i){return l.fromFile(n,"dataurl").then(function(e){var t;return t={name:n.name,size:n.size,type:n.type,lastModified:n.lastModified},t.dataurl=e.result,t.blob=n,t.idx=i,t}).then(function(t){if(s.digest==null){return t}else{return s.digest(t,i).then(function(e){return t.digest=e,t})}}).then(function(t){if(s.getKey==null){return t}else{return s.getKey(t,i).then(function(e){return t.key=e,t})}}).then(function(e){if(!e.digest){return e}else{return o.digest[e.digest]=e}})});return Promise.all(t).then(function(e){o.files=e;i.value="";return u.fire("event","change",a(e))})}}}})}};function import$(e,t){var n={}.hasOwnProperty;for(var i in t)if(n.call(t,i))e[i]=t[i];return e}<\/script></div>'}])}();
(function(){(function(it){return it.apply({})})(function(){var lc,getGlobal,auth;lc={};getGlobal=proxise(function(a){if(lc.global){return Promise.resolve(lc.global)}else if(lc.fetching){return}if(a){return a.fetch()}});auth=function(opt){var ref$,this$=this;opt==null&&(opt={});this._ldcvmgr=opt.ldcvmgr;this._manager=opt.manager;this.timeout={loader:1e3,failed:1e4};this.evtHandler={};this.ui={loader:opt.loader||{on:function(){},off:function(){},cancel:function(){}},authpanel:function(tgl,o){var bid;o==null&&(o={});if(this$._authpanel){return this$._authpanel(tgl,o)}this$.ui.loader.on(350);bid=opt.authpanel||{name:"@servebase/auth"};return this$._manager.from(bid,{autoTransform:"i18n",root:document.body,data:{auth:this$,zmgr:opt.zmgr}}).then(function(p){return this$._authpanel=p["interface"]}).then(function(i){this$.ui.loader.off();return i(tgl,o)})},timeout:function(){return new Promise(function(res,rej){})}};if(!this._apiRoot){this._apiRoot=opt.api||"/api/auth"}if((ref$=this._apiRoot)[ref$.length-1]!=="/"){this._apiRoot+="/"}if(opt.initFetch==null||opt.initFetch){this.fetch()}return this};auth.prototype=import$(Object.create(Object.prototype),{on:function(n,cb){var this$=this;return(Array.isArray(n)?n:[n]).map(function(n){var ref$;return((ref$=this$.evtHandler)[n]||(ref$[n]=[])).push(cb)})},fire:function(n){var v,res$,i$,to$,ref$,len$,cb,results$=[];res$=[];for(i$=1,to$=arguments.length;i$<to$;++i$){res$.push(arguments[i$])}v=res$;for(i$=0,len$=(ref$=this.evtHandler[n]||[]).length;i$<len$;++i$){cb=ref$[i$];results$.push(cb.apply(this,v))}return results$},inject:function(){return{}},apiRoot:function(){return this._apiRoot},setUi:function(it){return import$(this.ui,it||{})},logout:function(){var this$=this;this.ui.loader.on();return ld$.fetch(this.apiRoot()+"logout",{method:"post"},{}).then(function(){return this$.fetch({renew:true})})["finally"](function(){return this$.ui.loader.off()}).then(function(){return this$.fire("logout")})["catch"](function(e){return this$.fire("error",e)})},reset:function(){this.ui.loader.on();return auth.reset()},ensure:function(opt){opt==null&&(opt={});return this.get((opt.authedOnly=true,opt))},get:function(opt){var this$=this;opt==null&&(opt={authedOnly:false});return getGlobal(this).then(function(g){g==null&&(g={});if(!opt.authedOnly){return g}return g.user.key?g:this$.ui.authpanel(true,opt).then(function(){return getGlobal(this)})}).then(function(g){g==null&&(g={});if(opt.authedOnly&&!(g.user||(g.user={})).key){return Promise.reject(new lderror(1e3))}return g})},fetch:function(opt){var ret,promise,this$=this;opt==null&&(opt={renew:true});lc.fetching=true;this.ui.loader.on(this.timeout.loader);this.watchdog=debounce(this.timeout.failed,function(){this$.ui.loader.off();return this$.ui.timeout().then(function(){return this$.ui.loader.on()}).then(function(){return debounce(1e4)}).then(function(){return this$.fetch()})})();ret=!opt.renew&&/global=/.exec(document.cookie)?document.cookie.split(";").map(function(it){return/^global=(.+)/.exec(it.trim())}).filter(function(it){return it})[0]:null;promise=ret?Promise.resolve(JSON.parse(decodeURIComponent(ret[1]))):ld$.fetch(this.apiRoot()+"info",{},{type:"json"});return promise["finally"](function(g){this$.watchdog.cancel();this$.ui.loader.cancel();return this$.ui.loader.off()}).then(function(g){var ref$,e;lc.fetching=false;((ref$=ld$.fetch).headers||(ref$.headers={}))["X-CSRF-Token"]=g.csrfToken;g.ext=this$.inject(g)||{};getGlobal.resolve(JSON.parse(JSON.stringify(lc.global=g)));try{this$.fire("update",lc.global)}catch(e$){e=e$;this$.fire("error",e);console.log(e)}return lc.global})["catch"](function(e){if(lderror.id(e)===1029){return Promise.reject(e)}e.name="lderror";e.id=1007;this$.fire("error",e);console.log("server down: ",e);return new Promise(function(res,rej){})})},prompt:function(o){return this.ui.authpanel(true,o)},oauth:function(arg$){var name,this$=this;name=arg$.name;return this.get().then(function(g){var form,login;g==null&&(g={});if((g.user||(g.user={})).key){return g}this$.oauth.window=window.open("","oauth-login","height=640,width=560");this$.oauth.form=form=ld$.create({name:"div"});form.innerHTML='<form target="oauth-login" action="'+this$.apiRoot()+name+'/" method="post">\n  <input type="hidden" name="_csrf" value="'+g.csrfToken+'"/>\n</form>';document.body.appendChild(form);window.oauthLogin=login=proxise(function(){return ld$.find(form,"form",0).submit()});return login().then(function(){return this$.fetch({renew:true})})})["finally"](function(){if(!(this$.oauth.form&&this$.oauth.form.parentNode)){return}return this$.oauth.form.parentNode.removeChild(this$.oauth.form)}).then(function(g){g==null&&(g={});if(!(g.user||(g.user={})).key){return Promise.reject(new lderror(1e3))}else{return g}})["catch"](function(e){this$.fire("error",e);return Promise.reject(e)})},ensureVerified:function(){var this$=this;return this.fetch({renew:true}).then(function(g){if(((g.user||{}).verified||{}).date){return"done"}return this$._ldcvmgr.get({name:"@servebase/auth",path:"ensure-verified"})})}});auth.reset=function(){return window.location.href="/auth/reset"};if(typeof module!="undefined"&&module!==null){return module.exports=auth}else if(typeof window!="undefined"&&window!==null){return window.auth=auth}});function import$(obj,src){var own={}.hasOwnProperty;for(var key in src)if(own.call(src,key))obj[key]=src[key];return obj}}).call(this);
!function(){var c,t;c=function(t){return t.name+"@"+(t.version||"")+":"+(t.path||"")},(t=function(t){return this.mgr=(t=null==t?{}:t).manager,this.store=window.localStorage,this._apiRoot=t.api||"/api/consent",this.global={user:(t.global||{}).user},this.userkey=((t=this.global).user||(t.user={})).key||0,this._apiRoot=this._apiRoot.replace(/\/$/,""),this}).prototype=function(t,e){var n,r={}.hasOwnProperty;for(n in e)r.call(e,n)&&(t[n]=e[n]);return t}(Object.create(Object.prototype),{_keep:function(t,e){var n;if(null==e&&(e=!0),t="module/consent/"+this.userkey+"/"+c(t),this.store.setItem(t,JSON.stringify({time:Date.now(),user:((n=this.global).user||(n.user={})).key||0})),e)return ld$.fetch(this._apiRoot+"",{method:"POST"},{json:{consent_id:t}})},prompt:function(e){for(var n,r=this,t=[],o=1,i=arguments.length;o<i;++o)t.push(arguments[o]);return n=t,this.mgr.get(e).then(function(t){return t.create()}).then(function(t){return t.attach({root:document.body}).then(function(){return t.interface()})}).then(function(t){return t.get.apply(t,n)}).then(function(t){return t?r._keep(e):Promise.reject(lderror(1018))})},ensure:function(e){for(var t,n,r,o=this,i=[],s=1,u=arguments.length;s<u;++s)i.push(arguments[s]);if(t=i,n="module/consent/"+this.userkey+"/"+c(e),r=this.store.getItem(n))try{return JSON.parse(r),Promise.resolve(!0)}catch(t){0}return ld$.fetch(this._apiRoot+"",{method:"POST"},{json:{consent_id:n,check:!0},type:"json"}).then(function(t){return t?(o._keep(e,!1),!0):lderror.reject(1018)}).catch(function(){return o.prompt.apply(o,[e].concat(t))})}}),"undefined"!=typeof module&&null!==module?module.exports=t:window.consent=t}.call(this);
(function(){var captcha;captcha=function(opt){var this$=this;opt==null&&(opt={});this._cfg=opt.cfg;this.mgr=opt.manager;this.init=proxise.once(function(cfg){cfg==null&&(cfg={});return this$._init(cfg)});this._zmgr=opt.zmgr;return this};captcha.prototype=import$(Object.create(Object.prototype),{_init:function(cfg){var this$=this;if(cfg){this._cfg=cfg}return Promise.resolve().then(function(){return this$.mgr.get({name:"@servebase/captcha"})}).then(function(bc){return bc.create()}).then(function(bi){return bi.attach({root:document.body}).then(function(){return bi["interface"]()})}).then(function(cap){return this$.captcha=cap}).then(function(){return this$.captcha.init({cfg:this$._cfg,zmgr:this$._zmgr})})},guard:function(arg$){var cb;cb=arg$.cb;if(this._cfg&&(this._cfg.enabled==null||this._cfg.enabled)){return this.captcha.guard({cb:cb})}else{return Promise.resolve().then(function(){return cb({captcha:{}})})}}});if(typeof module!="undefined"&&module!==null){module.exports=captcha}else{window.captcha=captcha}function import$(obj,src){var own={}.hasOwnProperty;for(var key in src)if(own.call(src,key))obj[key]=src[key];return obj}}).call(this);
!function(){var r,e=function(r){var e=this;return null==r&&(r={}),"undefined"!=typeof window&&null!==window||console.warn("[@servebase/erratum] no window to listen to error/rejection"),window.addEventListener("error",function(r){return e.errorHandler(r)}),window.addEventListener("unhandledrejection",function(r){try{return e.rejectionHandler(r)}catch(r){return r}}),r.handler&&(this.handler=r.handler),this};e.prototype=((r=Object.create(Object.prototype)).handler=function(r){},r.errorHandler=function(r){if(!lderror.eventHandler.error(r))return this.handler(r.error)},r.rejectionHandler=function(r){if(!lderror.eventHandler.rejection(r))return this.handler(r.reason)},r.test=function(r){return(r=null==r?{}:r).bare?this._test(r):function(r){var e=this;return setTimeout(function(){return e._test(r)},0)}(r)},r._test=function(r){if(r.promise)return lderror.reject(1023);throw lderror(1023)},r),"undefined"!=typeof module&&null!==module?module.exports=e:window.erratum=e}.call(this);
(function(){var servebase;servebase={reset:function(){return auth.reset()},corectx:function(cb){return new Promise(function(res,rej){var ret;ret=ldc.register(["core"],function(o){return o.core.init().then(function(){if(cb){return cb.apply(o.core,[o])}}).then(res)["catch"](rej)});return ldc.init(ret)})},config:function(o){o==null&&(o={});if(this._inited){console.warn("[@servebase/core] `servebase.config` is called after `@servebase/core` is initialized.\n[@servebase/core] This may lead to inconsistent behavior.")}return this._cfg=o},_i18nInit:function(){var i18n,that,ref$,i18ncfg,this$=this;this.i18n=i18n=(that=((ref$=this._cfg).i18n||(ref$.i18n={})).driver)?that:typeof i18next!="undefined"&&i18next!==null?i18next:undefined;((ref$=this.hint).i18n||(ref$.i18n={})).placeholder=this._cfg.i18n.placeholder||false;if(i18n==null){return Promise.resolve()}block.i18n.use(i18n);i18ncfg={supportedLng:["en","zh-TW"],fallbackLng:"en",fallbackNS:"",defaultNS:"",keySeparator:".",nsSeparator:":"};if(this._cfg.i18n.cfg){i18ncfg=import$(i18ncfg,this._cfg.i18n.cfg)}return Promise.resolve().then(function(){return i18n.init(i18ncfg)}).then(function(){if(typeof i18nextBrowserLanguageDetector!="undefined"&&i18nextBrowserLanguageDetector!==null){return i18n.use(i18nextBrowserLanguageDetector)}}).then(function(){var ns,ref$,obj,lng,res;for(ns in ref$=this$._cfg.i18n.locales||{}){obj=ref$[ns];for(lng in obj){res=obj[lng];i18n.addResourceBundle(lng,ns,res,true,true)}}lng=(typeof httputil!="undefined"&&httputil!==null?httputil.qs("lng")||httputil.cookie("lng"):null)||navigator.language||navigator.userLanguage||"";if(typeof httputil!="undefined"&&httputil!==null&&httputil.qs("setlng")){lng=httputil.qs("setlng");httputil.cookie("lng",lng,{path:"/"})}if(!in$(lng,i18ncfg.supportedLng)){lng=/-/.exec(lng)&&in$(lng.split("-")[0],i18ncfg.supportedLng)?lng.split("-")[0]:i18ncfg.fallbackLng||i18ncfg.supportedLng[0]||"en"}console.log("[@servebase/core][i18n] use language: ",lng);return i18n.changeLanguage(lng)}).then(function(){i18n.on("languageChanged",function(lng){if(typeof httputil!="undefined"&&httputil!==null){console.log("[@servebase/core][i18n] language changed to "+lng+" / cookie updated");return httputil.cookie("lng",lng,{path:"/"})}else{return console.log("[@servebase/core][i18n] language changed to "+lng+" / no httputil, skip cookie update")}});return block.i18n.use(i18n)})},_init:function(o){var this$=this;servebase._inited=true;if(o!=null){servebase._cfg=o}this._cfg=servebase._cfg||{};if(typeof this._cfg==="function"){this._cfg=this._cfg()}this.global={};this.user={};this.hint={};this.zmgr=new zmgr;this.manager=this._cfg.manager||new block.manager({registry:function(arg$){var ns,url,name,version,path,type,that;ns=arg$.ns,url=arg$.url,name=arg$.name,version=arg$.version,path=arg$.path,type=arg$.type;if(that=url){return that}path=path||(type==="block"?"index.html":type?"index.min."+type:"index.min.js");if(ns==="local"){if(name==="error"||name==="cover"){return"/modules/"+name+"/"+(path||"index.html")}return"/modules/block/"+name+"/"+(path||"index.html")}return"/assets/lib/"+name+"/"+(version||"main")+"/"+path}});ldcover.zmgr(this.zmgr);return servebase._i18nInit.apply(this).then(function(){var ethr,err;this$.loader=new ldloader({className:"ldld full",autoZ:true,baseZ:null,zmgr:this$.zmgr.scope(zmgr.splash)});this$.captcha=new captcha({manager:this$.manager,zmgr:this$.zmgr.scope(zmgr.splash)});this$.ldcvmgr=new ldcvmgr({manager:this$.manager,errorCover:{ns:"local",name:"error",path:"0.html"},zmgr:this$.zmgr});ethr={t:0,c:0};err=new lderror.handler({handler:function(n,e){var t;t=Date.now();if(ethr.t<t-2e3){ethr.t=t;ethr.c=0}else if(!ethr.t){compose$({t:t,c:0},ethr)}else if(ethr.t>t-2e3&&ethr.c>10||ethr.t>t-500&&ethr.c>3){return alert("something is wrong; please reload and try again")}ethr.c=(ethr.c||0)+1;return this$.ldcvmgr.get({ns:"local",name:"error",path:n+".html"},e)}});this$.error=function(e){return err(e)};this$.error.ignore=function(){var ids;ids=Array.from(arguments);return function(e){if(!in$(lderror.id(e),ids)){return Promise.reject(e)}}};this$.erratum=new erratum({handler:err});this$.auth=new auth({ldcvmgr:this$.ldcvmgr,manager:this$.manager,zmgr:this$.zmgr,loader:this$.loader,authpanel:this$._cfg.auth?this$._cfg.auth.authpanel:null});if(typeof ldc!="undefined"&&ldc!==null){ldc.action("ldcvmgr",this$.ldcvmgr)}this$.update=function(g){return this.global=g,this.user=g.user||{},this};this$.auth.on("error",this$.error);this$.auth.on("logout",function(){return window.location.replace("/")});return this$.manager.init().then(function(){return this$.auth.get()}).then(function(g){this$.global=g;this$.user=g.user;return this$.captcha.init(g.captcha)}).then(function(){this$.auth.on("update",function(g){return this$.update(g)});return this$})})}};ldc.register("core",["corecfg"],function(arg$){var corecfg;corecfg=arg$.corecfg;if(corecfg!=null){servebase.config(corecfg)}return{init:proxise.once(function(o){return servebase._init.apply(this,[o])})}});if(typeof module!="undefined"&&module!==null){module.exports=servebase}else if(typeof window!="undefined"&&window!==null){window.servebase=servebase}function import$(obj,src){var own={}.hasOwnProperty;for(var key in src)if(own.call(src,key))obj[key]=src[key];return obj}function in$(x,xs){var i=-1,l=xs.length>>>0;while(++i<l)if(x===xs[i])return true;return false}function compose$(){var functions=arguments;return function(){var i,result;result=functions[0].apply(this,arguments);for(i=1;i<functions.length;++i){result=functions[i](result)}return result}}}).call(this);
(function(){ldc.register("navtop",["core"],function(arg$){var core,obj;core=arg$.core;obj={toggled:true,toggle:function(v){this.toggled=!!v;if(this.view){return this.view.render()}}};core.init().then(function(){return function(it){return it.apply(obj)}(function(){var auth,navtop,view,bar,dotst,tstTgt,that,this$=this;auth=core.auth;this.user=core.user;this.global=core.global;if(!(navtop=ld$.find('[ld-scope="@servebase/navtop"]',0))){return}this.update=function(g){var p;p=g?Promise.resolve(g):auth.get();return p.then(function(g){this$.global=g;this$.user=g.user||{};return view.render()})};auth.on("update",function(g){return this$.update(g)});this.view=view=new ldview({root:navtop,action:{click:{signup:function(){return auth.prompt({tab:"signup"}).then(function(){return this$.update()})},login:function(){return auth.prompt({tab:"login"}).then(function(){return this$.update()})},logout:function(){return auth.logout().then(function(){return this$.update()})},"set-lng":function(arg$){var node,views;node=arg$.node,views=arg$.views;core.i18n.changeLanguage(node.getAttribute("data-name"));return views[0].render("lng")}}},init:{t:function(arg$){var node;node=arg$.node;node.setAttribute("t",node.textContent);return node.innerText=""}},text:{displayname:function(){return this$.user.displayname||"User"},username:function(){return this$.user.username||"n/a"},lng:function(){var lng;if(!core.i18n){return}lng=core.i18n.language;return view.getAll("set-lng").filter(function(n){return(lng||"").toLowerCase()===(n.getAttribute("data-name")||"").toLowerCase()}).map(function(n){return n.getAttribute("data-alias")||n.innerText.trim()})[0]||lng},t:function(arg$){var node;node=arg$.node;return core.i18n?core.i18n.t("@servebase/navtop:"+(node.getAttribute("t")||"")):""},version:function(arg$){var node;node=arg$.node;return this$.global.version+"-"+(this$.global.cachestamp+"").slice(-4)}},handler:{"lng-picker":function(arg$){var node;node=arg$.node;return node.classList.toggle("d-none",!core.i18n||!!core.hint.i18n.placeholder)},"show-version":function(arg$){var node;node=arg$.node;return node.classList.toggle("d-none",false)},"@":function(arg$){var node;node=arg$.node;return node.style.display=this$.toggled?"block":"none"},admin:function(arg$){var node;node=arg$.node;return node.classList.toggle("d-none",!this$.user.staff)},unauthed:function(arg$){var node;node=arg$.node;return node.classList.toggle("d-none",!!this$.user.key)},authed:function(arg$){var node;node=arg$.node;return node.classList.toggle("d-none",!this$.user.key)},avatar:function(arg$){var node;node=arg$.node;return node.style.backgroundImage="url(/assets/avatar/"+this$.user.key+")"}}});if(core.i18n){core.i18n.on("languageChanged",function(){return view.render("lng","t")})}if(!(bar=view.get("root"))){return{}}dotst=(bar.getAttribute("data-classes")||"").split(";").map(function(it){return it.split(" ").filter(function(it){return it})});tstTgt=(that=bar.getAttribute("data-pivot"))?ld$.find(document,that,0):null;if(!(dotst.length&&tstTgt)){return}new IntersectionObserver(function(it){var n;if(!(n=it[0])){return}return(n.isIntersecting?[1,0]:[0,1]).forEach(function(d,i){return dotst[d].map(function(c){return bar.classList.toggle(c,i!==0)})})},{threshold:.1}).observe(tstTgt);return{}})});return obj})}).call(this);
!function(){var e,n,t,r,o;function i(e,t){var n,r={}.hasOwnProperty;for(n in t)r.call(t,n)&&(e[n]=t[n]);return e}if(e={},e={site:{init:function(e){return i(this.domain,(e=null==e?{}:e).domain||{})},domain:{},imgcdn:function(e){if(null==e&&(e={}),this.domain.file)return"string"==typeof e?"https://"+this.domain.file+"/resources/"+e:"https://"+this.domain.file+"/resources/"+e.type+"/"+e.slug+"."+(e.ext||"svg")+"?v="+(e.rev||1);throw lderror.reject(1022)}},editor:{_:{},_core:null,_init:function(t){var n=this;return null==t&&(t={}),this._core,Promise.resolve().then(function(){if(!n._core)return servebase.corectx(function(e){e=e.core;return n._core=e})}).then(function(){var e=[];if(t.type&&e.push({url:"/assets/bundle/editor."+t.type+".html?dec="+n._core.global.version}),e.length)return n._core.manager.debundle(e).then(function(){})})},get:function(e){var t=this,n=e.type,r=e.root,o=e.data,e=e.detach;return this._[n]&&null!=e&&!e?Promise.resolve(this._[n].interface):Promise.resolve().then(function(){return t._[n]?t._[n].instance.detach():t._init({type:n})}).then(function(){return t._core.manager.from({name:"@loadingio/editor",path:"block/"+n},{root:r,data:o})}).then(function(e){return e&&e.interface?e:(e=Math.random().toString(36).substring(2),t._core.manager.from({name:"@loadingio/editor",path:"block/"+n+"/index.html?"+e},{root:r,data:o}))}).then(function(e){return(t._[n]=e).interface})}},file:{upload:function(n){return(n=null==n?{}:n).blob&&n.info?ld$.fetch("/api/file",{method:"POST"},{type:"json",json:{info:n.info}}).then(function(e){var t;return(e=null==e?{}:e).url?(t={method:"PUT",body:n.blob,headers:{"Content-Type":n.info.type}},ld$.xhr(e.url,t,{noDefaultHeaders:!0,progress:function(e){if(n.progress)return n.progress(e)}}).then(function(){if(n.progress)return n.progress({percent:1})})):lderror.reject(400)}):lderror.reject(400)}}},null==n&&"undefined"!=typeof require&&null!==require&&(n=require("crypto")),t={user:{info:function(e){return{plan:(e=null==e?{}:e).plan||{},authed:e.key&&0<e.key,isPro:this.isPro(e),isBlocked:(!!e.config||{}).blocked}},planName:function(e){e=e&&e.plan&&e.plan.slug;return e?/month/i.exec(e)?"Monthly Pro":/year/i.exec(e)?"Yearly Pro":"Other":"Free"},isPro:function(e){return!!(e&&e.plan&&/pro/.exec(e.plan.slug||""))},asView:function(e){return{key:(e=null==e?{}:e).key,displayname:e.displayname,description:e.description,config:e.config,plan:e.plan}},generatePassword:function(){var t="23456789ABCDEFGHJKMNPQRSTWXY",e="undefined"!=typeof window&&null!==window&&window.crypto&&window.crypto.getRandomValues?window.crypto.getRandomValues(new Uint8Array(10)):n.randomFillSync(new Uint32Array(10));return"GEN-"+Array.from(e).map(function(e){return t[e%t.length]}).join("")}},utils:{datefmt:function(e){var t,n=e.date,r=e.time,e=e.span,n=n||new Date;return isNaN(n.getTime())?"-":(t=(Date.now()-n.getTime())/1e3,null!=e&&t<259200?t<120?"seconds ago":t<7200?Math.ceil(t/60)+" mins ago":t<86400?Math.ceil(t/3600)+" hours ago":Math.ceil(t/86400)+" days ago":(e=[(n.getYear()+1900+"").padStart(4,"0"),(n.getMonth()+1+"").padStart(2,"0"),(n.getDate()+"").padStart(2,"0")].join("/"),r?e+" "+[(n.getHours()+"").padStart(2,"0"),(n.getMinutes()+"").padStart(2,"0"),(n.getSeconds()+"").padStart(2,"0")].join(":"):e))}},bill_agreement:{order:function(e){var t={active:5,canceled:4,suspended:3,deleted:2,pending:1,invalid:0};return e.forEach(function(e){return e.order={state:t[e.state]||0,createdtime:isNaN(e=new Date(e.createdtime).getTime())?-1:e}}),e.sort(function(e,t){var n=[e.order,t.order],r=n[0],n=n[1];return r.state>n.state?-1:r.state<n.state?1:r.createdtime>n.createdtime?-1:r.createdtime<n.createdtime?1:t.key-e.key}),e},asView:function(e){var t,n;return(t={key:(e=null==e?{}:e).key,owner:e.owner,plan:e.plan,createdtime:e.createdtime,checktime:e.checktime,lastpay:e.lastpay,invoice:e.invoice,cfg:e.cfg,state:e.state,gateway:e.gateway,deleted:e.deleted}).gwinfo={common:(n=e.gwinfo||(e.gwinfo={})).common||(n.common={}),tappay:{cardinfo:{country:(e=(n=(e=e.gwinfo||(e.gwinfo={})).tappay||(e.tappay={})).cardinfo||(n.cardinfo={})).country,lastfour:e.lastfour,expirydate:e.expirydate,issuer:e.issuer}}},t}},payment:{asView:function(e){var t,n;return(t={key:(e=null==e?{}:e).key,owner:e.owner,type:e.type,name:e.name,ref:e.ref,amount:e.amount,currency:e.currency,createdtime:e.createdtime,state:e.state,invoice:e.invoice,deleted:e.deleted}).gwinfo={common:(n=e.gwinfo||(e.gwinfo={})).common||(n.common={}),tappay:{cardinfo:{country:(e=(n=(e=e.gwinfo||(e.gwinfo={})).tappay||(e.tappay={})).cardinfo||(n.cardinfo={})).country,lastfour:e.lastfour,expirydate:e.expirydate,issuer:e.issuer}}},t}},plan:{isStateValid:function(e){e=e.state;return"active"===e||"suspended"===e||"canceled"===e||"deleted"===e}}},null!=e)for(r in t)"object"==typeof(o=t[r])?i(e[r]||(e[r]={}),o):e[r]=o;function i(e,t){var n,r={}.hasOwnProperty;for(n in t)r.call(t,n)&&(e[n]=t[n]);return e}"undefined"!=typeof module&&null!==module?module.exports=e:"undefined"!=typeof window&&null!==window&&(window.ldiolib=e)}();
/*! @license DOMPurify 2.5.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.5.0/LICENSE */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).DOMPurify=t()}(this,(function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,n){return t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(e,n)}function n(e,r,o){return n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,n,r){var o=[null];o.push.apply(o,n);var a=new(Function.bind.apply(e,o));return r&&t(a,r.prototype),a},n.apply(null,arguments)}function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a=Object.hasOwnProperty,i=Object.setPrototypeOf,l=Object.isFrozen,c=Object.getPrototypeOf,u=Object.getOwnPropertyDescriptor,s=Object.freeze,m=Object.seal,f=Object.create,p="undefined"!=typeof Reflect&&Reflect,d=p.apply,h=p.construct;d||(d=function(e,t,n){return e.apply(t,n)}),s||(s=function(e){return e}),m||(m=function(e){return e}),h||(h=function(e,t){return n(e,r(t))});var g,y=O(Array.prototype.forEach),b=O(Array.prototype.pop),T=O(Array.prototype.push),v=O(String.prototype.toLowerCase),N=O(String.prototype.toString),E=O(String.prototype.match),A=O(String.prototype.replace),S=O(String.prototype.indexOf),w=O(String.prototype.trim),_=O(RegExp.prototype.test),x=(g=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return h(g,t)});function O(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return d(e,t,r)}}function k(e,t,n){var r;n=null!==(r=n)&&void 0!==r?r:v,i&&i(e,null);for(var o=t.length;o--;){var a=t[o];if("string"==typeof a){var c=n(a);c!==a&&(l(t)||(t[o]=c),a=c)}e[a]=!0}return e}function L(e){var t,n=f(null);for(t in e)!0===d(a,e,[t])&&(n[t]=e[t]);return n}function C(e,t){for(;null!==e;){var n=u(e,t);if(n){if(n.get)return O(n.get);if("function"==typeof n.value)return O(n.value)}e=c(e)}return function(e){return console.warn("fallback value for",e),null}}var D=s(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),R=s(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),M=s(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),I=s(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),F=s(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),U=s(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),H=s(["#text"]),z=s(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),P=s(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),j=s(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),B=s(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),G=m(/\{\{[\w\W]*|[\w\W]*\}\}/gm),W=m(/<%[\w\W]*|[\w\W]*%>/gm),q=m(/\${[\w\W]*}/gm),Y=m(/^data-[\-\w.\u00B7-\uFFFF]/),$=m(/^aria-[\-\w]+$/),K=m(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),V=m(/^(?:\w+script|data):/i),X=m(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Z=m(/^html$/i),J=m(/^[a-z][.\w]*(-[.\w]+)+$/i),Q=function(){return"undefined"==typeof window?null:window};var ee=function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q(),o=function(e){return t(e)};if(o.version="2.5.0",o.removed=[],!n||!n.document||9!==n.document.nodeType)return o.isSupported=!1,o;var a=n.document,i=n.document,l=n.DocumentFragment,c=n.HTMLTemplateElement,u=n.Node,m=n.Element,f=n.NodeFilter,p=n.NamedNodeMap,d=void 0===p?n.NamedNodeMap||n.MozNamedAttrMap:p,h=n.HTMLFormElement,g=n.DOMParser,O=n.trustedTypes,ee=m.prototype,te=C(ee,"cloneNode"),ne=C(ee,"nextSibling"),re=C(ee,"childNodes"),oe=C(ee,"parentNode");if("function"==typeof c){var ae=i.createElement("template");ae.content&&ae.content.ownerDocument&&(i=ae.content.ownerDocument)}var ie=function(t,n){if("object"!==e(t)||"function"!=typeof t.createPolicy)return null;var r=null,o="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(o)&&(r=n.currentScript.getAttribute(o));var a="dompurify"+(r?"#"+r:"");try{return t.createPolicy(a,{createHTML:function(e){return e},createScriptURL:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+a+" could not be created."),null}}(O,a),le=ie?ie.createHTML(""):"",ce=i,ue=ce.implementation,se=ce.createNodeIterator,me=ce.createDocumentFragment,fe=ce.getElementsByTagName,pe=a.importNode,de={};try{de=L(i).documentMode?i.documentMode:{}}catch(e){}var he={};o.isSupported="function"==typeof oe&&ue&&void 0!==ue.createHTMLDocument&&9!==de;var ge,ye,be=G,Te=W,ve=q,Ne=Y,Ee=$,Ae=V,Se=X,we=J,_e=K,xe=null,Oe=k({},[].concat(r(D),r(R),r(M),r(F),r(H))),ke=null,Le=k({},[].concat(r(z),r(P),r(j),r(B))),Ce=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),De=null,Re=null,Me=!0,Ie=!0,Fe=!1,Ue=!0,He=!1,ze=!0,Pe=!1,je=!1,Be=!1,Ge=!1,We=!1,qe=!1,Ye=!0,$e=!1,Ke=!0,Ve=!1,Xe={},Ze=null,Je=k({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Qe=null,et=k({},["audio","video","img","source","image","track"]),tt=null,nt=k({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),rt="http://www.w3.org/1998/Math/MathML",ot="http://www.w3.org/2000/svg",at="http://www.w3.org/1999/xhtml",it=at,lt=!1,ct=null,ut=k({},[rt,ot,at],N),st=["application/xhtml+xml","text/html"],mt=null,ft=i.createElement("form"),pt=function(e){return e instanceof RegExp||e instanceof Function},dt=function(t){mt&&mt===t||(t&&"object"===e(t)||(t={}),t=L(t),ge=ge=-1===st.indexOf(t.PARSER_MEDIA_TYPE)?"text/html":t.PARSER_MEDIA_TYPE,ye="application/xhtml+xml"===ge?N:v,xe="ALLOWED_TAGS"in t?k({},t.ALLOWED_TAGS,ye):Oe,ke="ALLOWED_ATTR"in t?k({},t.ALLOWED_ATTR,ye):Le,ct="ALLOWED_NAMESPACES"in t?k({},t.ALLOWED_NAMESPACES,N):ut,tt="ADD_URI_SAFE_ATTR"in t?k(L(nt),t.ADD_URI_SAFE_ATTR,ye):nt,Qe="ADD_DATA_URI_TAGS"in t?k(L(et),t.ADD_DATA_URI_TAGS,ye):et,Ze="FORBID_CONTENTS"in t?k({},t.FORBID_CONTENTS,ye):Je,De="FORBID_TAGS"in t?k({},t.FORBID_TAGS,ye):{},Re="FORBID_ATTR"in t?k({},t.FORBID_ATTR,ye):{},Xe="USE_PROFILES"in t&&t.USE_PROFILES,Me=!1!==t.ALLOW_ARIA_ATTR,Ie=!1!==t.ALLOW_DATA_ATTR,Fe=t.ALLOW_UNKNOWN_PROTOCOLS||!1,Ue=!1!==t.ALLOW_SELF_CLOSE_IN_ATTR,He=t.SAFE_FOR_TEMPLATES||!1,ze=!1!==t.SAFE_FOR_XML,Pe=t.WHOLE_DOCUMENT||!1,Ge=t.RETURN_DOM||!1,We=t.RETURN_DOM_FRAGMENT||!1,qe=t.RETURN_TRUSTED_TYPE||!1,Be=t.FORCE_BODY||!1,Ye=!1!==t.SANITIZE_DOM,$e=t.SANITIZE_NAMED_PROPS||!1,Ke=!1!==t.KEEP_CONTENT,Ve=t.IN_PLACE||!1,_e=t.ALLOWED_URI_REGEXP||_e,it=t.NAMESPACE||at,Ce=t.CUSTOM_ELEMENT_HANDLING||{},t.CUSTOM_ELEMENT_HANDLING&&pt(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ce.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&pt(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ce.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Ce.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),He&&(Ie=!1),We&&(Ge=!0),Xe&&(xe=k({},r(H)),ke=[],!0===Xe.html&&(k(xe,D),k(ke,z)),!0===Xe.svg&&(k(xe,R),k(ke,P),k(ke,B)),!0===Xe.svgFilters&&(k(xe,M),k(ke,P),k(ke,B)),!0===Xe.mathMl&&(k(xe,F),k(ke,j),k(ke,B))),t.ADD_TAGS&&(xe===Oe&&(xe=L(xe)),k(xe,t.ADD_TAGS,ye)),t.ADD_ATTR&&(ke===Le&&(ke=L(ke)),k(ke,t.ADD_ATTR,ye)),t.ADD_URI_SAFE_ATTR&&k(tt,t.ADD_URI_SAFE_ATTR,ye),t.FORBID_CONTENTS&&(Ze===Je&&(Ze=L(Ze)),k(Ze,t.FORBID_CONTENTS,ye)),Ke&&(xe["#text"]=!0),Pe&&k(xe,["html","head","body"]),xe.table&&(k(xe,["tbody"]),delete De.tbody),s&&s(t),mt=t)},ht=k({},["mi","mo","mn","ms","mtext"]),gt=k({},["foreignobject","desc","title","annotation-xml"]),yt=k({},["title","style","font","a","script"]),bt=k({},R);k(bt,M),k(bt,I);var Tt=k({},F);k(Tt,U);var vt=function(e){T(o.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=le}catch(t){e.remove()}}},Nt=function(e,t){try{T(o.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){T(o.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!ke[e])if(Ge||We)try{vt(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},Et=function(e){var t,n;if(Be)e="<remove></remove>"+e;else{var r=E(e,/^[\r\n\t ]+/);n=r&&r[0]}"application/xhtml+xml"===ge&&it===at&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var o=ie?ie.createHTML(e):e;if(it===at)try{t=(new g).parseFromString(o,ge)}catch(e){}if(!t||!t.documentElement){t=ue.createDocument(it,"template",null);try{t.documentElement.innerHTML=lt?le:o}catch(e){}}var a=t.body||t.documentElement;return e&&n&&a.insertBefore(i.createTextNode(n),a.childNodes[0]||null),it===at?fe.call(t,Pe?"html":"body")[0]:Pe?t.documentElement:a},At=function(e){return se.call(e.ownerDocument||e,e,f.SHOW_ELEMENT|f.SHOW_COMMENT|f.SHOW_TEXT|f.SHOW_PROCESSING_INSTRUCTION|f.SHOW_CDATA_SECTION,null,!1)},St=function(t){return"object"===e(u)?t instanceof u:t&&"object"===e(t)&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},wt=function(e,t,n){he[e]&&y(he[e],(function(e){e.call(o,t,n,mt)}))},_t=function(e){var t,n;if(wt("beforeSanitizeElements",e,null),(n=e)instanceof h&&("string"!=typeof n.nodeName||"string"!=typeof n.textContent||"function"!=typeof n.removeChild||!(n.attributes instanceof d)||"function"!=typeof n.removeAttribute||"function"!=typeof n.setAttribute||"string"!=typeof n.namespaceURI||"function"!=typeof n.insertBefore||"function"!=typeof n.hasChildNodes))return vt(e),!0;if(_(/[\u0080-\uFFFF]/,e.nodeName))return vt(e),!0;var r=ye(e.nodeName);if(wt("uponSanitizeElement",e,{tagName:r,allowedTags:xe}),e.hasChildNodes()&&!St(e.firstElementChild)&&(!St(e.content)||!St(e.content.firstElementChild))&&_(/<[/\w]/g,e.innerHTML)&&_(/<[/\w]/g,e.textContent))return vt(e),!0;if("select"===r&&_(/<template/i,e.innerHTML))return vt(e),!0;if(7===e.nodeType)return vt(e),!0;if(ze&&8===e.nodeType&&_(/<[/\w]/g,e.data))return vt(e),!0;if(!xe[r]||De[r]){if(!De[r]&&Ot(r)){if(Ce.tagNameCheck instanceof RegExp&&_(Ce.tagNameCheck,r))return!1;if(Ce.tagNameCheck instanceof Function&&Ce.tagNameCheck(r))return!1}if(Ke&&!Ze[r]){var a=oe(e)||e.parentNode,i=re(e)||e.childNodes;if(i&&a)for(var l=i.length-1;l>=0;--l)a.insertBefore(te(i[l],!0),ne(e))}return vt(e),!0}return e instanceof m&&!function(e){var t=oe(e);t&&t.tagName||(t={namespaceURI:it,tagName:"template"});var n=v(e.tagName),r=v(t.tagName);return!!ct[e.namespaceURI]&&(e.namespaceURI===ot?t.namespaceURI===at?"svg"===n:t.namespaceURI===rt?"svg"===n&&("annotation-xml"===r||ht[r]):Boolean(bt[n]):e.namespaceURI===rt?t.namespaceURI===at?"math"===n:t.namespaceURI===ot?"math"===n&&gt[r]:Boolean(Tt[n]):e.namespaceURI===at?!(t.namespaceURI===ot&&!gt[r])&&!(t.namespaceURI===rt&&!ht[r])&&!Tt[n]&&(yt[n]||!bt[n]):!("application/xhtml+xml"!==ge||!ct[e.namespaceURI]))}(e)?(vt(e),!0):"noscript"!==r&&"noembed"!==r&&"noframes"!==r||!_(/<\/no(script|embed|frames)/i,e.innerHTML)?(He&&3===e.nodeType&&(t=e.textContent,t=A(t,be," "),t=A(t,Te," "),t=A(t,ve," "),e.textContent!==t&&(T(o.removed,{element:e.cloneNode()}),e.textContent=t)),wt("afterSanitizeElements",e,null),!1):(vt(e),!0)},xt=function(e,t,n){if(Ye&&("id"===t||"name"===t)&&(n in i||n in ft))return!1;if(Ie&&!Re[t]&&_(Ne,t));else if(Me&&_(Ee,t));else if(!ke[t]||Re[t]){if(!(Ot(e)&&(Ce.tagNameCheck instanceof RegExp&&_(Ce.tagNameCheck,e)||Ce.tagNameCheck instanceof Function&&Ce.tagNameCheck(e))&&(Ce.attributeNameCheck instanceof RegExp&&_(Ce.attributeNameCheck,t)||Ce.attributeNameCheck instanceof Function&&Ce.attributeNameCheck(t))||"is"===t&&Ce.allowCustomizedBuiltInElements&&(Ce.tagNameCheck instanceof RegExp&&_(Ce.tagNameCheck,n)||Ce.tagNameCheck instanceof Function&&Ce.tagNameCheck(n))))return!1}else if(tt[t]);else if(_(_e,A(n,Se,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==S(n,"data:")||!Qe[e]){if(Fe&&!_(Ae,A(n,Se,"")));else if(n)return!1}else;return!0},Ot=function(e){return"annotation-xml"!==e&&E(e,we)},kt=function(t){var n,r,a,i;wt("beforeSanitizeAttributes",t,null);var l=t.attributes;if(l){var c={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ke};for(i=l.length;i--;){var u=n=l[i],s=u.name,m=u.namespaceURI;if(r="value"===s?n.value:w(n.value),a=ye(s),c.attrName=a,c.attrValue=r,c.keepAttr=!0,c.forceKeepAttr=void 0,wt("uponSanitizeAttribute",t,c),r=c.attrValue,!c.forceKeepAttr&&(Nt(s,t),c.keepAttr))if(Ue||!_(/\/>/i,r)){He&&(r=A(r,be," "),r=A(r,Te," "),r=A(r,ve," "));var f=ye(t.nodeName);if(xt(f,a,r)){if(!$e||"id"!==a&&"name"!==a||(Nt(s,t),r="user-content-"+r),ie&&"object"===e(O)&&"function"==typeof O.getAttributeType)if(m);else switch(O.getAttributeType(f,a)){case"TrustedHTML":r=ie.createHTML(r);break;case"TrustedScriptURL":r=ie.createScriptURL(r)}try{m?t.setAttributeNS(m,s,r):t.setAttribute(s,r),b(o.removed)}catch(e){}}}else Nt(s,t)}wt("afterSanitizeAttributes",t,null)}},Lt=function e(t){var n,r=At(t);for(wt("beforeSanitizeShadowDOM",t,null);n=r.nextNode();)wt("uponSanitizeShadowNode",n,null),_t(n)||(n.content instanceof l&&e(n.content),kt(n));wt("afterSanitizeShadowDOM",t,null)};return o.sanitize=function(t){var r,i,c,s,m,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((lt=!t)&&(t="\x3c!--\x3e"),"string"!=typeof t&&!St(t)){if("function"!=typeof t.toString)throw x("toString is not a function");if("string"!=typeof(t=t.toString()))throw x("dirty is not a string, aborting")}if(!o.isSupported){if("object"===e(n.toStaticHTML)||"function"==typeof n.toStaticHTML){if("string"==typeof t)return n.toStaticHTML(t);if(St(t))return n.toStaticHTML(t.outerHTML)}return t}if(je||dt(f),o.removed=[],"string"==typeof t&&(Ve=!1),Ve){if(t.nodeName){var p=ye(t.nodeName);if(!xe[p]||De[p])throw x("root node is forbidden and cannot be sanitized in-place")}}else if(t instanceof u)1===(i=(r=Et("\x3c!----\x3e")).ownerDocument.importNode(t,!0)).nodeType&&"BODY"===i.nodeName||"HTML"===i.nodeName?r=i:r.appendChild(i);else{if(!Ge&&!He&&!Pe&&-1===t.indexOf("<"))return ie&&qe?ie.createHTML(t):t;if(!(r=Et(t)))return Ge?null:qe?le:""}r&&Be&&vt(r.firstChild);for(var d=At(Ve?t:r);c=d.nextNode();)3===c.nodeType&&c===s||_t(c)||(c.content instanceof l&&Lt(c.content),kt(c),s=c);if(s=null,Ve)return t;if(Ge){if(We)for(m=me.call(r.ownerDocument);r.firstChild;)m.appendChild(r.firstChild);else m=r;return(ke.shadowroot||ke.shadowrootmod)&&(m=pe.call(a,m,!0)),m}var h=Pe?r.outerHTML:r.innerHTML;return Pe&&xe["!doctype"]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&_(Z,r.ownerDocument.doctype.name)&&(h="<!DOCTYPE "+r.ownerDocument.doctype.name+">\n"+h),He&&(h=A(h,be," "),h=A(h,Te," "),h=A(h,ve," ")),ie&&qe?ie.createHTML(h):h},o.setConfig=function(e){dt(e),je=!0},o.clearConfig=function(){mt=null,je=!1},o.isValidAttribute=function(e,t,n){mt||dt({});var r=ye(e),o=ye(t);return xt(r,o,n)},o.addHook=function(e,t){"function"==typeof t&&(he[e]=he[e]||[],T(he[e],t))},o.removeHook=function(e){if(he[e])return b(he[e])},o.removeHooks=function(e){he[e]&&(he[e]=[])},o.removeAllHooks=function(){he={}},o}();return ee}));
//# sourceMappingURL=purify.min.js.map
var cbad,initScript,initBundle;ldc.register("corecfg",[],function(){return function(){var l=this;return{i18n:{cfg:{supportedLng:["en"],fallbackLng:"en",fallbackNS:"",defaultNS:"",keySeparator:".",nsSeparator:":"}},auth:{authpanel:{ns:"local",name:"authpanel"}},manager:new block.manager({registry:function(e){var n=e.url,t=e.ns,o=e.name,i=e.version,r=e.path,e=e.type,a="?dec="+(l.global.version||"");return null!=n?n+""+a:(r=r||("block"===e?"index.html":e?"index.min."+e:"index.min.js"),i=i||"main",("ldsilo"===t?"/assets/mod/"+o.replace(/^@/,"")+"/"+r:"local"===t?"error"===o||"cover"===o?"/modules/"+o+"/"+r:"/modules/block/"+o+"/"+r:"/assets/lib/"+o+"/"+i+"/"+r)+a)}})}}}),(cbad=function(){var e,n;if(e=document.getElementById("_cbadldr"))return ld$.find(e.parentNode,".i-close",0).addEventListener("click",function(){return this.parentNode.parentNode.removeChild(this.parentNode)}),/dev/.exec(window.location.origin)?(n=document.createElement("div")).innerHTML='<div class="carbonads"><span><span class="carbon-wrap"><a class="carbon-img" href="#"><img style="background-image:url(data:image/gif;base64,R0lGODlhDAAMAIAAAP///+rq6iH5BAAAAAAALAAAAAAMAAwAQAIUjA+pm+fPwAsxTjshu1tXxS0h+BQAOw==)" alt="" border="0" height="100" width="130" style="max-width:130px"></a><a class="carbon-text href="#">Local version of Carbon Ads; Click and exposure dont count.</a></span><a class="carbon-poweredby" href="#">ads via Carbon</a></span></div>':((n=document.createElement("script")).async=1,n.id="_carbonads_js",n.src="//cdn.carbonads.com/carbon.js?serve=CKYI5K7J&placement=loadingio"),e.appendChild(n)})(),initScript=proxise.once(function(e){var n,t,o=this,i=e.viewlocals,r=(e.navtop,e.core),a=r.auth,l=r.user;r.manager;if(this.view={},this.user=r.user,this.global=r.global,ldiolib.site.init(r.global.config),"undefined"!=typeof Sentry&&null!==Sentry&&(e=window.location.host+"@"+r.global.version,console.log("[sentry] initializing ( "+e+" ) "),Sentry.configureScope(function(e){return Sentry.setUser({id:r.user.key||0})})),console.log("[service mode]",r.global.production?"production":"dev"),r.global.production||console.log("[viewlocals]: ",i),this.update=function(e){return(e?Promise.resolve(e):a.get()).then(function(e){return o.global=e,o.user=e.user||{},o.view.panel&&o.view.panel.render(),o.view.navtop&&o.view.navtop.render(),n.check(),o.view.main.render()})},a.on("update",function(e){return o.update(e)}),this.view.main=new ldview({root:document.body,handler:{"is-staff":function(e){return e.node.classList.toggle("d-none",!o.user.staff)}}}),(n={dom:ld$.find("[ld-scope=cookie-consent]",0),val:httputil.cookie("legal")||httputil.cookie("consent.cookie")||(l.config||(l.config={})).consent||(l.config||(l.config={})).legal,clear:function(){if(this.dom)return ld$.remove(this.dom),this.dom=null},update:function(){return this.clear(),ld$.fetch("/api/me/config",{method:"POST"},{json:{consent:{cookie:this.val}}}).catch(function(){})},check:function(){var t=this;return a.get().then(function(e){var n,e=e.user;return(t.val=(e.config||(e.config={})).legal||((n=e.config).consent||(n.consent={})).cookie)?t.clear():(t.val=httputil.cookie("legal")||httputil.cookie("consent.cookie"))&&e.key?t.update():void 0})},init:function(){var n=this;if(!this.val&&this.dom)return this.dom.classList.remove("d-none"),ld$.find(this.dom,"[ld=ok]",0).addEventListener("click",function(){var e;return n.val=((e=l.config||(l.config={})).consent||(e.consent={})).cookie=e=(new Date).getTime(),httputil.cookie("consent.cookie",e,new Date(Date.now()+31536e8).toGMTString()),n.update()})}}).init(),e=ld$.find('[ld-scope="@servebase/navtop"]',0))return t=function(){return!!(o.global.user.plan||{}).slug},this.view.navtop=new ldview({root:e,handler:{plan:function(e){e=e.node;return e.innerText=t()?"PRO":"FREE",e.classList.toggle("badge-primary",t()),e.classList.toggle("badge-secondary",!t())},"free-user":function(e){return e.node.classList.toggle("d-none",t())}}})}),initBundle=function(t){var e=Array.from(document.querySelectorAll("link[rel=block]")),n=Array.from(document.querySelectorAll("template[rel=block]"));return Promise.all([Promise.all(e.map(function(e){var e=e.getAttribute("href")||"",n=(~e.indexOf("?")?"&":"?")+"dec="+(t.global.version||"")+"-"+(t.global.cachestamp||"");return t.manager.debundle({url:e=e+""+n})})),Promise.all(n.map(function(e){return t.manager.debundle({root:e})}))])},ldc.register("site",["viewlocals","navtop","core"],function(e){return e.core.init().then(function(){return Promise.all([initScript.apply({},[e]),initBundle(e.core)])}).then(function(){return e})}),ldc.app("site");